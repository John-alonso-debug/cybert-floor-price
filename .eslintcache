[{"/Users/helen/fi/protocol-demo/frontend/src/index.tsx":"1","/Users/helen/fi/protocol-demo/frontend/src/styles.ts":"2","/Users/helen/fi/protocol-demo/frontend/src/App.tsx":"3","/Users/helen/fi/protocol-demo/frontend/src/helpers/utilities.ts":"4","/Users/helen/fi/protocol-demo/frontend/src/helpers/box.ts":"5","/Users/helen/fi/protocol-demo/frontend/src/helpers/web3.ts":"6","/Users/helen/fi/protocol-demo/frontend/src/components/Wrapper.tsx":"7","/Users/helen/fi/protocol-demo/frontend/src/components/Loader.tsx":"8","/Users/helen/fi/protocol-demo/frontend/src/components/Button.tsx":"9","/Users/helen/fi/protocol-demo/frontend/src/components/Column.tsx":"10","/Users/helen/fi/protocol-demo/frontend/src/components/Modal.tsx":"11","/Users/helen/fi/protocol-demo/frontend/src/components/Header.tsx":"12","/Users/helen/fi/protocol-demo/frontend/src/components/AccountAssets.tsx":"13","/Users/helen/fi/protocol-demo/frontend/src/components/ModalResult.tsx":"14","/Users/helen/fi/protocol-demo/frontend/src/components/ConnectButton.tsx":"15","/Users/helen/fi/protocol-demo/frontend/src/constants/index.ts":"16","/Users/helen/fi/protocol-demo/frontend/src/helpers/api.ts":"17","/Users/helen/fi/protocol-demo/frontend/src/helpers/chains.ts":"18","/Users/helen/fi/protocol-demo/frontend/src/helpers/bignumber.ts":"19","/Users/helen/fi/protocol-demo/frontend/src/helpers/dev.ts":"20","/Users/helen/fi/protocol-demo/frontend/src/components/Blockie.tsx":"21","/Users/helen/fi/protocol-demo/frontend/src/components/Banner.tsx":"22","/Users/helen/fi/protocol-demo/frontend/src/components/AssetRow.tsx":"23","/Users/helen/fi/protocol-demo/frontend/src/constants/actions.ts":"24","/Users/helen/fi/protocol-demo/frontend/src/constants/contracts.ts":"25","/Users/helen/fi/protocol-demo/frontend/src/constants/functions.ts":"26","/Users/helen/fi/protocol-demo/frontend/src/components/Icon.tsx":"27","/Users/helen/fi/protocol-demo/frontend/src/components/ERC20Icon.tsx":"28","/Users/helen/fi/protocol-demo/frontend/src/helpers/time.ts":"29","/Users/helen/fi/protocol-demo/frontend/src/App_bsc.tsx":"30","/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_usdp.tsx":"31","/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_usdn.tsx":"32","/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_lusd.tsx":"33","/Users/helen/fi/protocol-demo/frontend/src/App_sign.tsx":"34","/Users/helen/fi/protocol-demo/frontend/src/App_matic.tsx":"35","/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_alusd.tsx":"36","/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_lusd_new.tsx":"37","/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_busd.tsx":"38","/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_iron.tsx":"39","/Users/helen/fi/protocol-demo/frontend/src/App_takuo.tsx":"40","/Users/helen/cybert/floor-price-front/frontend/src/index.tsx":"41","/Users/helen/cybert/floor-price-front/frontend/src/styles.ts":"42","/Users/helen/cybert/floor-price-front/frontend/src/App_opensea.tsx":"43","/Users/helen/cybert/floor-price-front/frontend/src/helpers/utilities.ts":"44","/Users/helen/cybert/floor-price-front/frontend/src/components/Header.tsx":"45","/Users/helen/cybert/floor-price-front/frontend/src/components/Column.tsx":"46","/Users/helen/cybert/floor-price-front/frontend/src/components/Wrapper.tsx":"47","/Users/helen/cybert/floor-price-front/frontend/src/components/Button.tsx":"48","/Users/helen/cybert/floor-price-front/frontend/src/components/Loader.tsx":"49","/Users/helen/cybert/floor-price-front/frontend/src/components/ConnectButton.tsx":"50","/Users/helen/cybert/floor-price-front/frontend/src/helpers/api.ts":"51","/Users/helen/cybert/floor-price-front/frontend/src/helpers/bignumber.ts":"52","/Users/helen/cybert/floor-price-front/frontend/src/helpers/chains.ts":"53","/Users/helen/cybert/floor-price-front/frontend/src/components/Blockie.tsx":"54","/Users/helen/cybert/floor-price-front/frontend/src/components/Banner.tsx":"55"},{"size":562,"mtime":1637137170335,"results":"56","hashOfConfig":"57"},{"size":4243,"mtime":1617782624567,"results":"58","hashOfConfig":"57"},{"size":19206,"mtime":1638853158577,"results":"59","hashOfConfig":"57"},{"size":6607,"mtime":1617782624575,"results":"60","hashOfConfig":"57"},{"size":4311,"mtime":1617782624577,"results":"61","hashOfConfig":"57"},{"size":1041,"mtime":1617782624576,"results":"62","hashOfConfig":"57"},{"size":979,"mtime":1617782624571,"results":"63","hashOfConfig":"57"},{"size":1984,"mtime":1617782624568,"results":"64","hashOfConfig":"57"},{"size":3453,"mtime":1617782624570,"results":"65","hashOfConfig":"57"},{"size":1178,"mtime":1617782624572,"results":"66","hashOfConfig":"57"},{"size":4179,"mtime":1617782624571,"results":"67","hashOfConfig":"57"},{"size":2572,"mtime":1617782624570,"results":"68","hashOfConfig":"57"},{"size":1499,"mtime":1617782624569,"results":"69","hashOfConfig":"57"},{"size":1734,"mtime":1617782624569,"results":"70","hashOfConfig":"57"},{"size":3323,"mtime":1617782624571,"results":"71","hashOfConfig":"57"},{"size":82,"mtime":1617782624567,"results":"72","hashOfConfig":"57"},{"size":1258,"mtime":1617782624575,"results":"73","hashOfConfig":"57"},{"size":4814,"mtime":1621219828664,"results":"74","hashOfConfig":"57"},{"size":5192,"mtime":1617782624576,"results":"75","hashOfConfig":"57"},{"size":693,"mtime":1617782624575,"results":"76","hashOfConfig":"57"},{"size":953,"mtime":1617782624569,"results":"77","hashOfConfig":"57"},{"size":707,"mtime":1617782624568,"results":"78","hashOfConfig":"57"},{"size":1764,"mtime":1617782624572,"results":"79","hashOfConfig":"57"},{"size":287,"mtime":1617782624567,"results":"80","hashOfConfig":"57"},{"size":1048,"mtime":1617782624567,"results":"81","hashOfConfig":"57"},{"size":93,"mtime":1617782624568,"results":"82","hashOfConfig":"57"},{"size":704,"mtime":1617782624569,"results":"83","hashOfConfig":"57"},{"size":540,"mtime":1617782624570,"results":"84","hashOfConfig":"57"},{"size":528,"mtime":1618557783591,"results":"85","hashOfConfig":"57"},{"size":41452,"mtime":1620112691811,"results":"86","hashOfConfig":"57"},{"size":45145,"mtime":1622543694481,"results":"87","hashOfConfig":"57"},{"size":35194,"mtime":1622545063357,"results":"88","hashOfConfig":"57"},{"size":36814,"mtime":1621940694921,"results":"89","hashOfConfig":"57"},{"size":11188,"mtime":1621618693497,"results":"90","hashOfConfig":"57"},{"size":12712,"mtime":1622085709297,"results":"91","hashOfConfig":"57"},{"size":36816,"mtime":1622532679401,"results":"92","hashOfConfig":"57"},{"size":36748,"mtime":1622536122972,"results":"93","hashOfConfig":"57"},{"size":36815,"mtime":1622622960948,"results":"94","hashOfConfig":"57"},{"size":36816,"mtime":1622546230796,"results":"95","hashOfConfig":"57"},{"size":13537,"mtime":1623048580009,"results":"96","hashOfConfig":"57"},{"size":570,"mtime":1639362377298,"results":"97","hashOfConfig":"98"},{"size":4243,"mtime":1639360245858,"results":"99","hashOfConfig":"98"},{"size":12213,"mtime":1639360245857,"results":"100","hashOfConfig":"98"},{"size":6607,"mtime":1639360245866,"results":"101","hashOfConfig":"98"},{"size":2572,"mtime":1639360245862,"results":"102","hashOfConfig":"98"},{"size":1178,"mtime":1639360245863,"results":"103","hashOfConfig":"98"},{"size":979,"mtime":1639360245863,"results":"104","hashOfConfig":"98"},{"size":3453,"mtime":1639360245862,"results":"105","hashOfConfig":"98"},{"size":1984,"mtime":1639360245861,"results":"106","hashOfConfig":"98"},{"size":3323,"mtime":1639360245862,"results":"107","hashOfConfig":"98"},{"size":1258,"mtime":1639360245866,"results":"108","hashOfConfig":"98"},{"size":5192,"mtime":1639360245867,"results":"109","hashOfConfig":"98"},{"size":4814,"mtime":1639360245867,"results":"110","hashOfConfig":"98"},{"size":953,"mtime":1639360245862,"results":"111","hashOfConfig":"98"},{"size":707,"mtime":1639360245861,"results":"112","hashOfConfig":"98"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},"1dpbqc8",{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"147"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"147"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"147"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"147"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"174","messages":"175","errorCount":0,"warningCount":25,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"176","messages":"177","errorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":"178","usedDeprecatedRules":"179"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":0,"source":"182","usedDeprecatedRules":"179"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":0,"source":"185","usedDeprecatedRules":"186"},{"filePath":"187","messages":"188","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"189","messages":"190","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"191","messages":"192","errorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":0,"source":"193","usedDeprecatedRules":"194"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":0,"source":"197","usedDeprecatedRules":"194"},{"filePath":"198","messages":"199","errorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":0,"source":"200"},{"filePath":"201","messages":"202","errorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":0,"source":"203","usedDeprecatedRules":"204"},{"filePath":"205","messages":"206","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"207","messages":"208","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"19adp7z",{"filePath":"209","messages":"210","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"211","messages":"212","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"213","messages":"214","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"215","messages":"216","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"217","messages":"218","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"219","messages":"220","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"221","messages":"222","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"223","messages":"224","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"225","messages":"226","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"227","messages":"228","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"229","messages":"230","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"231","messages":"232","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"233","messages":"234","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"235","messages":"236","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/helen/fi/protocol-demo/frontend/src/index.tsx",[],["237","238"],"/Users/helen/fi/protocol-demo/frontend/src/styles.ts",[],"/Users/helen/fi/protocol-demo/frontend/src/App.tsx",["239","240","241","242","243","244","245","246","247","248","249","250","251","252"],"/Users/helen/fi/protocol-demo/frontend/src/helpers/utilities.ts",[],"/Users/helen/fi/protocol-demo/frontend/src/helpers/box.ts",[],["253","254"],"/Users/helen/fi/protocol-demo/frontend/src/helpers/web3.ts",[],"/Users/helen/fi/protocol-demo/frontend/src/components/Wrapper.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/components/Loader.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/components/Button.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/components/Column.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/components/Modal.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/components/Header.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/components/AccountAssets.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/components/ModalResult.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/components/ConnectButton.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/constants/index.ts",[],["255","256"],"/Users/helen/fi/protocol-demo/frontend/src/helpers/api.ts",[],"/Users/helen/fi/protocol-demo/frontend/src/helpers/chains.ts",[],"/Users/helen/fi/protocol-demo/frontend/src/helpers/bignumber.ts",[],"/Users/helen/fi/protocol-demo/frontend/src/helpers/dev.ts",[],"/Users/helen/fi/protocol-demo/frontend/src/components/Blockie.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/components/Banner.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/components/AssetRow.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/constants/actions.ts",[],"/Users/helen/fi/protocol-demo/frontend/src/constants/contracts.ts",[],"/Users/helen/fi/protocol-demo/frontend/src/constants/functions.ts",[],"/Users/helen/fi/protocol-demo/frontend/src/components/Icon.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/components/ERC20Icon.tsx",[],"/Users/helen/fi/protocol-demo/frontend/src/helpers/time.ts",["257"],"/Users/helen/fi/protocol-demo/frontend/src/App_bsc.tsx",["258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282"],"/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_usdp.tsx",["283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299"],"import * as React from \"react\";\nimport styled from \"styled-components\";\nimport Web3 from \"web3\";\n\nimport Web3Modal from \"web3modal\";\n// @ts-ignore\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n// @ts-ignore\nimport Fortmatic from \"fortmatic\";\nimport Torus from \"@toruslabs/torus-embed\";\nimport Authereum from \"authereum\";\nimport {Bitski} from \"bitski\";\n\nimport Button from \"./components/Button\";\nimport Column from \"./components/Column\";\nimport Wrapper from \"./components/Wrapper\";\nimport Modal from \"./components/Modal\";\nimport Header from \"./components/Header\";\nimport Loader from \"./components/Loader\";\nimport ModalResult from \"./components/ModalResult\";\nimport AccountAssets from \"./components/AccountAssets\";\nimport ConnectButton from \"./components/ConnectButton\";\nimport {getChainData} from \"./helpers/utilities\";\nimport {IAssetData} from \"./helpers/types\";\nimport {fonts} from \"./styles\";\nimport {ethers, utils} from 'ethers';\nimport {convertAmountFromRawNumber} from \"./helpers/bignumber\";\nimport accounts from \"web3/eth/accounts\";\n\n\nconst StrategyCurve3CRVv2_ABI = require(\"./abi/StrategyCurve3CRVv2.json\");\nconst ControllerV4_ABI = require(\"./abi/ControllerV4.json\");\n\nconst Instabrine_ABI = require(\"./abi/Instabrine.json\");\n\nconst USDC = \"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\";\nconst USDT = \"0xdac17f958d2ee523a2206206994597c13d831ec7\";\nconst DAI = \"0x6b175474e89094c44da98b954eedeac495271d0f\";\nconst USDP = \"0x1456688345527bE1f37E9e627DA0837D6f08C925\";\nconst USDN = \"0x674C6Ad92Fd080e4004b2312b45f796a192D27a0\";\n\n\n//usdp group\nconst three_crv = \"0x7Eb40E450b9655f4B3cC4259BCC731c63ff55ae6\";\nconst Three_gauge = \"0x055be5DDB7A925BfEF3417FC157f53CA77cA7222\";\nconst three_pool = \"0x3c8cAee4E09296800f8D29A68Fa3837e2dae4940\";\nconst usdp_gauge = \"0x055be5DDB7A925BfEF3417FC157f53CA77cA7222\";\n\nconst CRV = \"0xD533a949740bb3306d119CC777fa900bA034cd52\";\n\nconst Vaults = \"0xc6CCEaEbD3DD466168f27dBCD5691d62668a4995\";\nconst StrategyCurve3CRVv2 = \"0xD538A283a56bBE275D133C7465AAE2E19Bc2E0d7\";\n// const ControllerV4 = \"0x5D9396B27bE234F3f70a8980995025EC0B55d92E\"; 5/30 old\nconst ControllerV4 = \"0x8A54FA431B7461FfE4999B3CCD00bd7D4ADd1e4a\";\n\n\nconst Instabrine = \"0x36B466533d6bfF320E05Be310803e8b906eF9f79\";\nconst Invite = \"0x36B466533d6bfF320E05Be310803e8b906eF9f79\";\nconst _treasury = \"0xF2bb9641694Baa6848338CD40993681Fee936a12\"\n\nconst univ2Router2 = \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\";\nconst inviter = \"0x6d96E5266d662D7ed607CB8D88dC6447632bB298\";\n\nconst {parseUnits} = ethers.utils;\nconst {Zero, MaxUint256} = ethers.constants;\nconst {parseEther} = ethers.utils;\n\n\nconst SLayout = styled.div`\n  position: relative;\n  width: 100%;\n  min-height: 100vh;\n  text-align: center;\n`;\n\nconst SContent = styled(Wrapper)`\n  width: 100%;\n  height: 100%;\n  padding: 0 16px;\n`;\n\nconst SContainer = styled.div`\n  height: 100%;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  word-break: break-word;\n`;\n\nconst SLanding = styled(Column)`\n  height: 600px;\n`;\n\nconst SModalContainer = styled.div`\n  width: 100%;\n  position: relative;\n  word-wrap: break-word;\n`;\n\nconst SModalTitle = styled.div`\n  margin: 1em 0;\n  font-size: 20px;\n  font-weight: 700;\n`;\n\nconst SModalParagraph = styled.p`\n  margin-top: 30px;\n`;\n\n// @ts-ignore\nconst SBalances = styled(SLanding)`\n  height: 100%;\n  & h3 {\n    padding-top: 30px;\n  }\n`;\n\nconst STestButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n`;\n\nconst STestButton = styled(Button)`\n  border-radius: 8px;\n  font-size: ${fonts.size.medium};\n  height: 44px;\n  width: 100%;\n  max-width: 175px;\n  margin: 12px;\n`;\n\ninterface IAppState {\n    fetching: boolean;\n    address: string;\n    web3: any;\n    provider: any;\n    connected: boolean;\n    chainId: number;\n    networkId: number;\n    assets: IAssetData[];\n    assets2: IAssetData[];\n    showModal: boolean;\n    pendingRequest: boolean;\n    result: any | null;\n}\n\nconst INITIAL_STATE: IAppState = {\n    fetching: false,\n    address: \"\",\n    web3: null,\n    provider: null,\n    connected: false,\n    chainId: 1,\n    networkId: 1,\n    assets: [],\n    assets2: [],\n    showModal: false,\n    pendingRequest: false,\n    result: null\n};\n\nfunction initWeb3(provider: any) {\n    const web3: any = new Web3(provider);\n\n    web3.eth.extend({\n        methods: [\n            {\n                name: \"chainId\",\n                call: \"eth_chainId\",\n                outputFormatter: web3.utils.hexToNumber\n            }\n        ]\n    });\n\n    return web3;\n}\n\nclass App extends React.Component<any, any> {\n    // @ts-ignore\n    public web3Modal: Web3Modal;\n    public state: IAppState;\n\n    public claim: string = \"0x5aa37930cbe5f4b04d617f71f78abc6c21be4cc0\";\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            ...INITIAL_STATE\n        };\n\n        this.web3Modal = new Web3Modal({\n            network: this.getNetwork(),\n            cacheProvider: true,\n            providerOptions: this.getProviderOptions()\n        });\n    }\n\n    public componentDidMount() {\n        if (this.web3Modal.cachedProvider) {\n            this.onConnect();\n        }\n    }\n\n    public onConnect = async () => {\n        const provider = await this.web3Modal.connect();\n\n        await this.subscribeProvider(provider);\n\n        const web3: any = initWeb3(provider);\n\n        const accounts = await web3.eth.getAccounts();\n\n        const address = accounts[0];\n\n        const networkId = await web3.eth.net.getId();\n\n        const chainId = await web3.eth.chainId();\n\n        console.log(`chainId is ${chainId}  networkId ${networkId}`)\n\n        await this.setState({\n            web3,\n            provider,\n            connected: true,\n            address,\n            chainId,\n            networkId\n        });\n\n        await this.getAccountAssets(provider);\n    };\n\n    public subscribeProvider = async (provider: any) => {\n        if (!provider.on) {\n            return;\n        }\n        provider.on(\"close\", () => this.resetApp());\n        provider.on(\"accountsChanged\", async (accounts: string[]) => {\n            await this.setState({address: accounts[0]});\n            await this.getAccountAssets(provider);\n        });\n        provider.on(\"chainChanged\", async (chainId: number) => {\n            const {web3} = this.state;\n            const networkId = await web3.eth.net.getId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n\n        provider.on(\"networkChanged\", async (networkId: number) => {\n            const {web3} = this.state;\n            const chainId = await web3.eth.chainId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n    };\n\n    public getNetwork = () => getChainData(this.state.chainId).network;\n\n    public getProviderOptions = () => {\n        const providerOptions = {\n            walletconnect: {\n                package: WalletConnectProvider,\n                options: {\n                    infuraId: process.env.REACT_APP_INFURA_ID\n                }\n            },\n            torus: {\n                package: Torus\n            },\n            fortmatic: {\n                package: Fortmatic,\n                options: {\n                    key: process.env.REACT_APP_FORTMATIC_KEY\n                }\n            },\n            authereum: {\n                package: Authereum\n            },\n            bitski: {\n                package: Bitski,\n                options: {\n                    clientId: process.env.REACT_APP_BITSKI_CLIENT_ID,\n                    callbackUrl: window.location.href + \"bitski-callback.html\"\n                }\n            }\n        };\n        return providerOptions;\n    };\n\n    public getAccountAssets = async (provider: any) => {\n        const {address, chainId} = this.state;\n        this.setState({fetching: false});\n        try {\n            const prov = new ethers.providers.Web3Provider(provider)\n            let balance = await prov.getBalance(address);\n            console.log('[wa]:', balance.toString(), \",\", balance)\n            let assets = [];\n            let assets2 = [];\n            let ethAsset = {\n                \"symbol\": \"ETH\",\n                \"name\": \"Ether\",\n                \"decimals\": \"18\",\n                \"contractAddress\": \"\",\n                \"balance\": balance\n            };\n            assets.push(ethAsset);\n            // A Human-Readable ABI; any supported ABI format could be used\n\n\n            this.setState({fetching: false, assets});\n        } catch (error) {\n            console.error(error); // tslint:disable-line\n            this.setState({fetching: false});\n        }\n\n    };\n\n    public toggleModal = () =>\n        this.setState({showModal: !this.state.showModal});\n\n\n    public setController = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let controller = new web3.eth.Contract(\n            ControllerV4_ABI,\n            ControllerV4,\n        );\n        //\n        let rep = await controller.methods.setValut(three_crv, Vaults).send({from: accounts[0]})\n        console.log(`controller.methods.setJar  response :`, JSON.stringify(rep))\n\n\n        // rep = await controller.methods.approveStrategy(three_crv, StrategyCurve3CRVv2).send({from: accounts[0]})\n\n        // console.log(`approveStrategy rep is ${JSON.stringify(rep)}`)\n       let rep1 = await controller.methods.setStrategy(three_crv, StrategyCurve3CRVv2).send({from: accounts[0]})\n\n        console.log(`setStrategy rep is ${JSON.stringify(rep1)}`)\n\n        // rep = await controller.methods.setInvite(Invite, Vaults).send({from: accounts[0]})\n        // console.log(`controller.setInvite  response :`, JSON.stringify(rep))\n\n        // const provider = await this.web3Modal.connect();\n        // const prov = new ethers.providers.Web3Provider(provider);\n        // const abi = [\n        //     // Authenticated Functions\n        //     \"function add(address _address) public\",\n        // ];\n        // const vaultsc = new ethers.Contract(Vaults, abi, prov.getSigner());\n        // rep = await vaultsc.add(Instabrine)\n        // console.log(`controller.setInvite  response :`, JSON.stringify(rep))\n\n    }\n\n    public setStragy = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let stragy = new web3.eth.Contract(\n            StrategyCurve3CRVv2_ABI,\n            StrategyCurve3CRVv2,\n        );\n\n        //设置保留的crv，之后会除以10000，设置1000，等于十分之一\n        let rep = await stragy.methods.setKeepCRV(0).send({from: accounts[0]})\n        console.log(`stragy.methods.setKeepCRV(1000)  response :`, JSON.stringify(rep))\n\n\n    }\n\n    public testBlockNumber = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        let rep = await web3.eth.getBlockNumber()\n        console.log(`setStrategy rep is ${JSON.stringify(rep)}`)\n        const accounts = await web3.eth.getAccounts();\n\n\n        const provider = new ethers.providers.JsonRpcProvider();\n\n        const signer = provider.getSigner()\n\n\n    }\n\n\n    public testApprove = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n        const test = new ethers.Contract(three_crv, abi, prov.getSigner());\n\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await test.approve(univ2Router2, utils.parseUnits('0', 18).toString())\n        rep = await test.approve(univ2Router2, utils.parseUnits('1000000000000', 18).toString())\n        console.log(`approve univ2Router2 crv rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n    // 测试交易match A地址300TEST2币  B地址200TEST1币  交易match\n    public testDeposit = async () => {\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \" function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n            \" function inCaseTokensGetStuck(address _token, uint256 _amount)\",\n            \"function inCaseStrategyTokenGetStuck(address _strategy, address _token)\",\n        ];\n        const test1 = new ethers.Contract(ControllerV4, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n       // let balance = await test1.balance()\n     //   console.log(`test1.balance  response :`, JSON.stringify(balance.toString()))\n        // const rep = await test1.totalSupply()\n       //let rep = await test1.inCaseStrategyTokenGetStuck(StrategyCurve3CRVv2,usdp_gauge)\n        let rep = await test1.inCaseTokensGetStuck(\"0x055be5DDB7A925BfEF3417FC157f53CA77cA7222\",utils.parseUnits('121.538', 18).toString())\n\n\n        console.log(`jar.methods.deposi  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n\n\n        });\n\n\n    }\n\n    public testBalance = async () => {\n        let assets2 = [];\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n            \"function available() public view returns (uint256)\",\n            \"function balanceOfPool() public override view returns (uint256)\"\n        ];\n        const threecrv = new ethers.Contract(three_crv, abi, prov.getSigner());\n        const jar = new ethers.Contract(Vaults, abi, prov.getSigner());\n        const controller = new ethers.Contract(ControllerV4, abi, prov.getSigner());\n        const usdpgauge = new ethers.Contract(usdp_gauge, abi, prov.getSigner());\n        const stragy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner())\n        const usdc = new ethers.Contract(USDC, abi, prov.getSigner())\n        const usdt = new ethers.Contract(USDT, abi, prov.getSigner())\n        const vaults1 = new ethers.Contract(Vaults, abi, prov.getSigner())\n        const threepool = new ethers.Contract(three_pool, abi, prov.getSigner())\n        const invite = new ethers.Contract(Invite, abi, prov.getSigner())\n\n        const crv = new ethers.Contract(CRV, abi, prov.getSigner())\n\n        this.toggleModal();\n        this.setState({pendingRequest: true});\n\n        let crv_bal = await crv.balanceOf(StrategyCurve3CRVv2)\n        let crv_bal_p = convertAmountFromRawNumber(crv_bal.toString(), 18)\n        console.log(`crv_bal_p is ${crv_bal_p}`)\n\n\n        const ethAsset115 = {\n            \"symbol\": \"Crv\",\n            \"name\": \"Crv-Stragy\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal\n        };\n        assets2.push(ethAsset115);\n\n        let crv_bal1 = await crv.balanceOf(ControllerV4)\n        let crv_bal_p1 = convertAmountFromRawNumber(crv_bal1.toString(), 18)\n        console.log(`crv_bal_p  is ${crv_bal_p1}`)\n\n\n        const ethAsset116 = {\n            \"symbol\": \"Crv-c\",\n            \"name\": \"Crv-Controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal1\n        };\n        assets2.push(ethAsset116);\n\n        let threecrv_bal = await threecrv.balanceOf(accounts[0])\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal is ${threecrv_bal}`)\n\n\n        const ethAsset = {\n            \"symbol\": \"3Crv-user\",\n            \"name\": \"3Crv-user\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal\n        };\n        assets2.push(ethAsset);\n\n        let threecrv_bal1 = await threecrv.balanceOf(Vaults)\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal1 is ${threecrv_bal1}`)\n\n\n        const ethAsset222 = {\n            \"symbol\": \"3Crv-vaults\",\n            \"name\": \"3Crv-vaults\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal1\n        };\n        assets2.push(ethAsset222);\n\n        let dai_bal = await vaults1.balance()\n        let dai_bal_p = convertAmountFromRawNumber(dai_bal.toString(), 18)\n        const ethAsset110 = {\n            \"symbol\": \"vaults-balance\",\n            \"name\": \"vaults-balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": dai_bal\n        };\n        assets2.push(ethAsset110);\n\n        let usdc_bal = await usdc.balanceOf(accounts[0])\n        let usdc_bal_p = convertAmountFromRawNumber(usdc_bal.toString(), 6)\n        const ethAsset111 = {\n            \"symbol\": \"USDC-account\",\n            \"name\": \"USDC-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDC,\n            \"balance\": usdc_bal\n        };\n        assets2.push(ethAsset111);\n        let usdt_bal = await usdt.balanceOf(accounts[0])\n        let usdt_bal_p = convertAmountFromRawNumber(usdt_bal.toString(), 6)\n        const ethAsset112 = {\n            \"symbol\": \"USDT-account\",\n            \"name\": \"USDT-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDT,\n            \"balance\": usdt_bal\n        };\n        assets2.push(ethAsset112);\n        console.log(`account usdt: ${usdt_bal_p},usdc: ${usdc_bal_p},dai: ${dai_bal_p}`)\n\n\n        let crv3_treasury = await threecrv.balanceOf(_treasury)\n        let crv3_treasury_p1 = convertAmountFromRawNumber(crv3_treasury.toString(), 6)\n        const ethAsset1121 = {\n            \"symbol\": \"3crv-treasury\",\n            \"name\": \"3crv-treasury\",\n            \"decimals\": \"18\",\n            \"contractAddress\": USDT,\n            \"balance\": crv3_treasury\n        };\n        assets2.push(ethAsset1121);\n        console.log(`crv3_treasury 3crv: ${crv3_treasury_p1}`)\n\n\n\n        let invite_bal = await threecrv.balanceOf(Invite)\n        //jar_bal = convertAmountFromRawNumber(jar_bal.toString(), 18)\n        const ethAsset1111 = {\n            \"symbol\": \"3Crv-Invite\",\n            \"name\": \"3Crv-Invite\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": invite_bal\n        };\n        assets2.push(ethAsset1111);\n\n        let p3crv_bal = await jar.balanceOf(accounts[0])\n        //jar_bal = convertAmountFromRawNumber(jar_bal.toString(), 18)\n        const ethAsset10 = {\n            \"symbol\": \"p3crv_bal\",\n            \"name\": \"p3crv_bal\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": p3crv_bal\n        };\n        assets2.push(ethAsset10);\n\n\n        let available = await jar.available()\n        // available = convertAmountFromRawNumber(available.toString(), 18)\n        const ethAsset3 = {\n            \"symbol\": \"3Crv-jar.available\",\n            \"name\": \"3Crv-jar.available\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": available\n        };\n        assets2.push(ethAsset3);\n\n        let balance = await jar.balance()\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset4 = {\n            \"symbol\": \"3Crv-jar.jar.balance\",\n            \"name\": \"3Crv-jar.jar.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance\n        };\n        assets2.push(ethAsset4);\n\n\n        let strage1 = await usdpgauge.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset6 = {\n            \"symbol\": \"guage-3crv-stragy.balance\",\n            \"name\": \"guage-3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage1\n        };\n        assets2.push(ethAsset6);\n\n        let strage2 = await threecrv.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset7 = {\n            \"symbol\": \"3crv-stragy.balance\",\n            \"name\": \"3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage2\n        };\n        assets2.push(ethAsset7);\n\n        let guage = await usdpgauge.balanceOf(ControllerV4)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset5 = {\n            \"symbol\": \"guage-3crv-controller.balance\",\n            \"name\": \"guage-3crv-controller.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": guage\n        };\n        assets2.push(ethAsset5);\n\n        let balance_controller = await controller.balanceOf(three_crv)\n        balance_controller = convertAmountFromRawNumber(balance_controller.toString(), 18)\n        const ethAsset2 = {\n            \"symbol\": \"3Crv-controller\",\n            \"name\": \"3Crv-controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance_controller\n        };\n        assets2.push(ethAsset2);\n\n        // console.log(`jar.methods.testController  response :`,JSON.stringify(rep.toString()))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n            assets2\n        });\n    }\n\n    public testsetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function setPerformanceTreasuryFee(uint256 _performanceTreasuryFee)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.setPerformanceTreasuryFee(2000)\n\n        // console.log(`jar.methods.withdrawAll  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n\n    public testgetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function performanceTreasuryFee() public view returns (uint256)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.performanceTreasuryFee()\n\n         console.log(`testgetPerformanceTreasuryFee  response :`, rep.toString())\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testEarn = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n\n            \"function earn(address _token, uint256 _amount) public\",\n\n        ];\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function earn() public\",\n        ];\n\n        const jar = new ethers.Contract(Vaults, abi1, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep1 = await jar.earn()\n\n        //let strategy_depoist_rep = await stragy.deposit()\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n    public testHarvest = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function harvest() public \",\n            \"function usdp_pool() public view returns (address)\",\n            \"function gauge() public view returns (address)\",\n            \"function getMostPremium() public  view returns (address, uint256)\",\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n\n        const strategy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        // let rep = await strategy.gauge()\n        // console.log(`getMostPremium rep is ${rep}, coin index is :`,);\n\n        let rep1 = await strategy.harvest()\n        console.log(`testHarvest rep is ${JSON.stringify(rep1)}`,);\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n\n\n    public resetApp = async () => {\n        const {web3} = this.state;\n        if (web3 && web3.currentProvider && web3.currentProvider.close) {\n            await web3.currentProvider.close();\n        }\n        await this.web3Modal.clearCachedProvider();\n        this.setState({...INITIAL_STATE});\n    };\n\n\n    public testUniApprove = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n        const usdc = new ethers.Contract(USDT, abi, prov.getSigner());\n        const test_crv = new ethers.Contract(CRV, abi, prov.getSigner());\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        //let rep = await usdc.approve(Instabrine, utils.parseUnits('0', 6).toString());\n        let rep1 = await usdc.approve(Instabrine, utils.parseUnits('1000000000000', 6).toString())\n        console.log(`approve DAI rep is ${JSON.stringify(rep1)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n    public primitiveToCurveSkyVault_3 = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n            \"function primitiveToCurveSkyVault_3(address curve,address[3] memory underlying,uint256[3] memory underlyingAmounts,address curveLp,address skyVault,address inviter) public returns (uint256)\",\n\n            \"function primitiveToCurveSkyVault_4(address curve,address[4] memory underlying,uint256[4] memory underlyingAmounts,address curveLp,address skyVault,address inviter) public returns (uint256)\",\n        ];\n        const inst = new ethers.Contract(Instabrine, abi, prov.getSigner());\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        const amount = parseUnits(\"9946736\", 6);\n        let rep = await inst.primitiveToCurveSkyVault_3(\n            three_pool,\n            [DAI, USDC, USDT],\n            // [utils.parseUnits('3000', 18).toString(),utils.parseUnits('0', 6).toString(),utils.parseUnits('0', 6).toString()],\n            [Zero, amount, Zero],\n            three_crv,\n            Vaults,\n            inviter\n        )\n        console.log(`primitiveToCurveSkyVault_3 rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n\n    public primitiveToCurveSkyVault_4 = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n            \"function primitiveToCurveSkyVault_3(address curve,address[3] memory underlying,uint256[3] memory underlyingAmounts,address curveLp,address skyVault,address inviter) public returns (uint256)\",\n\n            \"function primitiveToCurveSkyVault_4(address curve,address[4] memory underlying,uint256[4] memory underlyingAmounts,address curveLp,address skyVault,address inviter) public returns (uint256)\",\n        ];\n        const inst = new ethers.Contract(Instabrine, abi, prov.getSigner());\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        const amount = parseUnits(\"100000\", 6);\n        console.log('params:',three_pool,',',[USDP,DAI, USDC, USDT],',',[Zero,Zero, Zero, amount],',',three_crv,',',Vaults)\n\n        let rep = await inst.primitiveToCurveSkyVault_4(\n            three_pool,\n            [USDP,DAI, USDC, USDT],\n            // [utils.parseUnits('3000', 18).toString(),utils.parseUnits('0', 6).toString(),utils.parseUnits('0', 6).toString()],\n            [Zero,Zero, Zero, amount],\n            three_crv,\n            Vaults,\n            inviter\n        )\n        console.log(`primitiveToCurveSkyVault_3 rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n\n    public getHarvestable = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n            \"function primitiveToCurvePickleJar_3(address curve,address[3] memory underlying,uint256[3] memory underlyingAmounts,address curveLp,address pickleJar) public returns (uint256)\",\n            \"function getHarvestable() external returns (uint256)\"\n        ];\n        const inst = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        //const amount = parseUnits(\"60000\", 6);\n        let rep = await inst.getHarvestable()\n\n        console.log(`getHarvestable rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n\n    public testApprovePtoken = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n        const pjar = new ethers.Contract(Vaults, abi, prov.getSigner());\n\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        let rep = await pjar.approve(Instabrine, utils.parseUnits('0', 18).toString())\n        rep = await pjar.approve(Instabrine, MaxUint256)\n\n\n        console.log(`approve pjar rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n\n    public curveSkyVaultToPrimitive_1 = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function balanceOf(address _token) external view returns (uint256)\",\n            \"function curveSkyVaultToPrimitive_1(address skyVault,uint256 amount,address curveLp,address curve,int128 index,address underlying) public returns (uint256) \",\n        ];\n        const pjar = new ethers.Contract(Vaults, abi, prov.getSigner());\n        const inst = new ethers.Contract(Instabrine, abi, prov.getSigner());\n        //USDP=0 , DAI = 1, USDC = 2, USDT = 3\n        const tokenIndex = ethers.BigNumber.from(0);\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        const balanceRaw = await pjar.balanceOf(accounts[0]);\n        const rawAmount = ethers.utils.formatEther(balanceRaw);\n        const amount = parseUnits(rawAmount);\n        //\n        let rep = await inst.curveSkyVaultToPrimitive_1(\n            Vaults,\n            amount,\n            three_crv,\n            three_pool,\n            tokenIndex,\n            USDP\n        )\n        console.log(`curveSkyVaultToPrimitive_1 rep is ${JSON.stringify(amount)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n    public testgetReward = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function rewards(address) public view returns (uint256) \",\n            \"function rewardPerTokenStored() public view returns (uint256) \",\n            \"function inviter(address) public view returns (address) \",\n            \" function getReward() public\",\n            \" function _totalSupply() public view returns(uint256)\"\n        ];\n        const invite = new ethers.Contract(Invite, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await invite.rewards(inviter)\n        console.log(`invite.rewards(inviter) rep is ${JSON.stringify(rep)}`)\n        rep = await invite.rewardPerTokenStored()\n        console.log(`invite.rewardPerTokenStored() rep is ${JSON.stringify(rep)}`)\n        rep = await invite.inviter(\"0xD90D00101E1Cf4729f02A5598f4288E00001FC04\")\n        console.log(`invite.inviter() rep is ${JSON.stringify(rep)}`)\n        rep = await invite._totalSupply()\n        console.log(`invite._totalSupply() rep is ${JSON.stringify(rep)}`);\n        console.log(`invite._totalSupply() rep is ${convertAmountFromRawNumber(rep.toString(), 18)}`)\n        rep = await invite.getReward()\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testvaultbalance = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function balance() public view returns(uint256)\",\n            \"function totalSupply() public view returns(uint256)\",\n            \"function available() public view returns(uint256)\"\n        ];\n        const vault = new ethers.Contract(\"0xB54aE04A1472FCdd0f3C122cF716c56415F4D853\", abi, prov);\n\n        let rep = await vault.balance()\n        console.log('balance:',convertAmountFromRawNumber(rep.toString()))\n        let rep1 = await vault.totalSupply()\n        console.log('totalSupply:',convertAmountFromRawNumber(rep1.toString()))\n        let rep2 = await vault.available()\n        console.log('available:',convertAmountFromRawNumber(rep2.toString()))\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n        ];\n        const lp = new ethers.Contract(\"0x7Eb40E450b9655f4B3cC4259BCC731c63ff55ae6\", abi1, prov);\n\n        let rep3 = await lp.balanceOf('0xB54aE04A1472FCdd0f3C122cF716c56415F4D853')\n        console.log('balanceOF:',convertAmountFromRawNumber(rep3.toString()))\n    }\n\n    public render = () => {\n        const {\n            assets,\n            assets2,\n            address,\n            connected,\n            chainId,\n            fetching,\n            showModal,\n            pendingRequest,\n            result\n        } = this.state;\n        return (\n            <SLayout>\n                <Column maxWidth={1000} spanHeight>\n                    <Header\n                        connected={connected}\n                        address={address}\n                        chainId={chainId}\n                        killSession={this.resetApp}\n                    />\n                    <SContent>\n                        {fetching ? (\n                            <Column center>\n                                <SContainer>\n                                    <Loader/>\n                                </SContainer>\n                            </Column>\n                        ) : !!assets && !!assets.length ? (\n                            <SBalances>\n                                <h6>Admin Setting Actions</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n\n\n                                        <STestButton left onClick={() => this.setController()}>\n                                            setController\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.setStragy()}>\n                                            setStragy\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testBalance()}>\n                                            testBalance\n                                        </STestButton>\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Strategist :Deposite 3Crv</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testEarn()}>\n                                            testEarn\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testHarvest()}>\n                                            testHarvest\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.getHarvestable()}>\n                                            getHarvestable--test good uni stablecoin\n                                        </STestButton>\n\n\n\n\n                                        <STestButton left onClick={() => this.testDeposit()}>\n                                            testDeposit\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testsetPerformanceTreasuryFee()}>\n                                            setPerformanceTreasuryFee\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testgetPerformanceTreasuryFee()}>\n                                            getPerformanceTreasuryFee\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>USER ：Deposite from uni stablecoin</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testUniApprove()}>\n                                            testUniApprove-USDC-3crv\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.primitiveToCurveSkyVault_3()}>\n                                            3pool-primitiveToCurvePickleJar_3\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.primitiveToCurveSkyVault_4()}>\n                                            usdp-primitiveToCurveSkyVault_4\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testvaultbalance()}>\n                                            测试vault balance\n                                        </STestButton>\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>USER ：Withdraw to uni stablecoin</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testApprovePtoken()}>\n                                            testApprovePtoken\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.curveSkyVaultToPrimitive_1()}>\n                                            curvePickleJarToPrimitive_1\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Inviter ：Withdraw </h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testgetReward()}>\n                                            testgetReward\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets}/>{\" \"}\n                                <h6>Valuts Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets2}/>{\" \"}\n                            </SBalances>\n                        ) : (\n                            <SLanding center>\n                                <h6>{`Test Web3Modal`}</h6>\n                                <ConnectButton onClick={this.onConnect}/>\n                            </SLanding>\n                        )}\n                    </SContent>\n                </Column>\n                <Modal show={showModal} toggleModal={this.toggleModal}>\n                    {pendingRequest ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Pending Call Request\"}</SModalTitle>\n                            <SContainer>\n                                <Loader/>\n                                <SModalParagraph>\n                                    {\"Approve or reject request using your wallet\"}\n                                </SModalParagraph>\n                            </SContainer>\n                        </SModalContainer>\n                    ) : result ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Approved\"}</SModalTitle>\n                            <ModalResult>{result}</ModalResult>\n                        </SModalContainer>\n                    ) : (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Rejected\"}</SModalTitle>\n                        </SModalContainer>\n                    )}\n                </Modal>\n            </SLayout>\n        );\n    };\n}\n\nexport default App;\n",["300","301"],"/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_usdn.tsx",["302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321"],"import * as React from \"react\";\nimport styled from \"styled-components\";\nimport Web3 from \"web3\";\n\nimport Web3Modal from \"web3modal\";\n// @ts-ignore\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n// @ts-ignore\nimport Fortmatic from \"fortmatic\";\nimport Torus from \"@toruslabs/torus-embed\";\nimport Authereum from \"authereum\";\nimport {Bitski} from \"bitski\";\n\nimport Button from \"./components/Button\";\nimport Column from \"./components/Column\";\nimport Wrapper from \"./components/Wrapper\";\nimport Modal from \"./components/Modal\";\nimport Header from \"./components/Header\";\nimport Loader from \"./components/Loader\";\nimport ModalResult from \"./components/ModalResult\";\nimport AccountAssets from \"./components/AccountAssets\";\nimport ConnectButton from \"./components/ConnectButton\";\nimport {getChainData} from \"./helpers/utilities\";\nimport {IAssetData} from \"./helpers/types\";\nimport {fonts} from \"./styles\";\nimport {ethers, utils} from 'ethers';\nimport {convertAmountFromRawNumber} from \"./helpers/bignumber\";\nimport accounts from \"web3/eth/accounts\";\n\n\nconst StrategyCurve3CRVv2_ABI = require(\"./abi/StrategyCurve3CRVv2.json\");\nconst ControllerV4_ABI = require(\"./abi/ControllerV4.json\");\n\n\nconst USDC = \"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\";\nconst USDT = \"0xdac17f958d2ee523a2206206994597c13d831ec7\";\nconst DAI = \"0x6b175474e89094c44da98b954eedeac495271d0f\";\nconst USDP = \"0x1456688345527bE1f37E9e627DA0837D6f08C925\";\nconst USDN = \"0x674C6Ad92Fd080e4004b2312b45f796a192D27a0\";\n\nconst three_crv = \"0x4f3E8F405CF5aFC05D68142F3783bDfE13811522\";\nconst three_pool = \"0x094d12e5b541784701FD8d65F11fc0598FBC6332\";\nconst usdn_gauge = \"0xF98450B5602fa59CC66e1379DFfB6FDDc724CfC4\";\n\nconst CRV = \"0xD533a949740bb3306d119CC777fa900bA034cd52\";\n\nconst Vaults = \"0xed340f1b4877311c0a9A40a1899bFC898f011bC0\";\nconst StrategyCurve3CRVv2 = \"0x4944ABD1F813cdf5764689C31F3d4A3a98d88AbE\";\n// const ControllerV4 = \"0x5D9396B27bE234F3f70a8980995025EC0B55d92E\"; 5/30 old\nconst ControllerV4 = \"0x8A54FA431B7461FfE4999B3CCD00bd7D4ADd1e4a\";\n\nconst Invite = \"0x36B466533d6bfF320E05Be310803e8b906eF9f79\";\nconst _treasury = \"0xF2bb9641694Baa6848338CD40993681Fee936a12\"\n\nconst univ2Router2 = \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\";\nconst inviter = \"0x6d96E5266d662D7ed607CB8D88dC6447632bB298\";\n\nconst {parseUnits} = ethers.utils;\nconst {Zero, MaxUint256} = ethers.constants;\nconst {parseEther} = ethers.utils;\n\n\nconst SLayout = styled.div`\n  position: relative;\n  width: 100%;\n  min-height: 100vh;\n  text-align: center;\n`;\n\nconst SContent = styled(Wrapper)`\n  width: 100%;\n  height: 100%;\n  padding: 0 16px;\n`;\n\nconst SContainer = styled.div`\n  height: 100%;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  word-break: break-word;\n`;\n\nconst SLanding = styled(Column)`\n  height: 600px;\n`;\n\nconst SModalContainer = styled.div`\n  width: 100%;\n  position: relative;\n  word-wrap: break-word;\n`;\n\nconst SModalTitle = styled.div`\n  margin: 1em 0;\n  font-size: 20px;\n  font-weight: 700;\n`;\n\nconst SModalParagraph = styled.p`\n  margin-top: 30px;\n`;\n\n// @ts-ignore\nconst SBalances = styled(SLanding)`\n  height: 100%;\n  & h3 {\n    padding-top: 30px;\n  }\n`;\n\nconst STestButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n`;\n\nconst STestButton = styled(Button)`\n  border-radius: 8px;\n  font-size: ${fonts.size.medium};\n  height: 44px;\n  width: 100%;\n  max-width: 175px;\n  margin: 12px;\n`;\n\ninterface IAppState {\n    fetching: boolean;\n    address: string;\n    web3: any;\n    provider: any;\n    connected: boolean;\n    chainId: number;\n    networkId: number;\n    assets: IAssetData[];\n    assets2: IAssetData[];\n    showModal: boolean;\n    pendingRequest: boolean;\n    result: any | null;\n}\n\nconst INITIAL_STATE: IAppState = {\n    fetching: false,\n    address: \"\",\n    web3: null,\n    provider: null,\n    connected: false,\n    chainId: 1,\n    networkId: 1,\n    assets: [],\n    assets2: [],\n    showModal: false,\n    pendingRequest: false,\n    result: null\n};\n\nfunction initWeb3(provider: any) {\n    const web3: any = new Web3(provider);\n\n    web3.eth.extend({\n        methods: [\n            {\n                name: \"chainId\",\n                call: \"eth_chainId\",\n                outputFormatter: web3.utils.hexToNumber\n            }\n        ]\n    });\n\n    return web3;\n}\n\nclass App extends React.Component<any, any> {\n    // @ts-ignore\n    public web3Modal: Web3Modal;\n    public state: IAppState;\n\n    public claim: string = \"0x5aa37930cbe5f4b04d617f71f78abc6c21be4cc0\";\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            ...INITIAL_STATE\n        };\n\n        this.web3Modal = new Web3Modal({\n            network: this.getNetwork(),\n            cacheProvider: true,\n            providerOptions: this.getProviderOptions()\n        });\n    }\n\n    public componentDidMount() {\n        if (this.web3Modal.cachedProvider) {\n            this.onConnect();\n        }\n    }\n\n    public onConnect = async () => {\n        const provider = await this.web3Modal.connect();\n\n        await this.subscribeProvider(provider);\n\n        const web3: any = initWeb3(provider);\n\n        const accounts = await web3.eth.getAccounts();\n\n        const address = accounts[0];\n\n        const networkId = await web3.eth.net.getId();\n\n        const chainId = await web3.eth.chainId();\n\n        console.log(`chainId is ${chainId}  networkId ${networkId}`)\n\n        await this.setState({\n            web3,\n            provider,\n            connected: true,\n            address,\n            chainId,\n            networkId\n        });\n\n        await this.getAccountAssets(provider);\n    };\n\n    public subscribeProvider = async (provider: any) => {\n        if (!provider.on) {\n            return;\n        }\n        provider.on(\"close\", () => this.resetApp());\n        provider.on(\"accountsChanged\", async (accounts: string[]) => {\n            await this.setState({address: accounts[0]});\n            await this.getAccountAssets(provider);\n        });\n        provider.on(\"chainChanged\", async (chainId: number) => {\n            const {web3} = this.state;\n            const networkId = await web3.eth.net.getId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n\n        provider.on(\"networkChanged\", async (networkId: number) => {\n            const {web3} = this.state;\n            const chainId = await web3.eth.chainId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n    };\n\n    public getNetwork = () => getChainData(this.state.chainId).network;\n\n    public getProviderOptions = () => {\n        const providerOptions = {\n            walletconnect: {\n                package: WalletConnectProvider,\n                options: {\n                    infuraId: process.env.REACT_APP_INFURA_ID\n                }\n            },\n            torus: {\n                package: Torus\n            },\n            fortmatic: {\n                package: Fortmatic,\n                options: {\n                    key: process.env.REACT_APP_FORTMATIC_KEY\n                }\n            },\n            authereum: {\n                package: Authereum\n            },\n            bitski: {\n                package: Bitski,\n                options: {\n                    clientId: process.env.REACT_APP_BITSKI_CLIENT_ID,\n                    callbackUrl: window.location.href + \"bitski-callback.html\"\n                }\n            }\n        };\n        return providerOptions;\n    };\n\n    public getAccountAssets = async (provider: any) => {\n        const {address, chainId} = this.state;\n        this.setState({fetching: false});\n        try {\n            const prov = new ethers.providers.Web3Provider(provider)\n            let balance = await prov.getBalance(address);\n            console.log('[wa]:', balance.toString(), \",\", balance)\n            let assets = [];\n            let assets2 = [];\n            let ethAsset = {\n                \"symbol\": \"ETH\",\n                \"name\": \"Ether\",\n                \"decimals\": \"18\",\n                \"contractAddress\": \"\",\n                \"balance\": balance\n            };\n            assets.push(ethAsset);\n            // A Human-Readable ABI; any supported ABI format could be used\n\n\n            this.setState({fetching: false, assets});\n        } catch (error) {\n            console.error(error); // tslint:disable-line\n            this.setState({fetching: false});\n        }\n\n    };\n\n    public toggleModal = () =>\n        this.setState({showModal: !this.state.showModal});\n\n\n    public setController = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let controller = new web3.eth.Contract(\n            ControllerV4_ABI,\n            ControllerV4,\n        );\n        //\n\n        let rep = await controller.methods.setValut(three_crv, Vaults).send({from: accounts[0]})\n        console.log(`controller.methods.setJar  response :`, JSON.stringify(rep))\n\n\n        // rep = await controller.methods.approveStrategy(three_crv, StrategyCurve3CRVv2).send({from: accounts[0]})\n\n        // console.log(`approveStrategy rep is ${JSON.stringify(rep)}`)\n        let rep1 = await controller.methods.setStrategy(three_crv, StrategyCurve3CRVv2).send({from: accounts[0]})\n\n        console.log(`setStrategy rep is ${JSON.stringify(rep1)}`)\n\n    }\n\n    public setStragy = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let stragy = new web3.eth.Contract(\n            StrategyCurve3CRVv2_ABI,\n            StrategyCurve3CRVv2,\n        );\n\n        //设置保留的crv，之后会除以10000，设置1000，等于十分之一\n        let rep = await stragy.methods.setKeepCRV(0).send({from: accounts[0]})\n        console.log(`stragy.methods.setKeepCRV(1000)  response :`, JSON.stringify(rep))\n\n\n    }\n\n    public testBlockNumber = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        let rep = await web3.eth.getBlockNumber()\n        console.log(`setStrategy rep is ${JSON.stringify(rep)}`)\n        const accounts = await web3.eth.getAccounts();\n\n\n        const provider = new ethers.providers.JsonRpcProvider();\n\n        const signer = provider.getSigner()\n\n\n    }\n\n\n    public testApprove = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n        const test = new ethers.Contract(three_crv, abi, prov.getSigner());\n\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await test.approve(univ2Router2, utils.parseUnits('0', 18).toString())\n        rep = await test.approve(univ2Router2, utils.parseUnits('1000000000000', 18).toString())\n        console.log(`approve univ2Router2 crv rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n    // 测试交易match A地址300TEST2币  B地址200TEST1币  交易match\n    public testDeposit = async () => {\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \" function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n        ];\n        const test1 = new ethers.Contract(Vaults, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        let balance = await test1.balance()\n        console.log(`test1.balance  response :`, JSON.stringify(balance.toString()))\n        // const rep = await test1.totalSupply()\n        let rep = await test1.deposit(utils.parseUnits('2800', 18).toString())\n\n\n        console.log(`jar.methods.deposi  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n\n\n        });\n\n\n    }\n\n    public testBalance = async () => {\n        let assets2 = [];\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n            \"function available() public view returns (uint256)\",\n            \"function balanceOfPool() public override view returns (uint256)\"\n        ];\n        const threecrv = new ethers.Contract(three_crv, abi, prov.getSigner());\n        const jar = new ethers.Contract(Vaults, abi, prov.getSigner());\n        const controller = new ethers.Contract(ControllerV4, abi, prov.getSigner());\n        const usdpgauge = new ethers.Contract(usdn_gauge, abi, prov.getSigner());\n        const stragy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner())\n        const usdc = new ethers.Contract(USDC, abi, prov.getSigner())\n        const usdt = new ethers.Contract(USDT, abi, prov.getSigner())\n        const vaults1 = new ethers.Contract(Vaults, abi, prov.getSigner())\n\n\n        const crv = new ethers.Contract(CRV, abi, prov.getSigner())\n\n        this.toggleModal();\n        this.setState({pendingRequest: true});\n\n        let crv_bal = await crv.balanceOf(StrategyCurve3CRVv2)\n        let crv_bal_p = convertAmountFromRawNumber(crv_bal.toString(), 18)\n        console.log(`crv_bal_p is ${crv_bal_p}`)\n\n\n        const ethAsset115 = {\n            \"symbol\": \"Crv\",\n            \"name\": \"Crv-Stragy\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal\n        };\n        assets2.push(ethAsset115);\n\n        let crv_bal1 = await crv.balanceOf(ControllerV4)\n        let crv_bal_p1 = convertAmountFromRawNumber(crv_bal1.toString(), 18)\n        console.log(`crv_bal_p  is ${crv_bal_p1}`)\n\n\n        const ethAsset116 = {\n            \"symbol\": \"Crv-c\",\n            \"name\": \"Crv-Controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal1\n        };\n        assets2.push(ethAsset116);\n\n        let threecrv_bal = await threecrv.balanceOf(accounts[0])\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal is ${threecrv_bal}`)\n\n\n        const ethAsset = {\n            \"symbol\": \"3Crv-user\",\n            \"name\": \"3Crv-user\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal\n        };\n        assets2.push(ethAsset);\n\n        let threecrv_bal1 = await threecrv.balanceOf(Vaults)\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal1 is ${threecrv_bal1}`)\n\n\n        const ethAsset222 = {\n            \"symbol\": \"3Crv-vaults\",\n            \"name\": \"3Crv-vaults\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal1\n        };\n        assets2.push(ethAsset222);\n\n\n        let usdc_bal = await usdc.balanceOf(accounts[0])\n        let usdc_bal_p = convertAmountFromRawNumber(usdc_bal.toString(), 6)\n        const ethAsset111 = {\n            \"symbol\": \"USDC-account\",\n            \"name\": \"USDC-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDC,\n            \"balance\": usdc_bal\n        };\n        assets2.push(ethAsset111);\n        let usdt_bal = await usdt.balanceOf(accounts[0])\n        let usdt_bal_p = convertAmountFromRawNumber(usdt_bal.toString(), 6)\n        const ethAsset112 = {\n            \"symbol\": \"USDT-account\",\n            \"name\": \"USDT-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDT,\n            \"balance\": usdt_bal\n        };\n        assets2.push(ethAsset112);\n\n\n\n        let crv3_treasury = await threecrv.balanceOf(_treasury)\n        let crv3_treasury_p1 = convertAmountFromRawNumber(crv3_treasury.toString(), 6)\n        const ethAsset1121 = {\n            \"symbol\": \"3crv-treasury\",\n            \"name\": \"3crv-treasury\",\n            \"decimals\": \"18\",\n            \"contractAddress\": USDT,\n            \"balance\": crv3_treasury\n        };\n        assets2.push(ethAsset1121);\n        console.log(`crv3_treasury 3crv: ${crv3_treasury_p1}`)\n\n\n\n\n\n        let p3crv_bal = await jar.balanceOf(accounts[0])\n        //jar_bal = convertAmountFromRawNumber(jar_bal.toString(), 18)\n        const ethAsset10 = {\n            \"symbol\": \"p3crv_bal\",\n            \"name\": \"p3crv_bal\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": p3crv_bal\n        };\n        assets2.push(ethAsset10);\n\n\n        let available = await jar.available()\n        // available = convertAmountFromRawNumber(available.toString(), 18)\n        const ethAsset3 = {\n            \"symbol\": \"3Crv-jar.available\",\n            \"name\": \"3Crv-jar.available\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": available\n        };\n        assets2.push(ethAsset3);\n\n        let balance = await jar.balance()\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset4 = {\n            \"symbol\": \"3Crv-jar.jar.balance\",\n            \"name\": \"3Crv-jar.jar.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance\n        };\n        assets2.push(ethAsset4);\n\n\n        let strage1 = await usdpgauge.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset6 = {\n            \"symbol\": \"guage-3crv-stragy.balance\",\n            \"name\": \"guage-3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage1\n        };\n        assets2.push(ethAsset6);\n\n        let strage2 = await threecrv.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset7 = {\n            \"symbol\": \"3crv-stragy.balance\",\n            \"name\": \"3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage2\n        };\n        assets2.push(ethAsset7);\n\n        let guage = await usdpgauge.balanceOf(ControllerV4)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset5 = {\n            \"symbol\": \"guage-3crv-controller.balance\",\n            \"name\": \"guage-3crv-controller.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": guage\n        };\n        assets2.push(ethAsset5);\n\n        let balance_controller = await controller.balanceOf(three_crv)\n        balance_controller = convertAmountFromRawNumber(balance_controller.toString(), 18)\n        const ethAsset2 = {\n            \"symbol\": \"3Crv-controller\",\n            \"name\": \"3Crv-controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance_controller\n        };\n        assets2.push(ethAsset2);\n\n        // console.log(`jar.methods.testController  response :`,JSON.stringify(rep.toString()))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n            assets2\n        });\n    }\n\n    public testsetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function setPerformanceTreasuryFee(uint256 _performanceTreasuryFee)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.setPerformanceTreasuryFee(10000)\n\n        // console.log(`jar.methods.withdrawAll  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testgetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function performanceTreasuryFee() public view returns (uint256)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.performanceTreasuryFee()\n\n        console.log(`testgetPerformanceTreasuryFee  response :`, rep.toString())\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testEarn = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n\n            \"function earn(address _token, uint256 _amount) public\",\n\n        ];\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function earn() public\",\n        ];\n\n        const jar = new ethers.Contract(Vaults, abi1, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep1 = await jar.earn()\n\n        //let strategy_depoist_rep = await stragy.deposit()\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n    public testHarvest = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function harvest() public \",\n            \"function usdp_pool() public view returns (address)\",\n            \"function gauge() public view returns (address)\",\n            \"function getMostPremium() public  view returns (address, uint256)\",\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n\n        const strategy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        // let rep = await strategy.gauge()\n        // console.log(`getMostPremium rep is ${rep}, coin index is :`,);\n\n        let rep1 = await strategy.harvest()\n        console.log(`testHarvest rep is ${JSON.stringify(rep1)}`,);\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n\n\n    public resetApp = async () => {\n        const {web3} = this.state;\n        if (web3 && web3.currentProvider && web3.currentProvider.close) {\n            await web3.currentProvider.close();\n        }\n        await this.web3Modal.clearCachedProvider();\n        this.setState({...INITIAL_STATE});\n    };\n\n\n\n\n\n\n\n    public getHarvestable = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n            \"function primitiveToCurvePickleJar_3(address curve,address[3] memory underlying,uint256[3] memory underlyingAmounts,address curveLp,address pickleJar) public returns (uint256)\",\n            \"function getHarvestable() external returns (uint256)\"\n        ];\n        const inst = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        //const amount = parseUnits(\"60000\", 6);\n        let rep = await inst.getHarvestable()\n\n        console.log(`getHarvestable rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n\n\n\n\n\n    public testgetReward = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function rewards(address) public view returns (uint256) \",\n            \"function rewardPerTokenStored() public view returns (uint256) \",\n            \"function inviter(address) public view returns (address) \",\n            \" function getReward() public\",\n            \" function _totalSupply() public view returns(uint256)\"\n        ];\n        const invite = new ethers.Contract(Invite, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await invite.rewards(inviter)\n        console.log(`invite.rewards(inviter) rep is ${JSON.stringify(rep)}`)\n        rep = await invite.rewardPerTokenStored()\n        console.log(`invite.rewardPerTokenStored() rep is ${JSON.stringify(rep)}`)\n        rep = await invite.inviter(\"0xD90D00101E1Cf4729f02A5598f4288E00001FC04\")\n        console.log(`invite.inviter() rep is ${JSON.stringify(rep)}`)\n        rep = await invite._totalSupply()\n        console.log(`invite._totalSupply() rep is ${JSON.stringify(rep)}`);\n        console.log(`invite._totalSupply() rep is ${convertAmountFromRawNumber(rep.toString(), 18)}`)\n        rep = await invite.getReward()\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testvaultbalance = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function balance() public view returns(uint256)\",\n            \"function totalSupply() public view returns(uint256)\",\n            \"function available() public view returns(uint256)\"\n        ];\n        const vault = new ethers.Contract(\"0xB54aE04A1472FCdd0f3C122cF716c56415F4D853\", abi, prov);\n\n        let rep = await vault.balance()\n        console.log('balance:',convertAmountFromRawNumber(rep.toString()))\n        let rep1 = await vault.totalSupply()\n        console.log('totalSupply:',convertAmountFromRawNumber(rep1.toString()))\n        let rep2 = await vault.available()\n        console.log('available:',convertAmountFromRawNumber(rep2.toString()))\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n        ];\n        const lp = new ethers.Contract(\"0x7Eb40E450b9655f4B3cC4259BCC731c63ff55ae6\", abi1, prov);\n\n        let rep3 = await lp.balanceOf('0xB54aE04A1472FCdd0f3C122cF716c56415F4D853')\n        console.log('balanceOF:',convertAmountFromRawNumber(rep3.toString()))\n    }\n\n    public render = () => {\n        const {\n            assets,\n            assets2,\n            address,\n            connected,\n            chainId,\n            fetching,\n            showModal,\n            pendingRequest,\n            result\n        } = this.state;\n        return (\n            <SLayout>\n                <Column maxWidth={1000} spanHeight>\n                    <Header\n                        connected={connected}\n                        address={address}\n                        chainId={chainId}\n                        killSession={this.resetApp}\n                    />\n                    <SContent>\n                        {fetching ? (\n                            <Column center>\n                                <SContainer>\n                                    <Loader/>\n                                </SContainer>\n                            </Column>\n                        ) : !!assets && !!assets.length ? (\n                            <SBalances>\n                                <h6>Admin Setting Actions</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n\n\n                                        <STestButton left onClick={() => this.setController()}>\n                                            setController\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.setStragy()}>\n                                            setStragy\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testBlockNumber()}>\n                                            testBlockNumber\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testBalance()}>\n                                            testBalance\n                                        </STestButton>\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Strategist :Deposite 3Crv</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testEarn()}>\n                                            testEarn\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testHarvest()}>\n                                            testHarvest\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.getHarvestable()}>\n                                            getHarvestable--test good uni stablecoin\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testApprove()}>\n                                            testApprove\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testDeposit()}>\n                                            testDeposit\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testsetPerformanceTreasuryFee()}>\n                                            setPerformanceTreasuryFee\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testgetPerformanceTreasuryFee()}>\n                                            getPerformanceTreasuryFee\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>USER ：Deposite from uni stablecoin</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n\n\n                                        <STestButton left onClick={() => this.testvaultbalance()}>\n                                            测试vault balance\n                                        </STestButton>\n                                    </STestButtonContainer>\n                                </Column>\n\n                                <h6>Inviter ：Withdraw </h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testgetReward()}>\n                                            testgetReward\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets}/>{\" \"}\n                                <h6>Valuts Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets2}/>{\" \"}\n                            </SBalances>\n                        ) : (\n                            <SLanding center>\n                                <h6>{`Test Web3Modal`}</h6>\n                                <ConnectButton onClick={this.onConnect}/>\n                            </SLanding>\n                        )}\n                    </SContent>\n                </Column>\n                <Modal show={showModal} toggleModal={this.toggleModal}>\n                    {pendingRequest ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Pending Call Request\"}</SModalTitle>\n                            <SContainer>\n                                <Loader/>\n                                <SModalParagraph>\n                                    {\"Approve or reject request using your wallet\"}\n                                </SModalParagraph>\n                            </SContainer>\n                        </SModalContainer>\n                    ) : result ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Approved\"}</SModalTitle>\n                            <ModalResult>{result}</ModalResult>\n                        </SModalContainer>\n                    ) : (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Rejected\"}</SModalTitle>\n                        </SModalContainer>\n                    )}\n                </Modal>\n            </SLayout>\n        );\n    };\n}\n\nexport default App;\n","/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_lusd.tsx",["322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342"],"import * as React from \"react\";\nimport styled from \"styled-components\";\nimport Web3 from \"web3\";\n\nimport Web3Modal from \"web3modal\";\n// @ts-ignore\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n// @ts-ignore\nimport Fortmatic from \"fortmatic\";\nimport Torus from \"@toruslabs/torus-embed\";\nimport Authereum from \"authereum\";\nimport {Bitski} from \"bitski\";\n\nimport Button from \"./components/Button\";\nimport Column from \"./components/Column\";\nimport Wrapper from \"./components/Wrapper\";\nimport Modal from \"./components/Modal\";\nimport Header from \"./components/Header\";\nimport Loader from \"./components/Loader\";\nimport ModalResult from \"./components/ModalResult\";\nimport AccountAssets from \"./components/AccountAssets\";\nimport ConnectButton from \"./components/ConnectButton\";\nimport {getChainData} from \"./helpers/utilities\";\nimport {IAssetData} from \"./helpers/types\";\nimport {fonts} from \"./styles\";\nimport {ethers, utils} from 'ethers';\nimport {convertAmountFromRawNumber} from \"./helpers/bignumber\";\nimport accounts from \"web3/eth/accounts\";\n\n\nconst StrategyCurve3CRVv2_ABI = require(\"./abi/StrategyCurve3CRVv2.json\");\nconst ControllerV4_ABI = require(\"./abi/ControllerV4.json\");\n\n\nconst USDC = \"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\";\nconst USDT = \"0xdac17f958d2ee523a2206206994597c13d831ec7\";\nconst DAI = \"0x6b175474e89094c44da98b954eedeac495271d0f\";\nconst USDP = \"0x1456688345527bE1f37E9e627DA0837D6f08C925\";\nconst USDN = \"0x674C6Ad92Fd080e4004b2312b45f796a192D27a0\";\n\nconst three_crv = \"0xEd279fDD11cA84bEef15AF5D39BB4d4bEE23F0cA\";\nconst three_pool = \"0xA79828DF1850E8a3A3064576f380D90aECDD3359\";\nconst usdn_gauge = \"0x9B8519A9a00100720CCdC8a120fBeD319cA47a14\";\n\nconst CRV = \"0xD533a949740bb3306d119CC777fa900bA034cd52\";\nconst LQTY = \"0x6DEA81C8171D0bA574754EF6F8b412F2Ed88c54D\";\n\nconst Vaults = \"0xF69BaAD9eB869Dc0a2190eD91694fc7d6a49a767\";\nconst StrategyCurve3CRVv2 = \"0xe49f92E4717ab7Ec5dbDCC7D0ed2164CD7bc0561\";\nconst ControllerV4 = \"0x5D9396B27bE234F3f70a8980995025EC0B55d92E\";\n\nconst Invite = \"0x36B466533d6bfF320E05Be310803e8b906eF9f79\";\nconst _treasury = \"0xF2bb9641694Baa6848338CD40993681Fee936a12\"\n\nconst univ2Router2 = \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\";\nconst inviter = \"0x6d96E5266d662D7ed607CB8D88dC6447632bB298\";\n\nconst {parseUnits} = ethers.utils;\nconst {Zero, MaxUint256} = ethers.constants;\nconst {parseEther} = ethers.utils;\n\n\nconst SLayout = styled.div`\n  position: relative;\n  width: 100%;\n  min-height: 100vh;\n  text-align: center;\n`;\n\nconst SContent = styled(Wrapper)`\n  width: 100%;\n  height: 100%;\n  padding: 0 16px;\n`;\n\nconst SContainer = styled.div`\n  height: 100%;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  word-break: break-word;\n`;\n\nconst SLanding = styled(Column)`\n  height: 600px;\n`;\n\nconst SModalContainer = styled.div`\n  width: 100%;\n  position: relative;\n  word-wrap: break-word;\n`;\n\nconst SModalTitle = styled.div`\n  margin: 1em 0;\n  font-size: 20px;\n  font-weight: 700;\n`;\n\nconst SModalParagraph = styled.p`\n  margin-top: 30px;\n`;\n\n// @ts-ignore\nconst SBalances = styled(SLanding)`\n  height: 100%;\n  & h3 {\n    padding-top: 30px;\n  }\n`;\n\nconst STestButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n`;\n\nconst STestButton = styled(Button)`\n  border-radius: 8px;\n  font-size: ${fonts.size.medium};\n  height: 44px;\n  width: 100%;\n  max-width: 175px;\n  margin: 12px;\n`;\n\ninterface IAppState {\n    fetching: boolean;\n    address: string;\n    web3: any;\n    provider: any;\n    connected: boolean;\n    chainId: number;\n    networkId: number;\n    assets: IAssetData[];\n    assets2: IAssetData[];\n    showModal: boolean;\n    pendingRequest: boolean;\n    result: any | null;\n}\n\nconst INITIAL_STATE: IAppState = {\n    fetching: false,\n    address: \"\",\n    web3: null,\n    provider: null,\n    connected: false,\n    chainId: 1,\n    networkId: 1,\n    assets: [],\n    assets2: [],\n    showModal: false,\n    pendingRequest: false,\n    result: null\n};\n\nfunction initWeb3(provider: any) {\n    const web3: any = new Web3(provider);\n\n    web3.eth.extend({\n        methods: [\n            {\n                name: \"chainId\",\n                call: \"eth_chainId\",\n                outputFormatter: web3.utils.hexToNumber\n            }\n        ]\n    });\n\n    return web3;\n}\n\nclass App extends React.Component<any, any> {\n    // @ts-ignore\n    public web3Modal: Web3Modal;\n    public state: IAppState;\n\n    public claim: string = \"0x5aa37930cbe5f4b04d617f71f78abc6c21be4cc0\";\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            ...INITIAL_STATE\n        };\n\n        this.web3Modal = new Web3Modal({\n            network: this.getNetwork(),\n            cacheProvider: true,\n            providerOptions: this.getProviderOptions()\n        });\n    }\n\n    public componentDidMount() {\n        if (this.web3Modal.cachedProvider) {\n            this.onConnect();\n        }\n    }\n\n    public onConnect = async () => {\n        const provider = await this.web3Modal.connect();\n\n        await this.subscribeProvider(provider);\n\n        const web3: any = initWeb3(provider);\n\n        const accounts = await web3.eth.getAccounts();\n\n        const address = accounts[0];\n\n        const networkId = await web3.eth.net.getId();\n\n        const chainId = await web3.eth.chainId();\n\n        console.log(`chainId is ${chainId}  networkId ${networkId}`)\n\n        await this.setState({\n            web3,\n            provider,\n            connected: true,\n            address,\n            chainId,\n            networkId\n        });\n\n        await this.getAccountAssets(provider);\n    };\n\n    public subscribeProvider = async (provider: any) => {\n        if (!provider.on) {\n            return;\n        }\n        provider.on(\"close\", () => this.resetApp());\n        provider.on(\"accountsChanged\", async (accounts: string[]) => {\n            await this.setState({address: accounts[0]});\n            await this.getAccountAssets(provider);\n        });\n        provider.on(\"chainChanged\", async (chainId: number) => {\n            const {web3} = this.state;\n            const networkId = await web3.eth.net.getId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n\n        provider.on(\"networkChanged\", async (networkId: number) => {\n            const {web3} = this.state;\n            const chainId = await web3.eth.chainId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n    };\n\n    public getNetwork = () => getChainData(this.state.chainId).network;\n\n    public getProviderOptions = () => {\n        const providerOptions = {\n            walletconnect: {\n                package: WalletConnectProvider,\n                options: {\n                    infuraId: process.env.REACT_APP_INFURA_ID\n                }\n            },\n            torus: {\n                package: Torus\n            },\n            fortmatic: {\n                package: Fortmatic,\n                options: {\n                    key: process.env.REACT_APP_FORTMATIC_KEY\n                }\n            },\n            authereum: {\n                package: Authereum\n            },\n            bitski: {\n                package: Bitski,\n                options: {\n                    clientId: process.env.REACT_APP_BITSKI_CLIENT_ID,\n                    callbackUrl: window.location.href + \"bitski-callback.html\"\n                }\n            }\n        };\n        return providerOptions;\n    };\n\n    public getAccountAssets = async (provider: any) => {\n        const {address, chainId} = this.state;\n        this.setState({fetching: false});\n        try {\n            const prov = new ethers.providers.Web3Provider(provider)\n            let balance = await prov.getBalance(address);\n            console.log('[wa]:', balance.toString(), \",\", balance)\n            let assets = [];\n            let assets2 = [];\n            let ethAsset = {\n                \"symbol\": \"ETH\",\n                \"name\": \"Ether\",\n                \"decimals\": \"18\",\n                \"contractAddress\": \"\",\n                \"balance\": balance\n            };\n            assets.push(ethAsset);\n            // A Human-Readable ABI; any supported ABI format could be used\n\n\n            this.setState({fetching: false, assets});\n        } catch (error) {\n            console.error(error); // tslint:disable-line\n            this.setState({fetching: false});\n        }\n\n    };\n\n    public toggleModal = () =>\n        this.setState({showModal: !this.state.showModal});\n\n\n    public setController = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let controller = new web3.eth.Contract(\n            ControllerV4_ABI,\n            ControllerV4,\n        );\n        //\n        const usdncrv = '0xEd279fDD11cA84bEef15AF5D39BB4d4bEE23F0cA'\n\n\n      //  let repusdn = await controller.methods.setValut(usdncrv, Vaults).send({from: accounts[0]})\n       // console.log(`controller.methods.setJar  response :`, JSON.stringify(repusdn))\n\n        let repusdn = await controller.methods.setStrategy(usdncrv, StrategyCurve3CRVv2).send({from: accounts[0]})\n        console.log(`setStrategy rep is ${JSON.stringify(repusdn)}`)\n\n    }\n\n    public setStragy = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let stragy = new web3.eth.Contract(\n            StrategyCurve3CRVv2_ABI,\n            StrategyCurve3CRVv2,\n        );\n\n        //设置保留的crv，之后会除以10000，设置1000，等于十分之一\n        let rep = await stragy.methods.setKeepCRV(0).send({from: accounts[0]})\n        console.log(`stragy.methods.setKeepCRV(1000)  response :`, JSON.stringify(rep))\n\n\n    }\n\n    public testBlockNumber = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        let rep = await web3.eth.getBlockNumber()\n        console.log(`setStrategy rep is ${JSON.stringify(rep)}`)\n        const accounts = await web3.eth.getAccounts();\n\n\n        const provider = new ethers.providers.JsonRpcProvider();\n\n        const signer = provider.getSigner()\n\n\n    }\n\n\n    public testApprove = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n        const test = new ethers.Contract(three_crv, abi, prov.getSigner());\n\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await test.approve(univ2Router2, utils.parseUnits('0', 18).toString())\n        rep = await test.approve(univ2Router2, utils.parseUnits('1000000000000', 18).toString())\n        console.log(`approve univ2Router2 crv rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n    // 测试交易match A地址300TEST2币  B地址200TEST1币  交易match\n    public testDeposit = async () => {\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \" function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n        ];\n        const test1 = new ethers.Contract(Vaults, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        let balance = await test1.balance()\n        console.log(`test1.balance  response :`, JSON.stringify(balance.toString()))\n        // const rep = await test1.totalSupply()\n        let rep = await test1.deposit(utils.parseUnits('2800', 18).toString())\n\n\n        console.log(`jar.methods.deposi  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n\n\n        });\n\n\n    }\n\n    public testBalance = async () => {\n        let assets2 = [];\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n            \"function available() public view returns (uint256)\",\n            \"function balanceOfPool() public override view returns (uint256)\"\n        ];\n        const threecrv = new ethers.Contract(three_crv, abi, prov.getSigner());\n        const jar = new ethers.Contract(Vaults, abi, prov.getSigner());\n        const controller = new ethers.Contract(ControllerV4, abi, prov.getSigner());\n        const usdpgauge = new ethers.Contract(usdn_gauge, abi, prov.getSigner());\n        const stragy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner())\n        const usdc = new ethers.Contract(USDC, abi, prov.getSigner())\n        const usdt = new ethers.Contract(USDT, abi, prov.getSigner())\n        const vaults1 = new ethers.Contract(Vaults, abi, prov.getSigner())\n        const lqty = new ethers.Contract(LQTY, abi, prov.getSigner())\n\n\n        const crv = new ethers.Contract(CRV, abi, prov.getSigner())\n\n        this.toggleModal();\n        this.setState({pendingRequest: true});\n        let lqty_bal1 = await lqty.balanceOf(StrategyCurve3CRVv2)\n        let lqty_bal_p1 = convertAmountFromRawNumber(lqty_bal1.toString(), 18)\n        console.log(`lqty_bal1  is ${lqty_bal1}`)\n\n\n        const ethAsset1161 = {\n            \"symbol\": \"lqty\",\n            \"name\": \"lqty\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": lqty_bal1\n        };\n        assets2.push(ethAsset1161);\n\n\n        let crv_bal = await crv.balanceOf(StrategyCurve3CRVv2)\n        let crv_bal_p = convertAmountFromRawNumber(crv_bal.toString(), 18)\n        console.log(`crv_bal_p is ${crv_bal_p}`)\n\n\n        const ethAsset115 = {\n            \"symbol\": \"Crv\",\n            \"name\": \"Crv-Stragy\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal\n        };\n        assets2.push(ethAsset115);\n\n        let crv_bal1 = await crv.balanceOf(ControllerV4)\n        let crv_bal_p1 = convertAmountFromRawNumber(crv_bal1.toString(), 18)\n        console.log(`crv_bal_p  is ${crv_bal_p1}`)\n\n\n        const ethAsset116 = {\n            \"symbol\": \"Crv-c\",\n            \"name\": \"Crv-Controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal1\n        };\n        assets2.push(ethAsset116);\n\n        let threecrv_bal = await threecrv.balanceOf(accounts[0])\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal is ${threecrv_bal}`)\n\n\n        const ethAsset = {\n            \"symbol\": \"3Crv-user\",\n            \"name\": \"3Crv-user\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal\n        };\n        assets2.push(ethAsset);\n\n        let threecrv_bal1 = await threecrv.balanceOf(Vaults)\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal1 is ${threecrv_bal1}`)\n\n\n        const ethAsset222 = {\n            \"symbol\": \"3Crv-vaults\",\n            \"name\": \"3Crv-vaults\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal1\n        };\n        assets2.push(ethAsset222);\n\n\n        let usdc_bal = await usdc.balanceOf(accounts[0])\n        let usdc_bal_p = convertAmountFromRawNumber(usdc_bal.toString(), 6)\n        const ethAsset111 = {\n            \"symbol\": \"USDC-account\",\n            \"name\": \"USDC-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDC,\n            \"balance\": usdc_bal\n        };\n        assets2.push(ethAsset111);\n        let usdt_bal = await usdt.balanceOf(accounts[0])\n        let usdt_bal_p = convertAmountFromRawNumber(usdt_bal.toString(), 6)\n        const ethAsset112 = {\n            \"symbol\": \"USDT-account\",\n            \"name\": \"USDT-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDT,\n            \"balance\": usdt_bal\n        };\n        assets2.push(ethAsset112);\n\n\n\n        let crv3_treasury = await threecrv.balanceOf(_treasury)\n        let crv3_treasury_p1 = convertAmountFromRawNumber(crv3_treasury.toString(), 6)\n        const ethAsset1121 = {\n            \"symbol\": \"3crv-treasury\",\n            \"name\": \"3crv-treasury\",\n            \"decimals\": \"18\",\n            \"contractAddress\": USDT,\n            \"balance\": crv3_treasury\n        };\n        assets2.push(ethAsset1121);\n        console.log(`crv3_treasury 3crv: ${crv3_treasury_p1}`)\n\n\n\n\n\n        let p3crv_bal = await jar.balanceOf(accounts[0])\n        //jar_bal = convertAmountFromRawNumber(jar_bal.toString(), 18)\n        const ethAsset10 = {\n            \"symbol\": \"p3crv_bal\",\n            \"name\": \"p3crv_bal\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": p3crv_bal\n        };\n        assets2.push(ethAsset10);\n\n\n        let available = await jar.available()\n        // available = convertAmountFromRawNumber(available.toString(), 18)\n        const ethAsset3 = {\n            \"symbol\": \"3Crv-jar.available\",\n            \"name\": \"3Crv-jar.available\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": available\n        };\n        assets2.push(ethAsset3);\n\n        let balance = await jar.balance()\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset4 = {\n            \"symbol\": \"3Crv-jar.jar.balance\",\n            \"name\": \"3Crv-jar.jar.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance\n        };\n        assets2.push(ethAsset4);\n\n\n        let strage1 = await usdpgauge.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`strage1 is ${strage1}`)\n\n\n        const ethAsset6 = {\n            \"symbol\": \"guage-3crv-stragy.balance\",\n            \"name\": \"guage-3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage1\n        };\n        assets2.push(ethAsset6);\n\n        let strage2 = await threecrv.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`strage2 lusdlp is ${strage2}`)\n        const ethAsset7 = {\n            \"symbol\": \"3crv-stragy.balance\",\n            \"name\": \"3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage2\n        };\n        assets2.push(ethAsset7);\n\n        let guage = await usdpgauge.balanceOf(ControllerV4)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`guage is ${guage}`)\n\n        const ethAsset5 = {\n            \"symbol\": \"guage-3crv-controller.balance\",\n            \"name\": \"guage-3crv-controller.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": guage\n        };\n        assets2.push(ethAsset5);\n\n        let balance_controller = await controller.balanceOf(three_crv)\n        balance_controller = convertAmountFromRawNumber(balance_controller.toString(), 18)\n        const ethAsset2 = {\n            \"symbol\": \"3Crv-controller\",\n            \"name\": \"3Crv-controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance_controller\n        };\n        assets2.push(ethAsset2);\n\n        // console.log(`jar.methods.testController  response :`,JSON.stringify(rep.toString()))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n            assets2\n        });\n    }\n\n    public testsetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function setPerformanceTreasuryFee(uint256 _performanceTreasuryFee)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.setPerformanceTreasuryFee(10000)\n\n        // console.log(`jar.methods.withdrawAll  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testgetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function performanceTreasuryFee() public view returns (uint256)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.performanceTreasuryFee()\n\n        console.log(`testgetPerformanceTreasuryFee  response :`, rep.toString())\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testEarn = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n\n            \"function earn(address _token, uint256 _amount) public\",\n\n        ];\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function earn() public\",\n        ];\n\n        const jar = new ethers.Contract(Vaults, abi1, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep1 = await jar.earn()\n\n        //let strategy_depoist_rep = await stragy.deposit()\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n    public testHarvest = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function harvest() public \",\n            \"function usdp_pool() public view returns (address)\",\n            \"function gauge() public view returns (address)\",\n            \"function getMostPremium() public  view returns (address, uint256)\",\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n\n        const strategy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        // let rep = await strategy.gauge()\n        // console.log(`getMostPremium rep is ${rep}, coin index is :`,);\n\n        let rep1 = await strategy.harvest()\n        console.log(`testHarvest rep is ${JSON.stringify(rep1)}`,);\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n\n\n    public testReward = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function harvest() public \",\n            \"function usdp_pool() public view returns (address)\",\n            \"function gauge() public view returns (address)\",\n            \"function getMostPremium() public  view returns (address, uint256)\",\n            \" function claim_rewards(address addr) external\",\n        ];\n\n        const gauge = new ethers.Contract(usdn_gauge, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        // let rep = await strategy.gauge()\n        // console.log(`getMostPremium rep is ${rep}, coin index is :`,);\n\n        let rep1 = await gauge.claim_rewards(_treasury)\n        console.log(`gauge.claim_rewards rep is ${JSON.stringify(rep1)}`,);\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n\n\n    public resetApp = async () => {\n        const {web3} = this.state;\n        if (web3 && web3.currentProvider && web3.currentProvider.close) {\n            await web3.currentProvider.close();\n        }\n        await this.web3Modal.clearCachedProvider();\n        this.setState({...INITIAL_STATE});\n    };\n\n\n\n\n\n\n\n    public getHarvestable = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n            \"function primitiveToCurvePickleJar_3(address curve,address[3] memory underlying,uint256[3] memory underlyingAmounts,address curveLp,address pickleJar) public returns (uint256)\",\n            \"function getHarvestable() external returns (uint256)\"\n        ];\n        const inst = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        //const amount = parseUnits(\"60000\", 6);\n        let rep = await inst.getHarvestable()\n\n        console.log(`getHarvestable rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n\n\n\n\n\n    public testgetReward = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function rewards(address) public view returns (uint256) \",\n            \"function rewardPerTokenStored() public view returns (uint256) \",\n            \"function inviter(address) public view returns (address) \",\n            \" function getReward() public\",\n            \" function _totalSupply() public view returns(uint256)\"\n        ];\n        const invite = new ethers.Contract(Invite, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await invite.rewards(inviter)\n        console.log(`invite.rewards(inviter) rep is ${JSON.stringify(rep)}`)\n        rep = await invite.rewardPerTokenStored()\n        console.log(`invite.rewardPerTokenStored() rep is ${JSON.stringify(rep)}`)\n        rep = await invite.inviter(\"0xD90D00101E1Cf4729f02A5598f4288E00001FC04\")\n        console.log(`invite.inviter() rep is ${JSON.stringify(rep)}`)\n        rep = await invite._totalSupply()\n        console.log(`invite._totalSupply() rep is ${JSON.stringify(rep)}`);\n        console.log(`invite._totalSupply() rep is ${convertAmountFromRawNumber(rep.toString(), 18)}`)\n        rep = await invite.getReward()\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testvaultbalance = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function balance() public view returns(uint256)\",\n            \"function totalSupply() public view returns(uint256)\",\n            \"function available() public view returns(uint256)\"\n        ];\n        const vault = new ethers.Contract(\"0xB54aE04A1472FCdd0f3C122cF716c56415F4D853\", abi, prov);\n\n        let rep = await vault.balance()\n        console.log('balance:',convertAmountFromRawNumber(rep.toString()))\n        let rep1 = await vault.totalSupply()\n        console.log('totalSupply:',convertAmountFromRawNumber(rep1.toString()))\n        let rep2 = await vault.available()\n        console.log('available:',convertAmountFromRawNumber(rep2.toString()))\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n        ];\n        const lp = new ethers.Contract(\"0x7Eb40E450b9655f4B3cC4259BCC731c63ff55ae6\", abi1, prov);\n\n        let rep3 = await lp.balanceOf('0xB54aE04A1472FCdd0f3C122cF716c56415F4D853')\n        console.log('balanceOF:',convertAmountFromRawNumber(rep3.toString()))\n    }\n\n    public render = () => {\n        const {\n            assets,\n            assets2,\n            address,\n            connected,\n            chainId,\n            fetching,\n            showModal,\n            pendingRequest,\n            result\n        } = this.state;\n        return (\n            <SLayout>\n                <Column maxWidth={1000} spanHeight>\n                    <Header\n                        connected={connected}\n                        address={address}\n                        chainId={chainId}\n                        killSession={this.resetApp}\n                    />\n                    <SContent>\n                        {fetching ? (\n                            <Column center>\n                                <SContainer>\n                                    <Loader/>\n                                </SContainer>\n                            </Column>\n                        ) : !!assets && !!assets.length ? (\n                            <SBalances>\n                                <h6>Admin Setting Actions</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n\n\n                                        <STestButton left onClick={() => this.setController()}>\n                                            setController\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.setStragy()}>\n                                            setStragy\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testBlockNumber()}>\n                                            testBlockNumber\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testBalance()}>\n                                            testBalance\n                                        </STestButton>\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Strategist :Deposite 3Crv</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testEarn()}>\n                                            testEarn\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testHarvest()}>\n                                            testHarvest\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.getHarvestable()}>\n                                            getHarvestable--test good uni stablecoin\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testApprove()}>\n                                            testApprove\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testDeposit()}>\n                                            testDeposit\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testsetPerformanceTreasuryFee()}>\n                                            setPerformanceTreasuryFee\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testgetPerformanceTreasuryFee()}>\n                                            getPerformanceTreasuryFee\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>USER ：Deposite from uni stablecoin</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n\n\n                                        <STestButton left onClick={() => this.testvaultbalance()}>\n                                            测试vault balance\n                                        </STestButton>\n                                    </STestButtonContainer>\n                                </Column>\n\n                                <h6>Inviter ：Withdraw </h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testReward()}>\n                                            testReward\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets}/>{\" \"}\n                                <h6>Valuts Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets2}/>{\" \"}\n                            </SBalances>\n                        ) : (\n                            <SLanding center>\n                                <h6>{`Test Web3Modal`}</h6>\n                                <ConnectButton onClick={this.onConnect}/>\n                            </SLanding>\n                        )}\n                    </SContent>\n                </Column>\n                <Modal show={showModal} toggleModal={this.toggleModal}>\n                    {pendingRequest ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Pending Call Request\"}</SModalTitle>\n                            <SContainer>\n                                <Loader/>\n                                <SModalParagraph>\n                                    {\"Approve or reject request using your wallet\"}\n                                </SModalParagraph>\n                            </SContainer>\n                        </SModalContainer>\n                    ) : result ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Approved\"}</SModalTitle>\n                            <ModalResult>{result}</ModalResult>\n                        </SModalContainer>\n                    ) : (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Rejected\"}</SModalTitle>\n                        </SModalContainer>\n                    )}\n                </Modal>\n            </SLayout>\n        );\n    };\n}\n\nexport default App;\n",["343","344"],"/Users/helen/fi/protocol-demo/frontend/src/App_sign.tsx",["345","346","347","348","349","350","351","352"],"/Users/helen/fi/protocol-demo/frontend/src/App_matic.tsx",["353","354","355","356","357"],"/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_alusd.tsx",["358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378"],"import * as React from \"react\";\nimport styled from \"styled-components\";\nimport Web3 from \"web3\";\n\nimport Web3Modal from \"web3modal\";\n// @ts-ignore\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n// @ts-ignore\nimport Fortmatic from \"fortmatic\";\nimport Torus from \"@toruslabs/torus-embed\";\nimport Authereum from \"authereum\";\nimport {Bitski} from \"bitski\";\n\nimport Button from \"./components/Button\";\nimport Column from \"./components/Column\";\nimport Wrapper from \"./components/Wrapper\";\nimport Modal from \"./components/Modal\";\nimport Header from \"./components/Header\";\nimport Loader from \"./components/Loader\";\nimport ModalResult from \"./components/ModalResult\";\nimport AccountAssets from \"./components/AccountAssets\";\nimport ConnectButton from \"./components/ConnectButton\";\nimport {getChainData} from \"./helpers/utilities\";\nimport {IAssetData} from \"./helpers/types\";\nimport {fonts} from \"./styles\";\nimport {ethers, utils} from 'ethers';\nimport {convertAmountFromRawNumber} from \"./helpers/bignumber\";\nimport accounts from \"web3/eth/accounts\";\n\n\nconst StrategyCurve3CRVv2_ABI = require(\"./abi/StrategyCurve3CRVv2.json\");\nconst ControllerV4_ABI = require(\"./abi/ControllerV4.json\");\n\n\nconst USDC = \"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\";\nconst USDT = \"0xdac17f958d2ee523a2206206994597c13d831ec7\";\nconst DAI = \"0x6b175474e89094c44da98b954eedeac495271d0f\";\nconst USDP = \"0x1456688345527bE1f37E9e627DA0837D6f08C925\";\nconst USDN = \"0x674C6Ad92Fd080e4004b2312b45f796a192D27a0\";\n\nconst three_crv = \"0x43b4FdFD4Ff969587185cDB6f0BD875c5Fc83f8c\";\nconst three_pool = \"0xA79828DF1850E8a3A3064576f380D90aECDD3359\";\nconst usdn_gauge = \"0x9582C4ADACB3BCE56Fea3e590F05c3ca2fb9C477\";\n\nconst CRV = \"0xD533a949740bb3306d119CC777fa900bA034cd52\";\nconst LQTY = \"0x6DEA81C8171D0bA574754EF6F8b412F2Ed88c54D\";\n\nconst Vaults = \"0x4541fc836c0ADE5E9EfD3023160f54dBFbA3C373\";\nconst StrategyCurve3CRVv2 = \"0xFBeDd7C25A16877fA826D249e019B4a9cE96E9c6\";\n// const ControllerV4 = \"0x5D9396B27bE234F3f70a8980995025EC0B55d92E\"; 5/30 old\nconst ControllerV4 = \"0x8A54FA431B7461FfE4999B3CCD00bd7D4ADd1e4a\";\n\nconst Invite = \"0x36B466533d6bfF320E05Be310803e8b906eF9f79\";\nconst _treasury = \"0xAf069A99690BB3055D6305BDeE514f734021199f\"\n\nconst univ2Router2 = \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\";\nconst inviter = \"0x6d96E5266d662D7ed607CB8D88dC6447632bB298\";\n\nconst {parseUnits} = ethers.utils;\nconst {Zero, MaxUint256} = ethers.constants;\nconst {parseEther} = ethers.utils;\n\n\nconst SLayout = styled.div`\n  position: relative;\n  width: 100%;\n  min-height: 100vh;\n  text-align: center;\n`;\n\nconst SContent = styled(Wrapper)`\n  width: 100%;\n  height: 100%;\n  padding: 0 16px;\n`;\n\nconst SContainer = styled.div`\n  height: 100%;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  word-break: break-word;\n`;\n\nconst SLanding = styled(Column)`\n  height: 600px;\n`;\n\nconst SModalContainer = styled.div`\n  width: 100%;\n  position: relative;\n  word-wrap: break-word;\n`;\n\nconst SModalTitle = styled.div`\n  margin: 1em 0;\n  font-size: 20px;\n  font-weight: 700;\n`;\n\nconst SModalParagraph = styled.p`\n  margin-top: 30px;\n`;\n\n// @ts-ignore\nconst SBalances = styled(SLanding)`\n  height: 100%;\n  & h3 {\n    padding-top: 30px;\n  }\n`;\n\nconst STestButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n`;\n\nconst STestButton = styled(Button)`\n  border-radius: 8px;\n  font-size: ${fonts.size.medium};\n  height: 44px;\n  width: 100%;\n  max-width: 175px;\n  margin: 12px;\n`;\n\ninterface IAppState {\n    fetching: boolean;\n    address: string;\n    web3: any;\n    provider: any;\n    connected: boolean;\n    chainId: number;\n    networkId: number;\n    assets: IAssetData[];\n    assets2: IAssetData[];\n    showModal: boolean;\n    pendingRequest: boolean;\n    result: any | null;\n}\n\nconst INITIAL_STATE: IAppState = {\n    fetching: false,\n    address: \"\",\n    web3: null,\n    provider: null,\n    connected: false,\n    chainId: 1,\n    networkId: 1,\n    assets: [],\n    assets2: [],\n    showModal: false,\n    pendingRequest: false,\n    result: null\n};\n\nfunction initWeb3(provider: any) {\n    const web3: any = new Web3(provider);\n\n    web3.eth.extend({\n        methods: [\n            {\n                name: \"chainId\",\n                call: \"eth_chainId\",\n                outputFormatter: web3.utils.hexToNumber\n            }\n        ]\n    });\n\n    return web3;\n}\n\nclass App extends React.Component<any, any> {\n    // @ts-ignore\n    public web3Modal: Web3Modal;\n    public state: IAppState;\n\n    public claim: string = \"0x5aa37930cbe5f4b04d617f71f78abc6c21be4cc0\";\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            ...INITIAL_STATE\n        };\n\n        this.web3Modal = new Web3Modal({\n            network: this.getNetwork(),\n            cacheProvider: true,\n            providerOptions: this.getProviderOptions()\n        });\n    }\n\n    public componentDidMount() {\n        if (this.web3Modal.cachedProvider) {\n            this.onConnect();\n        }\n    }\n\n    public onConnect = async () => {\n        const provider = await this.web3Modal.connect();\n\n        await this.subscribeProvider(provider);\n\n        const web3: any = initWeb3(provider);\n\n        const accounts = await web3.eth.getAccounts();\n\n        const address = accounts[0];\n\n        const networkId = await web3.eth.net.getId();\n\n        const chainId = await web3.eth.chainId();\n\n        console.log(`chainId is ${chainId}  networkId ${networkId}`)\n\n        await this.setState({\n            web3,\n            provider,\n            connected: true,\n            address,\n            chainId,\n            networkId\n        });\n\n        await this.getAccountAssets(provider);\n    };\n\n    public subscribeProvider = async (provider: any) => {\n        if (!provider.on) {\n            return;\n        }\n        provider.on(\"close\", () => this.resetApp());\n        provider.on(\"accountsChanged\", async (accounts: string[]) => {\n            await this.setState({address: accounts[0]});\n            await this.getAccountAssets(provider);\n        });\n        provider.on(\"chainChanged\", async (chainId: number) => {\n            const {web3} = this.state;\n            const networkId = await web3.eth.net.getId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n\n        provider.on(\"networkChanged\", async (networkId: number) => {\n            const {web3} = this.state;\n            const chainId = await web3.eth.chainId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n    };\n\n    public getNetwork = () => getChainData(this.state.chainId).network;\n\n    public getProviderOptions = () => {\n        const providerOptions = {\n            walletconnect: {\n                package: WalletConnectProvider,\n                options: {\n                    infuraId: process.env.REACT_APP_INFURA_ID\n                }\n            },\n            torus: {\n                package: Torus\n            },\n            fortmatic: {\n                package: Fortmatic,\n                options: {\n                    key: process.env.REACT_APP_FORTMATIC_KEY\n                }\n            },\n            authereum: {\n                package: Authereum\n            },\n            bitski: {\n                package: Bitski,\n                options: {\n                    clientId: process.env.REACT_APP_BITSKI_CLIENT_ID,\n                    callbackUrl: window.location.href + \"bitski-callback.html\"\n                }\n            }\n        };\n        return providerOptions;\n    };\n\n    public getAccountAssets = async (provider: any) => {\n        const {address, chainId} = this.state;\n        this.setState({fetching: false});\n        try {\n            const prov = new ethers.providers.Web3Provider(provider)\n            let balance = await prov.getBalance(address);\n            console.log('[wa]:', balance.toString(), \",\", balance)\n            let assets = [];\n            let assets2 = [];\n            let ethAsset = {\n                \"symbol\": \"ETH\",\n                \"name\": \"Ether\",\n                \"decimals\": \"18\",\n                \"contractAddress\": \"\",\n                \"balance\": balance\n            };\n            assets.push(ethAsset);\n            // A Human-Readable ABI; any supported ABI format could be used\n\n\n            this.setState({fetching: false, assets});\n        } catch (error) {\n            console.error(error); // tslint:disable-line\n            this.setState({fetching: false});\n        }\n\n    };\n\n    public toggleModal = () =>\n        this.setState({showModal: !this.state.showModal});\n\n\n    public setController = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let controller = new web3.eth.Contract(\n            ControllerV4_ABI,\n            ControllerV4,\n        );\n\n\n        let repusdn1 = await controller.methods.setValut(three_crv, Vaults).send({from: accounts[0]})\n       console.log(`controller.methods.setJar  response :`, JSON.stringify(repusdn1))\n\n        let repusdn2 = await controller.methods.setStrategy(three_crv, StrategyCurve3CRVv2).send({from: accounts[0]})\n        console.log(`setStrategy rep is ${JSON.stringify(repusdn2)}`)\n\n    }\n\n    public setStragy = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let stragy = new web3.eth.Contract(\n            StrategyCurve3CRVv2_ABI,\n            StrategyCurve3CRVv2,\n        );\n\n        //设置保留的crv，之后会除以10000，设置1000，等于十分之一\n        let rep = await stragy.methods.setKeepCRV(0).send({from: accounts[0]})\n        console.log(`stragy.methods.setKeepCRV(1000)  response :`, JSON.stringify(rep))\n\n\n    }\n\n    public testBlockNumber = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        let rep = await web3.eth.getBlockNumber()\n        console.log(`setStrategy rep is ${JSON.stringify(rep)}`)\n        const accounts = await web3.eth.getAccounts();\n\n\n        const provider = new ethers.providers.JsonRpcProvider();\n\n        const signer = provider.getSigner()\n\n\n    }\n\n\n    public testApprove = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n        const test = new ethers.Contract(three_crv, abi, prov.getSigner());\n\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await test.approve(univ2Router2, utils.parseUnits('0', 18).toString())\n        rep = await test.approve(univ2Router2, utils.parseUnits('1000000000000', 18).toString())\n        console.log(`approve univ2Router2 crv rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n    // 测试交易match A地址300TEST2币  B地址200TEST1币  交易match\n    public testDeposit = async () => {\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \" function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n        ];\n        const test1 = new ethers.Contract(Vaults, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        let balance = await test1.balance()\n        console.log(`test1.balance  response :`, JSON.stringify(balance.toString()))\n        // const rep = await test1.totalSupply()\n        let rep = await test1.deposit(utils.parseUnits('2800', 18).toString())\n\n\n        console.log(`jar.methods.deposi  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n\n\n        });\n\n\n    }\n\n    public testBalance = async () => {\n        let assets2 = [];\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n            \"function available() public view returns (uint256)\",\n            \"function balanceOfPool() public override view returns (uint256)\"\n        ];\n        const threecrv = new ethers.Contract(three_crv, abi, prov.getSigner());\n        const jar = new ethers.Contract(Vaults, abi, prov.getSigner());\n        const controller = new ethers.Contract(ControllerV4, abi, prov.getSigner());\n        const usdpgauge = new ethers.Contract(usdn_gauge, abi, prov.getSigner());\n        const stragy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner())\n        const usdc = new ethers.Contract(USDC, abi, prov.getSigner())\n        const usdt = new ethers.Contract(USDT, abi, prov.getSigner())\n        const vaults1 = new ethers.Contract(Vaults, abi, prov.getSigner())\n        const lqty = new ethers.Contract(LQTY, abi, prov.getSigner())\n\n\n        const crv = new ethers.Contract(CRV, abi, prov.getSigner())\n\n        this.toggleModal();\n        this.setState({pendingRequest: true});\n        let lqty_bal1 = await lqty.balanceOf(StrategyCurve3CRVv2)\n        let lqty_bal_p1 = convertAmountFromRawNumber(lqty_bal1.toString(), 18)\n        console.log(`lqty_bal1  is ${lqty_bal1}`)\n\n\n        const ethAsset1161 = {\n            \"symbol\": \"lqty\",\n            \"name\": \"lqty\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": lqty_bal1\n        };\n        assets2.push(ethAsset1161);\n\n\n        let crv_bal = await crv.balanceOf(StrategyCurve3CRVv2)\n        let crv_bal_p = convertAmountFromRawNumber(crv_bal.toString(), 18)\n        console.log(`crv_bal_p is ${crv_bal_p}`)\n\n\n        const ethAsset115 = {\n            \"symbol\": \"Crv\",\n            \"name\": \"Crv-Stragy\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal\n        };\n        assets2.push(ethAsset115);\n\n        let crv_bal1 = await crv.balanceOf(ControllerV4)\n        let crv_bal_p1 = convertAmountFromRawNumber(crv_bal1.toString(), 18)\n        console.log(`crv_bal_p  is ${crv_bal_p1}`)\n\n\n        const ethAsset116 = {\n            \"symbol\": \"Crv-c\",\n            \"name\": \"Crv-Controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal1\n        };\n        assets2.push(ethAsset116);\n\n        let threecrv_bal = await threecrv.balanceOf(accounts[0])\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal is ${threecrv_bal}`)\n\n\n        const ethAsset = {\n            \"symbol\": \"3Crv-user\",\n            \"name\": \"3Crv-user\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal\n        };\n        assets2.push(ethAsset);\n\n        let threecrv_bal1 = await threecrv.balanceOf(Vaults)\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal1 is ${threecrv_bal1}`)\n\n\n        const ethAsset222 = {\n            \"symbol\": \"3Crv-vaults\",\n            \"name\": \"3Crv-vaults\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal1\n        };\n        assets2.push(ethAsset222);\n\n\n        let usdc_bal = await usdc.balanceOf(accounts[0])\n        let usdc_bal_p = convertAmountFromRawNumber(usdc_bal.toString(), 6)\n        const ethAsset111 = {\n            \"symbol\": \"USDC-account\",\n            \"name\": \"USDC-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDC,\n            \"balance\": usdc_bal\n        };\n        assets2.push(ethAsset111);\n        let usdt_bal = await usdt.balanceOf(accounts[0])\n        let usdt_bal_p = convertAmountFromRawNumber(usdt_bal.toString(), 6)\n        const ethAsset112 = {\n            \"symbol\": \"USDT-account\",\n            \"name\": \"USDT-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDT,\n            \"balance\": usdt_bal\n        };\n        assets2.push(ethAsset112);\n\n\n\n        let crv3_treasury = await threecrv.balanceOf(_treasury)\n        let crv3_treasury_p1 = convertAmountFromRawNumber(crv3_treasury.toString(), 6)\n        const ethAsset1121 = {\n            \"symbol\": \"3crv-treasury\",\n            \"name\": \"3crv-treasury\",\n            \"decimals\": \"18\",\n            \"contractAddress\": USDT,\n            \"balance\": crv3_treasury\n        };\n        assets2.push(ethAsset1121);\n        console.log(`crv3_treasury 3crv: ${crv3_treasury_p1}`)\n\n\n\n\n\n        let p3crv_bal = await jar.balanceOf(accounts[0])\n        //jar_bal = convertAmountFromRawNumber(jar_bal.toString(), 18)\n        const ethAsset10 = {\n            \"symbol\": \"p3crv_bal\",\n            \"name\": \"p3crv_bal\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": p3crv_bal\n        };\n        assets2.push(ethAsset10);\n\n\n        let available = await jar.available()\n        // available = convertAmountFromRawNumber(available.toString(), 18)\n        const ethAsset3 = {\n            \"symbol\": \"3Crv-jar.available\",\n            \"name\": \"3Crv-jar.available\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": available\n        };\n        assets2.push(ethAsset3);\n\n        let balance = await jar.balance()\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset4 = {\n            \"symbol\": \"3Crv-jar.jar.balance\",\n            \"name\": \"3Crv-jar.jar.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance\n        };\n        assets2.push(ethAsset4);\n\n\n        let strage1 = await usdpgauge.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`strage1 is ${strage1}`)\n\n\n        const ethAsset6 = {\n            \"symbol\": \"guage-3crv-stragy.balance\",\n            \"name\": \"guage-3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage1\n        };\n        assets2.push(ethAsset6);\n\n        let strage2 = await threecrv.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`strage2 lusdlp is ${strage2}`)\n        const ethAsset7 = {\n            \"symbol\": \"3crv-stragy.balance\",\n            \"name\": \"3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage2\n        };\n        assets2.push(ethAsset7);\n\n        let guage = await usdpgauge.balanceOf(ControllerV4)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`guage is ${guage}`)\n\n        const ethAsset5 = {\n            \"symbol\": \"guage-3crv-controller.balance\",\n            \"name\": \"guage-3crv-controller.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": guage\n        };\n        assets2.push(ethAsset5);\n\n        let balance_controller = await controller.balanceOf(three_crv)\n        balance_controller = convertAmountFromRawNumber(balance_controller.toString(), 18)\n        const ethAsset2 = {\n            \"symbol\": \"3Crv-controller\",\n            \"name\": \"3Crv-controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance_controller\n        };\n        assets2.push(ethAsset2);\n\n        // console.log(`jar.methods.testController  response :`,JSON.stringify(rep.toString()))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n            assets2\n        });\n    }\n\n    public testsetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function setPerformanceTreasuryFee(uint256 _performanceTreasuryFee)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.setPerformanceTreasuryFee(10000)\n\n        // console.log(`jar.methods.withdrawAll  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testgetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function performanceTreasuryFee() public view returns (uint256)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.performanceTreasuryFee()\n\n        console.log(`testgetPerformanceTreasuryFee  response :`, rep.toString())\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testEarn = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n\n            \"function earn(address _token, uint256 _amount) public\",\n\n        ];\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function earn() public\",\n        ];\n\n        const jar = new ethers.Contract(Vaults, abi1, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep1 = await jar.earn()\n\n        //let strategy_depoist_rep = await stragy.deposit()\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n    public testHarvest = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function harvest() public \",\n            \"function usdp_pool() public view returns (address)\",\n            \"function gauge() public view returns (address)\",\n            \"function getMostPremium() public  view returns (address, uint256)\",\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n\n        const strategy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        // let rep = await strategy.gauge()\n        // console.log(`getMostPremium rep is ${rep}, coin index is :`,);\n\n        let rep1 = await strategy.harvest()\n        console.log(`testHarvest rep is ${JSON.stringify(rep1)}`,);\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n\n\n    public testReward = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function harvest() public \",\n            \"function usdp_pool() public view returns (address)\",\n            \"function gauge() public view returns (address)\",\n            \"function getMostPremium() public  view returns (address, uint256)\",\n            \" function claim_rewards(address addr) external\",\n        ];\n\n        const gauge = new ethers.Contract(usdn_gauge, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        // let rep = await strategy.gauge()\n        // console.log(`getMostPremium rep is ${rep}, coin index is :`,);\n\n        let rep1 = await gauge.claim_rewards(_treasury)\n        console.log(`gauge.claim_rewards rep is ${JSON.stringify(rep1)}`,);\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n\n\n    public resetApp = async () => {\n        const {web3} = this.state;\n        if (web3 && web3.currentProvider && web3.currentProvider.close) {\n            await web3.currentProvider.close();\n        }\n        await this.web3Modal.clearCachedProvider();\n        this.setState({...INITIAL_STATE});\n    };\n\n\n\n\n\n\n\n    public getHarvestable = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n            \"function primitiveToCurvePickleJar_3(address curve,address[3] memory underlying,uint256[3] memory underlyingAmounts,address curveLp,address pickleJar) public returns (uint256)\",\n            \"function getHarvestable() external returns (uint256)\"\n        ];\n        const inst = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        //const amount = parseUnits(\"60000\", 6);\n        let rep = await inst.getHarvestable()\n\n        console.log(`getHarvestable rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n\n\n\n\n\n    public testgetReward = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function rewards(address) public view returns (uint256) \",\n            \"function rewardPerTokenStored() public view returns (uint256) \",\n            \"function inviter(address) public view returns (address) \",\n            \" function getReward() public\",\n            \" function _totalSupply() public view returns(uint256)\"\n        ];\n        const invite = new ethers.Contract(Invite, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await invite.rewards(inviter)\n        console.log(`invite.rewards(inviter) rep is ${JSON.stringify(rep)}`)\n        rep = await invite.rewardPerTokenStored()\n        console.log(`invite.rewardPerTokenStored() rep is ${JSON.stringify(rep)}`)\n        rep = await invite.inviter(\"0xD90D00101E1Cf4729f02A5598f4288E00001FC04\")\n        console.log(`invite.inviter() rep is ${JSON.stringify(rep)}`)\n        rep = await invite._totalSupply()\n        console.log(`invite._totalSupply() rep is ${JSON.stringify(rep)}`);\n        console.log(`invite._totalSupply() rep is ${convertAmountFromRawNumber(rep.toString(), 18)}`)\n        rep = await invite.getReward()\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testvaultbalance = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function balance() public view returns(uint256)\",\n            \"function totalSupply() public view returns(uint256)\",\n            \"function available() public view returns(uint256)\"\n        ];\n        const vault = new ethers.Contract(\"0xB54aE04A1472FCdd0f3C122cF716c56415F4D853\", abi, prov);\n\n        let rep = await vault.balance()\n        console.log('balance:',convertAmountFromRawNumber(rep.toString()))\n        let rep1 = await vault.totalSupply()\n        console.log('totalSupply:',convertAmountFromRawNumber(rep1.toString()))\n        let rep2 = await vault.available()\n        console.log('available:',convertAmountFromRawNumber(rep2.toString()))\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n        ];\n        const lp = new ethers.Contract(\"0x7Eb40E450b9655f4B3cC4259BCC731c63ff55ae6\", abi1, prov);\n\n        let rep3 = await lp.balanceOf('0xB54aE04A1472FCdd0f3C122cF716c56415F4D853')\n        console.log('balanceOF:',convertAmountFromRawNumber(rep3.toString()))\n    }\n\n    public render = () => {\n        const {\n            assets,\n            assets2,\n            address,\n            connected,\n            chainId,\n            fetching,\n            showModal,\n            pendingRequest,\n            result\n        } = this.state;\n        return (\n            <SLayout>\n                <Column maxWidth={1000} spanHeight>\n                    <Header\n                        connected={connected}\n                        address={address}\n                        chainId={chainId}\n                        killSession={this.resetApp}\n                    />\n                    <SContent>\n                        {fetching ? (\n                            <Column center>\n                                <SContainer>\n                                    <Loader/>\n                                </SContainer>\n                            </Column>\n                        ) : !!assets && !!assets.length ? (\n                            <SBalances>\n                                <h6>Admin Setting Actions</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n\n\n                                        <STestButton left onClick={() => this.setController()}>\n                                            setController\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.setStragy()}>\n                                            setStragy\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testBlockNumber()}>\n                                            testBlockNumber\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testBalance()}>\n                                            testBalance\n                                        </STestButton>\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Strategist :Deposite 3Crv</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testEarn()}>\n                                            testEarn\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testHarvest()}>\n                                            testHarvest\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.getHarvestable()}>\n                                            getHarvestable--test good uni stablecoin\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testApprove()}>\n                                            testApprove\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testDeposit()}>\n                                            testDeposit\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testsetPerformanceTreasuryFee()}>\n                                            setPerformanceTreasuryFee\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testgetPerformanceTreasuryFee()}>\n                                            getPerformanceTreasuryFee\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>USER ：Deposite from uni stablecoin</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n\n\n                                        <STestButton left onClick={() => this.testvaultbalance()}>\n                                            测试vault balance\n                                        </STestButton>\n                                    </STestButtonContainer>\n                                </Column>\n\n                                <h6>Inviter ：Withdraw </h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testReward()}>\n                                            testReward\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets}/>{\" \"}\n                                <h6>Valuts Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets2}/>{\" \"}\n                            </SBalances>\n                        ) : (\n                            <SLanding center>\n                                <h6>{`Test Web3Modal`}</h6>\n                                <ConnectButton onClick={this.onConnect}/>\n                            </SLanding>\n                        )}\n                    </SContent>\n                </Column>\n                <Modal show={showModal} toggleModal={this.toggleModal}>\n                    {pendingRequest ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Pending Call Request\"}</SModalTitle>\n                            <SContainer>\n                                <Loader/>\n                                <SModalParagraph>\n                                    {\"Approve or reject request using your wallet\"}\n                                </SModalParagraph>\n                            </SContainer>\n                        </SModalContainer>\n                    ) : result ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Approved\"}</SModalTitle>\n                            <ModalResult>{result}</ModalResult>\n                        </SModalContainer>\n                    ) : (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Rejected\"}</SModalTitle>\n                        </SModalContainer>\n                    )}\n                </Modal>\n            </SLayout>\n        );\n    };\n}\n\nexport default App;\n",["379","380"],"/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_lusd_new.tsx",["381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401"],"import * as React from \"react\";\nimport styled from \"styled-components\";\nimport Web3 from \"web3\";\n\nimport Web3Modal from \"web3modal\";\n// @ts-ignore\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n// @ts-ignore\nimport Fortmatic from \"fortmatic\";\nimport Torus from \"@toruslabs/torus-embed\";\nimport Authereum from \"authereum\";\nimport {Bitski} from \"bitski\";\n\nimport Button from \"./components/Button\";\nimport Column from \"./components/Column\";\nimport Wrapper from \"./components/Wrapper\";\nimport Modal from \"./components/Modal\";\nimport Header from \"./components/Header\";\nimport Loader from \"./components/Loader\";\nimport ModalResult from \"./components/ModalResult\";\nimport AccountAssets from \"./components/AccountAssets\";\nimport ConnectButton from \"./components/ConnectButton\";\nimport {getChainData} from \"./helpers/utilities\";\nimport {IAssetData} from \"./helpers/types\";\nimport {fonts} from \"./styles\";\nimport {ethers, utils} from 'ethers';\nimport {convertAmountFromRawNumber} from \"./helpers/bignumber\";\nimport accounts from \"web3/eth/accounts\";\n\n\nconst StrategyCurve3CRVv2_ABI = require(\"./abi/StrategyCurve3CRVv2.json\");\nconst ControllerV4_ABI = require(\"./abi/ControllerV4.json\");\n\n\nconst USDC = \"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\";\nconst USDT = \"0xdac17f958d2ee523a2206206994597c13d831ec7\";\nconst DAI = \"0x6b175474e89094c44da98b954eedeac495271d0f\";\nconst USDP = \"0x1456688345527bE1f37E9e627DA0837D6f08C925\";\nconst USDN = \"0x674C6Ad92Fd080e4004b2312b45f796a192D27a0\";\n\nconst three_crv = \"0xEd279fDD11cA84bEef15AF5D39BB4d4bEE23F0cA\";\nconst three_pool = \"0xA79828DF1850E8a3A3064576f380D90aECDD3359\";\nconst usdn_gauge = \"0x9B8519A9a00100720CCdC8a120fBeD319cA47a14\";\n\nconst CRV = \"0xD533a949740bb3306d119CC777fa900bA034cd52\";\nconst LQTY = \"0x6DEA81C8171D0bA574754EF6F8b412F2Ed88c54D\";\n\nconst Vaults = \"0xE24Acf8440CC5301bF6a901c6C2Ae486f117fe5c\";\nconst StrategyCurve3CRVv2 = \"0x0b1411F053b12b2ABa4dd3D55Fa5503e4B4E1236\";\nconst ControllerV4 = \"0x8A54FA431B7461FfE4999B3CCD00bd7D4ADd1e4a\";\n\nconst Invite = \"0x36B466533d6bfF320E05Be310803e8b906eF9f79\";\nconst _treasury = \"0xF2bb9641694Baa6848338CD40993681Fee936a12\"\n\nconst univ2Router2 = \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\";\nconst inviter = \"0x6d96E5266d662D7ed607CB8D88dC6447632bB298\";\n\nconst {parseUnits} = ethers.utils;\nconst {Zero, MaxUint256} = ethers.constants;\nconst {parseEther} = ethers.utils;\n\n\nconst SLayout = styled.div`\n  position: relative;\n  width: 100%;\n  min-height: 100vh;\n  text-align: center;\n`;\n\nconst SContent = styled(Wrapper)`\n  width: 100%;\n  height: 100%;\n  padding: 0 16px;\n`;\n\nconst SContainer = styled.div`\n  height: 100%;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  word-break: break-word;\n`;\n\nconst SLanding = styled(Column)`\n  height: 600px;\n`;\n\nconst SModalContainer = styled.div`\n  width: 100%;\n  position: relative;\n  word-wrap: break-word;\n`;\n\nconst SModalTitle = styled.div`\n  margin: 1em 0;\n  font-size: 20px;\n  font-weight: 700;\n`;\n\nconst SModalParagraph = styled.p`\n  margin-top: 30px;\n`;\n\n// @ts-ignore\nconst SBalances = styled(SLanding)`\n  height: 100%;\n  & h3 {\n    padding-top: 30px;\n  }\n`;\n\nconst STestButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n`;\n\nconst STestButton = styled(Button)`\n  border-radius: 8px;\n  font-size: ${fonts.size.medium};\n  height: 44px;\n  width: 100%;\n  max-width: 175px;\n  margin: 12px;\n`;\n\ninterface IAppState {\n    fetching: boolean;\n    address: string;\n    web3: any;\n    provider: any;\n    connected: boolean;\n    chainId: number;\n    networkId: number;\n    assets: IAssetData[];\n    assets2: IAssetData[];\n    showModal: boolean;\n    pendingRequest: boolean;\n    result: any | null;\n}\n\nconst INITIAL_STATE: IAppState = {\n    fetching: false,\n    address: \"\",\n    web3: null,\n    provider: null,\n    connected: false,\n    chainId: 1,\n    networkId: 1,\n    assets: [],\n    assets2: [],\n    showModal: false,\n    pendingRequest: false,\n    result: null\n};\n\nfunction initWeb3(provider: any) {\n    const web3: any = new Web3(provider);\n\n    web3.eth.extend({\n        methods: [\n            {\n                name: \"chainId\",\n                call: \"eth_chainId\",\n                outputFormatter: web3.utils.hexToNumber\n            }\n        ]\n    });\n\n    return web3;\n}\n\nclass App extends React.Component<any, any> {\n    // @ts-ignore\n    public web3Modal: Web3Modal;\n    public state: IAppState;\n\n    public claim: string = \"0x5aa37930cbe5f4b04d617f71f78abc6c21be4cc0\";\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            ...INITIAL_STATE\n        };\n\n        this.web3Modal = new Web3Modal({\n            network: this.getNetwork(),\n            cacheProvider: true,\n            providerOptions: this.getProviderOptions()\n        });\n    }\n\n    public componentDidMount() {\n        if (this.web3Modal.cachedProvider) {\n            this.onConnect();\n        }\n    }\n\n    public onConnect = async () => {\n        const provider = await this.web3Modal.connect();\n\n        await this.subscribeProvider(provider);\n\n        const web3: any = initWeb3(provider);\n\n        const accounts = await web3.eth.getAccounts();\n\n        const address = accounts[0];\n\n        const networkId = await web3.eth.net.getId();\n\n        const chainId = await web3.eth.chainId();\n\n        console.log(`chainId is ${chainId}  networkId ${networkId}`)\n\n        await this.setState({\n            web3,\n            provider,\n            connected: true,\n            address,\n            chainId,\n            networkId\n        });\n\n        await this.getAccountAssets(provider);\n    };\n\n    public subscribeProvider = async (provider: any) => {\n        if (!provider.on) {\n            return;\n        }\n        provider.on(\"close\", () => this.resetApp());\n        provider.on(\"accountsChanged\", async (accounts: string[]) => {\n            await this.setState({address: accounts[0]});\n            await this.getAccountAssets(provider);\n        });\n        provider.on(\"chainChanged\", async (chainId: number) => {\n            const {web3} = this.state;\n            const networkId = await web3.eth.net.getId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n\n        provider.on(\"networkChanged\", async (networkId: number) => {\n            const {web3} = this.state;\n            const chainId = await web3.eth.chainId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n    };\n\n    public getNetwork = () => getChainData(this.state.chainId).network;\n\n    public getProviderOptions = () => {\n        const providerOptions = {\n            walletconnect: {\n                package: WalletConnectProvider,\n                options: {\n                    infuraId: process.env.REACT_APP_INFURA_ID\n                }\n            },\n            torus: {\n                package: Torus\n            },\n            fortmatic: {\n                package: Fortmatic,\n                options: {\n                    key: process.env.REACT_APP_FORTMATIC_KEY\n                }\n            },\n            authereum: {\n                package: Authereum\n            },\n            bitski: {\n                package: Bitski,\n                options: {\n                    clientId: process.env.REACT_APP_BITSKI_CLIENT_ID,\n                    callbackUrl: window.location.href + \"bitski-callback.html\"\n                }\n            }\n        };\n        return providerOptions;\n    };\n\n    public getAccountAssets = async (provider: any) => {\n        const {address, chainId} = this.state;\n        this.setState({fetching: false});\n        try {\n            const prov = new ethers.providers.Web3Provider(provider)\n            let balance = await prov.getBalance(address);\n            console.log('[wa]:', balance.toString(), \",\", balance)\n            let assets = [];\n            let assets2 = [];\n            let ethAsset = {\n                \"symbol\": \"ETH\",\n                \"name\": \"Ether\",\n                \"decimals\": \"18\",\n                \"contractAddress\": \"\",\n                \"balance\": balance\n            };\n            assets.push(ethAsset);\n            // A Human-Readable ABI; any supported ABI format could be used\n\n\n            this.setState({fetching: false, assets});\n        } catch (error) {\n            console.error(error); // tslint:disable-line\n            this.setState({fetching: false});\n        }\n\n    };\n\n    public toggleModal = () =>\n        this.setState({showModal: !this.state.showModal});\n\n\n    public setController = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let controller = new web3.eth.Contract(\n            ControllerV4_ABI,\n            ControllerV4,\n        );\n        //\n\n\n\n       let repusdn1 = await controller.methods.setValut(three_crv, Vaults).send({from: accounts[0]})\n       console.log(`controller.methods.setJar  response :`, JSON.stringify(repusdn1))\n\n        let repusdn2 = await controller.methods.setStrategy(three_crv, StrategyCurve3CRVv2).send({from: accounts[0]})\n        console.log(`setStrategy rep is ${JSON.stringify(repusdn2)}`)\n\n    }\n\n    public setStragy = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let stragy = new web3.eth.Contract(\n            StrategyCurve3CRVv2_ABI,\n            StrategyCurve3CRVv2,\n        );\n\n        //设置保留的crv，之后会除以10000，设置1000，等于十分之一\n        let rep = await stragy.methods.setKeepCRV(0).send({from: accounts[0]})\n        console.log(`stragy.methods.setKeepCRV(1000)  response :`, JSON.stringify(rep))\n\n\n    }\n\n    public testBlockNumber = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        let rep = await web3.eth.getBlockNumber()\n        console.log(`setStrategy rep is ${JSON.stringify(rep)}`)\n        const accounts = await web3.eth.getAccounts();\n\n\n        const provider = new ethers.providers.JsonRpcProvider();\n\n        const signer = provider.getSigner()\n\n\n    }\n\n\n    public testApprove = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n        const test = new ethers.Contract(three_crv, abi, prov.getSigner());\n\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await test.approve(univ2Router2, utils.parseUnits('0', 18).toString())\n        rep = await test.approve(univ2Router2, utils.parseUnits('1000000000000', 18).toString())\n        console.log(`approve univ2Router2 crv rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n    // 测试交易match A地址300TEST2币  B地址200TEST1币  交易match\n    public testDeposit = async () => {\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \" function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n        ];\n        const test1 = new ethers.Contract(Vaults, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        let balance = await test1.balance()\n        console.log(`test1.balance  response :`, JSON.stringify(balance.toString()))\n        // const rep = await test1.totalSupply()\n        let rep = await test1.deposit(utils.parseUnits('2800', 18).toString())\n\n\n        console.log(`jar.methods.deposi  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n\n\n        });\n\n\n    }\n\n    public testBalance = async () => {\n        let assets2 = [];\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n            \"function available() public view returns (uint256)\",\n            \"function balanceOfPool() public override view returns (uint256)\"\n        ];\n        const threecrv = new ethers.Contract(three_crv, abi, prov.getSigner());\n        const jar = new ethers.Contract(Vaults, abi, prov.getSigner());\n        const controller = new ethers.Contract(ControllerV4, abi, prov.getSigner());\n        const usdpgauge = new ethers.Contract(usdn_gauge, abi, prov.getSigner());\n        const stragy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner())\n        const usdc = new ethers.Contract(USDC, abi, prov.getSigner())\n        const usdt = new ethers.Contract(USDT, abi, prov.getSigner())\n        const vaults1 = new ethers.Contract(Vaults, abi, prov.getSigner())\n        const lqty = new ethers.Contract(LQTY, abi, prov.getSigner())\n\n\n        const crv = new ethers.Contract(CRV, abi, prov.getSigner())\n\n        this.toggleModal();\n        this.setState({pendingRequest: true});\n        let lqty_bal1 = await lqty.balanceOf(StrategyCurve3CRVv2)\n        let lqty_bal_p1 = convertAmountFromRawNumber(lqty_bal1.toString(), 18)\n        console.log(`lqty_bal1  is ${lqty_bal1}`)\n\n\n        const ethAsset1161 = {\n            \"symbol\": \"lqty\",\n            \"name\": \"lqty\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": lqty_bal1\n        };\n        assets2.push(ethAsset1161);\n\n\n        let crv_bal = await crv.balanceOf(StrategyCurve3CRVv2)\n        let crv_bal_p = convertAmountFromRawNumber(crv_bal.toString(), 18)\n        console.log(`crv_bal_p is ${crv_bal_p}`)\n\n\n        const ethAsset115 = {\n            \"symbol\": \"Crv\",\n            \"name\": \"Crv-Stragy\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal\n        };\n        assets2.push(ethAsset115);\n\n        let crv_bal1 = await crv.balanceOf(ControllerV4)\n        let crv_bal_p1 = convertAmountFromRawNumber(crv_bal1.toString(), 18)\n        console.log(`crv_bal_p  is ${crv_bal_p1}`)\n\n\n        const ethAsset116 = {\n            \"symbol\": \"Crv-c\",\n            \"name\": \"Crv-Controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal1\n        };\n        assets2.push(ethAsset116);\n\n        let threecrv_bal = await threecrv.balanceOf(accounts[0])\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal is ${threecrv_bal}`)\n\n\n        const ethAsset = {\n            \"symbol\": \"3Crv-user\",\n            \"name\": \"3Crv-user\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal\n        };\n        assets2.push(ethAsset);\n\n        let threecrv_bal1 = await threecrv.balanceOf(Vaults)\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal1 is ${threecrv_bal1}`)\n\n\n        const ethAsset222 = {\n            \"symbol\": \"3Crv-vaults\",\n            \"name\": \"3Crv-vaults\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal1\n        };\n        assets2.push(ethAsset222);\n\n\n        let usdc_bal = await usdc.balanceOf(accounts[0])\n        let usdc_bal_p = convertAmountFromRawNumber(usdc_bal.toString(), 6)\n        const ethAsset111 = {\n            \"symbol\": \"USDC-account\",\n            \"name\": \"USDC-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDC,\n            \"balance\": usdc_bal\n        };\n        assets2.push(ethAsset111);\n        let usdt_bal = await usdt.balanceOf(accounts[0])\n        let usdt_bal_p = convertAmountFromRawNumber(usdt_bal.toString(), 6)\n        const ethAsset112 = {\n            \"symbol\": \"USDT-account\",\n            \"name\": \"USDT-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDT,\n            \"balance\": usdt_bal\n        };\n        assets2.push(ethAsset112);\n\n\n\n        let crv3_treasury = await threecrv.balanceOf(_treasury)\n        let crv3_treasury_p1 = convertAmountFromRawNumber(crv3_treasury.toString(), 6)\n        const ethAsset1121 = {\n            \"symbol\": \"3crv-treasury\",\n            \"name\": \"3crv-treasury\",\n            \"decimals\": \"18\",\n            \"contractAddress\": USDT,\n            \"balance\": crv3_treasury\n        };\n        assets2.push(ethAsset1121);\n        console.log(`crv3_treasury 3crv: ${crv3_treasury_p1}`)\n\n\n\n\n\n        let p3crv_bal = await jar.balanceOf(accounts[0])\n        //jar_bal = convertAmountFromRawNumber(jar_bal.toString(), 18)\n        const ethAsset10 = {\n            \"symbol\": \"p3crv_bal\",\n            \"name\": \"p3crv_bal\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": p3crv_bal\n        };\n        assets2.push(ethAsset10);\n\n\n        let available = await jar.available()\n        // available = convertAmountFromRawNumber(available.toString(), 18)\n        const ethAsset3 = {\n            \"symbol\": \"3Crv-jar.available\",\n            \"name\": \"3Crv-jar.available\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": available\n        };\n        assets2.push(ethAsset3);\n\n        let balance = await jar.balance()\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset4 = {\n            \"symbol\": \"3Crv-jar.jar.balance\",\n            \"name\": \"3Crv-jar.jar.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance\n        };\n        assets2.push(ethAsset4);\n\n\n        let strage1 = await usdpgauge.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`strage1 is ${strage1}`)\n\n\n        const ethAsset6 = {\n            \"symbol\": \"guage-3crv-stragy.balance\",\n            \"name\": \"guage-3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage1\n        };\n        assets2.push(ethAsset6);\n\n        let strage2 = await threecrv.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`strage2 lusdlp is ${strage2}`)\n        const ethAsset7 = {\n            \"symbol\": \"3crv-stragy.balance\",\n            \"name\": \"3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage2\n        };\n        assets2.push(ethAsset7);\n\n        let guage = await usdpgauge.balanceOf(ControllerV4)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`guage is ${guage}`)\n\n        const ethAsset5 = {\n            \"symbol\": \"guage-3crv-controller.balance\",\n            \"name\": \"guage-3crv-controller.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": guage\n        };\n        assets2.push(ethAsset5);\n\n        let balance_controller = await controller.balanceOf(three_crv)\n        balance_controller = convertAmountFromRawNumber(balance_controller.toString(), 18)\n        const ethAsset2 = {\n            \"symbol\": \"3Crv-controller\",\n            \"name\": \"3Crv-controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance_controller\n        };\n        assets2.push(ethAsset2);\n\n        // console.log(`jar.methods.testController  response :`,JSON.stringify(rep.toString()))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n            assets2\n        });\n    }\n\n    public testsetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function setPerformanceTreasuryFee(uint256 _performanceTreasuryFee)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.setPerformanceTreasuryFee(10000)\n\n        // console.log(`jar.methods.withdrawAll  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testgetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function performanceTreasuryFee() public view returns (uint256)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.performanceTreasuryFee()\n\n        console.log(`testgetPerformanceTreasuryFee  response :`, rep.toString())\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testEarn = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n\n            \"function earn(address _token, uint256 _amount) public\",\n\n        ];\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function earn() public\",\n        ];\n\n        const jar = new ethers.Contract(Vaults, abi1, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep1 = await jar.earn()\n\n        //let strategy_depoist_rep = await stragy.deposit()\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n    public testHarvest = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function harvest() public \",\n            \"function usdp_pool() public view returns (address)\",\n            \"function gauge() public view returns (address)\",\n            \"function getMostPremium() public  view returns (address, uint256)\",\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n\n        const strategy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        // let rep = await strategy.gauge()\n        // console.log(`getMostPremium rep is ${rep}, coin index is :`,);\n\n        let rep1 = await strategy.harvest()\n        console.log(`testHarvest rep is ${JSON.stringify(rep1)}`,);\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n\n\n    public testReward = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function harvest() public \",\n            \"function usdp_pool() public view returns (address)\",\n            \"function gauge() public view returns (address)\",\n            \"function getMostPremium() public  view returns (address, uint256)\",\n            \" function claim_rewards(address addr) external\",\n        ];\n\n        const gauge = new ethers.Contract(usdn_gauge, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        // let rep = await strategy.gauge()\n        // console.log(`getMostPremium rep is ${rep}, coin index is :`,);\n\n        let rep1 = await gauge.claim_rewards(_treasury)\n        console.log(`gauge.claim_rewards rep is ${JSON.stringify(rep1)}`,);\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n\n\n    public resetApp = async () => {\n        const {web3} = this.state;\n        if (web3 && web3.currentProvider && web3.currentProvider.close) {\n            await web3.currentProvider.close();\n        }\n        await this.web3Modal.clearCachedProvider();\n        this.setState({...INITIAL_STATE});\n    };\n\n\n\n\n\n\n\n    public getHarvestable = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n            \"function primitiveToCurvePickleJar_3(address curve,address[3] memory underlying,uint256[3] memory underlyingAmounts,address curveLp,address pickleJar) public returns (uint256)\",\n            \"function getHarvestable() external returns (uint256)\"\n        ];\n        const inst = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        //const amount = parseUnits(\"60000\", 6);\n        let rep = await inst.getHarvestable()\n\n        console.log(`getHarvestable rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n\n\n\n\n\n    public testgetReward = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function rewards(address) public view returns (uint256) \",\n            \"function rewardPerTokenStored() public view returns (uint256) \",\n            \"function inviter(address) public view returns (address) \",\n            \" function getReward() public\",\n            \" function _totalSupply() public view returns(uint256)\"\n        ];\n        const invite = new ethers.Contract(Invite, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await invite.rewards(inviter)\n        console.log(`invite.rewards(inviter) rep is ${JSON.stringify(rep)}`)\n        rep = await invite.rewardPerTokenStored()\n        console.log(`invite.rewardPerTokenStored() rep is ${JSON.stringify(rep)}`)\n        rep = await invite.inviter(\"0xD90D00101E1Cf4729f02A5598f4288E00001FC04\")\n        console.log(`invite.inviter() rep is ${JSON.stringify(rep)}`)\n        rep = await invite._totalSupply()\n        console.log(`invite._totalSupply() rep is ${JSON.stringify(rep)}`);\n        console.log(`invite._totalSupply() rep is ${convertAmountFromRawNumber(rep.toString(), 18)}`)\n        rep = await invite.getReward()\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testvaultbalance = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function balance() public view returns(uint256)\",\n            \"function totalSupply() public view returns(uint256)\",\n            \"function available() public view returns(uint256)\"\n        ];\n        const vault = new ethers.Contract(\"0xB54aE04A1472FCdd0f3C122cF716c56415F4D853\", abi, prov);\n\n        let rep = await vault.balance()\n        console.log('balance:',convertAmountFromRawNumber(rep.toString()))\n        let rep1 = await vault.totalSupply()\n        console.log('totalSupply:',convertAmountFromRawNumber(rep1.toString()))\n        let rep2 = await vault.available()\n        console.log('available:',convertAmountFromRawNumber(rep2.toString()))\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n        ];\n        const lp = new ethers.Contract(\"0x7Eb40E450b9655f4B3cC4259BCC731c63ff55ae6\", abi1, prov);\n\n        let rep3 = await lp.balanceOf('0xB54aE04A1472FCdd0f3C122cF716c56415F4D853')\n        console.log('balanceOF:',convertAmountFromRawNumber(rep3.toString()))\n    }\n\n    public render = () => {\n        const {\n            assets,\n            assets2,\n            address,\n            connected,\n            chainId,\n            fetching,\n            showModal,\n            pendingRequest,\n            result\n        } = this.state;\n        return (\n            <SLayout>\n                <Column maxWidth={1000} spanHeight>\n                    <Header\n                        connected={connected}\n                        address={address}\n                        chainId={chainId}\n                        killSession={this.resetApp}\n                    />\n                    <SContent>\n                        {fetching ? (\n                            <Column center>\n                                <SContainer>\n                                    <Loader/>\n                                </SContainer>\n                            </Column>\n                        ) : !!assets && !!assets.length ? (\n                            <SBalances>\n                                <h6>Admin Setting Actions</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n\n\n                                        <STestButton left onClick={() => this.setController()}>\n                                            setController\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.setStragy()}>\n                                            setStragy\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testBlockNumber()}>\n                                            testBlockNumber\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testBalance()}>\n                                            testBalance\n                                        </STestButton>\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Strategist :Deposite 3Crv</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testEarn()}>\n                                            testEarn\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testHarvest()}>\n                                            testHarvest\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.getHarvestable()}>\n                                            getHarvestable--test good uni stablecoin\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testApprove()}>\n                                            testApprove\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testDeposit()}>\n                                            testDeposit\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testsetPerformanceTreasuryFee()}>\n                                            setPerformanceTreasuryFee\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testgetPerformanceTreasuryFee()}>\n                                            getPerformanceTreasuryFee\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>USER ：Deposite from uni stablecoin</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n\n\n                                        <STestButton left onClick={() => this.testvaultbalance()}>\n                                            测试vault balance\n                                        </STestButton>\n                                    </STestButtonContainer>\n                                </Column>\n\n                                <h6>Inviter ：Withdraw </h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testReward()}>\n                                            testReward\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets}/>{\" \"}\n                                <h6>Valuts Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets2}/>{\" \"}\n                            </SBalances>\n                        ) : (\n                            <SLanding center>\n                                <h6>{`Test Web3Modal`}</h6>\n                                <ConnectButton onClick={this.onConnect}/>\n                            </SLanding>\n                        )}\n                    </SContent>\n                </Column>\n                <Modal show={showModal} toggleModal={this.toggleModal}>\n                    {pendingRequest ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Pending Call Request\"}</SModalTitle>\n                            <SContainer>\n                                <Loader/>\n                                <SModalParagraph>\n                                    {\"Approve or reject request using your wallet\"}\n                                </SModalParagraph>\n                            </SContainer>\n                        </SModalContainer>\n                    ) : result ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Approved\"}</SModalTitle>\n                            <ModalResult>{result}</ModalResult>\n                        </SModalContainer>\n                    ) : (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Rejected\"}</SModalTitle>\n                        </SModalContainer>\n                    )}\n                </Modal>\n            </SLayout>\n        );\n    };\n}\n\nexport default App;\n","/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_busd.tsx",["402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422"],"import * as React from \"react\";\nimport styled from \"styled-components\";\nimport Web3 from \"web3\";\n\nimport Web3Modal from \"web3modal\";\n// @ts-ignore\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n// @ts-ignore\nimport Fortmatic from \"fortmatic\";\nimport Torus from \"@toruslabs/torus-embed\";\nimport Authereum from \"authereum\";\nimport {Bitski} from \"bitski\";\n\nimport Button from \"./components/Button\";\nimport Column from \"./components/Column\";\nimport Wrapper from \"./components/Wrapper\";\nimport Modal from \"./components/Modal\";\nimport Header from \"./components/Header\";\nimport Loader from \"./components/Loader\";\nimport ModalResult from \"./components/ModalResult\";\nimport AccountAssets from \"./components/AccountAssets\";\nimport ConnectButton from \"./components/ConnectButton\";\nimport {getChainData} from \"./helpers/utilities\";\nimport {IAssetData} from \"./helpers/types\";\nimport {fonts} from \"./styles\";\nimport {ethers, utils} from 'ethers';\nimport {convertAmountFromRawNumber} from \"./helpers/bignumber\";\nimport accounts from \"web3/eth/accounts\";\n\n\nconst StrategyCurve3CRVv2_ABI = require(\"./abi/StrategyCurve3CRVv2.json\");\nconst ControllerV4_ABI = require(\"./abi/ControllerV4.json\");\n\n\nconst USDC = \"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\";\nconst USDT = \"0xdac17f958d2ee523a2206206994597c13d831ec7\";\nconst DAI = \"0x6b175474e89094c44da98b954eedeac495271d0f\";\nconst USDP = \"0x1456688345527bE1f37E9e627DA0837D6f08C925\";\nconst USDN = \"0x674C6Ad92Fd080e4004b2312b45f796a192D27a0\";\n\nconst three_crv = \"0x4807862AA8b2bF68830e4C8dc86D0e9A998e085a\";\nconst three_pool = \"0xA79828DF1850E8a3A3064576f380D90aECDD3359\";\nconst usdn_gauge = \"0xd4B22fEdcA85E684919955061fDf353b9d38389b\";\n\nconst CRV = \"0xD533a949740bb3306d119CC777fa900bA034cd52\";\nconst LQTY = \"0x6DEA81C8171D0bA574754EF6F8b412F2Ed88c54D\";\n\nconst Vaults = \"0x592b9Fac45345d5550EA29D9B8AF8dd9Ba628A20\";\nconst StrategyCurve3CRVv2 = \"0xd59B3939557d31E04Cb76e26152a51382b807876\";\n// const ControllerV4 = \"0x5D9396B27bE234F3f70a8980995025EC0B55d92E\"; 5/30 old\nconst ControllerV4 = \"0x8A54FA431B7461FfE4999B3CCD00bd7D4ADd1e4a\";\n\nconst Invite = \"0x36B466533d6bfF320E05Be310803e8b906eF9f79\";\nconst _treasury = \"0xAf069A99690BB3055D6305BDeE514f734021199f\"\n\nconst univ2Router2 = \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\";\nconst inviter = \"0x6d96E5266d662D7ed607CB8D88dC6447632bB298\";\n\nconst {parseUnits} = ethers.utils;\nconst {Zero, MaxUint256} = ethers.constants;\nconst {parseEther} = ethers.utils;\n\n\nconst SLayout = styled.div`\n  position: relative;\n  width: 100%;\n  min-height: 100vh;\n  text-align: center;\n`;\n\nconst SContent = styled(Wrapper)`\n  width: 100%;\n  height: 100%;\n  padding: 0 16px;\n`;\n\nconst SContainer = styled.div`\n  height: 100%;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  word-break: break-word;\n`;\n\nconst SLanding = styled(Column)`\n  height: 600px;\n`;\n\nconst SModalContainer = styled.div`\n  width: 100%;\n  position: relative;\n  word-wrap: break-word;\n`;\n\nconst SModalTitle = styled.div`\n  margin: 1em 0;\n  font-size: 20px;\n  font-weight: 700;\n`;\n\nconst SModalParagraph = styled.p`\n  margin-top: 30px;\n`;\n\n// @ts-ignore\nconst SBalances = styled(SLanding)`\n  height: 100%;\n  & h3 {\n    padding-top: 30px;\n  }\n`;\n\nconst STestButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n`;\n\nconst STestButton = styled(Button)`\n  border-radius: 8px;\n  font-size: ${fonts.size.medium};\n  height: 44px;\n  width: 100%;\n  max-width: 175px;\n  margin: 12px;\n`;\n\ninterface IAppState {\n    fetching: boolean;\n    address: string;\n    web3: any;\n    provider: any;\n    connected: boolean;\n    chainId: number;\n    networkId: number;\n    assets: IAssetData[];\n    assets2: IAssetData[];\n    showModal: boolean;\n    pendingRequest: boolean;\n    result: any | null;\n}\n\nconst INITIAL_STATE: IAppState = {\n    fetching: false,\n    address: \"\",\n    web3: null,\n    provider: null,\n    connected: false,\n    chainId: 1,\n    networkId: 1,\n    assets: [],\n    assets2: [],\n    showModal: false,\n    pendingRequest: false,\n    result: null\n};\n\nfunction initWeb3(provider: any) {\n    const web3: any = new Web3(provider);\n\n    web3.eth.extend({\n        methods: [\n            {\n                name: \"chainId\",\n                call: \"eth_chainId\",\n                outputFormatter: web3.utils.hexToNumber\n            }\n        ]\n    });\n\n    return web3;\n}\n\nclass App extends React.Component<any, any> {\n    // @ts-ignore\n    public web3Modal: Web3Modal;\n    public state: IAppState;\n\n    public claim: string = \"0x5aa37930cbe5f4b04d617f71f78abc6c21be4cc0\";\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            ...INITIAL_STATE\n        };\n\n        this.web3Modal = new Web3Modal({\n            network: this.getNetwork(),\n            cacheProvider: true,\n            providerOptions: this.getProviderOptions()\n        });\n    }\n\n    public componentDidMount() {\n        if (this.web3Modal.cachedProvider) {\n            this.onConnect();\n        }\n    }\n\n    public onConnect = async () => {\n        const provider = await this.web3Modal.connect();\n\n        await this.subscribeProvider(provider);\n\n        const web3: any = initWeb3(provider);\n\n        const accounts = await web3.eth.getAccounts();\n\n        const address = accounts[0];\n\n        const networkId = await web3.eth.net.getId();\n\n        const chainId = await web3.eth.chainId();\n\n        console.log(`chainId is ${chainId}  networkId ${networkId}`)\n\n        await this.setState({\n            web3,\n            provider,\n            connected: true,\n            address,\n            chainId,\n            networkId\n        });\n\n        await this.getAccountAssets(provider);\n    };\n\n    public subscribeProvider = async (provider: any) => {\n        if (!provider.on) {\n            return;\n        }\n        provider.on(\"close\", () => this.resetApp());\n        provider.on(\"accountsChanged\", async (accounts: string[]) => {\n            await this.setState({address: accounts[0]});\n            await this.getAccountAssets(provider);\n        });\n        provider.on(\"chainChanged\", async (chainId: number) => {\n            const {web3} = this.state;\n            const networkId = await web3.eth.net.getId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n\n        provider.on(\"networkChanged\", async (networkId: number) => {\n            const {web3} = this.state;\n            const chainId = await web3.eth.chainId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n    };\n\n    public getNetwork = () => getChainData(this.state.chainId).network;\n\n    public getProviderOptions = () => {\n        const providerOptions = {\n            walletconnect: {\n                package: WalletConnectProvider,\n                options: {\n                    infuraId: process.env.REACT_APP_INFURA_ID\n                }\n            },\n            torus: {\n                package: Torus\n            },\n            fortmatic: {\n                package: Fortmatic,\n                options: {\n                    key: process.env.REACT_APP_FORTMATIC_KEY\n                }\n            },\n            authereum: {\n                package: Authereum\n            },\n            bitski: {\n                package: Bitski,\n                options: {\n                    clientId: process.env.REACT_APP_BITSKI_CLIENT_ID,\n                    callbackUrl: window.location.href + \"bitski-callback.html\"\n                }\n            }\n        };\n        return providerOptions;\n    };\n\n    public getAccountAssets = async (provider: any) => {\n        const {address, chainId} = this.state;\n        this.setState({fetching: false});\n        try {\n            const prov = new ethers.providers.Web3Provider(provider)\n            let balance = await prov.getBalance(address);\n            console.log('[wa]:', balance.toString(), \",\", balance)\n            let assets = [];\n            let assets2 = [];\n            let ethAsset = {\n                \"symbol\": \"ETH\",\n                \"name\": \"Ether\",\n                \"decimals\": \"18\",\n                \"contractAddress\": \"\",\n                \"balance\": balance\n            };\n            assets.push(ethAsset);\n            // A Human-Readable ABI; any supported ABI format could be used\n\n\n            this.setState({fetching: false, assets});\n        } catch (error) {\n            console.error(error); // tslint:disable-line\n            this.setState({fetching: false});\n        }\n\n    };\n\n    public toggleModal = () =>\n        this.setState({showModal: !this.state.showModal});\n\n\n    public setController = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let controller = new web3.eth.Contract(\n            ControllerV4_ABI,\n            ControllerV4,\n        );\n\n\n       let repusdn1 = await controller.methods.setValut(three_crv, Vaults).send({from: accounts[0]})\n       console.log(`controller.methods.setJar  response :`, JSON.stringify(repusdn1))\n\n        let repusdn2 = await controller.methods.setStrategy(three_crv, StrategyCurve3CRVv2).send({from: accounts[0]})\n        console.log(`setStrategy rep is ${JSON.stringify(repusdn2)}`)\n\n    }\n\n    public setStragy = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let stragy = new web3.eth.Contract(\n            StrategyCurve3CRVv2_ABI,\n            StrategyCurve3CRVv2,\n        );\n\n        //设置保留的crv，之后会除以10000，设置1000，等于十分之一\n        let rep = await stragy.methods.setKeepCRV(0).send({from: accounts[0]})\n        console.log(`stragy.methods.setKeepCRV(1000)  response :`, JSON.stringify(rep))\n\n\n    }\n\n    public testBlockNumber = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        let rep = await web3.eth.getBlockNumber()\n        console.log(`setStrategy rep is ${JSON.stringify(rep)}`)\n        const accounts = await web3.eth.getAccounts();\n\n\n        const provider = new ethers.providers.JsonRpcProvider();\n\n        const signer = provider.getSigner()\n\n\n    }\n\n\n    public testApprove = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n        const test = new ethers.Contract(three_crv, abi, prov.getSigner());\n\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await test.approve(univ2Router2, utils.parseUnits('0', 18).toString())\n        rep = await test.approve(univ2Router2, utils.parseUnits('1000000000000', 18).toString())\n        console.log(`approve univ2Router2 crv rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n    // 测试交易match A地址300TEST2币  B地址200TEST1币  交易match\n    public testDeposit = async () => {\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \" function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n        ];\n        const test1 = new ethers.Contract(Vaults, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        let balance = await test1.balance()\n        console.log(`test1.balance  response :`, JSON.stringify(balance.toString()))\n        // const rep = await test1.totalSupply()\n        let rep = await test1.deposit(utils.parseUnits('2800', 18).toString())\n\n\n        console.log(`jar.methods.deposi  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n\n\n        });\n\n\n    }\n\n    public testBalance = async () => {\n        let assets2 = [];\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n            \"function available() public view returns (uint256)\",\n            \"function balanceOfPool() public override view returns (uint256)\"\n        ];\n        const threecrv = new ethers.Contract(three_crv, abi, prov.getSigner());\n        const jar = new ethers.Contract(Vaults, abi, prov.getSigner());\n        const controller = new ethers.Contract(ControllerV4, abi, prov.getSigner());\n        const usdpgauge = new ethers.Contract(usdn_gauge, abi, prov.getSigner());\n        const stragy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner())\n        const usdc = new ethers.Contract(USDC, abi, prov.getSigner())\n        const usdt = new ethers.Contract(USDT, abi, prov.getSigner())\n        const vaults1 = new ethers.Contract(Vaults, abi, prov.getSigner())\n        const lqty = new ethers.Contract(LQTY, abi, prov.getSigner())\n\n\n        const crv = new ethers.Contract(CRV, abi, prov.getSigner())\n\n        this.toggleModal();\n        this.setState({pendingRequest: true});\n        let lqty_bal1 = await lqty.balanceOf(StrategyCurve3CRVv2)\n        let lqty_bal_p1 = convertAmountFromRawNumber(lqty_bal1.toString(), 18)\n        console.log(`lqty_bal1  is ${lqty_bal1}`)\n\n\n        const ethAsset1161 = {\n            \"symbol\": \"lqty\",\n            \"name\": \"lqty\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": lqty_bal1\n        };\n        assets2.push(ethAsset1161);\n\n\n        let crv_bal = await crv.balanceOf(StrategyCurve3CRVv2)\n        let crv_bal_p = convertAmountFromRawNumber(crv_bal.toString(), 18)\n        console.log(`crv_bal_p is ${crv_bal_p}`)\n\n\n        const ethAsset115 = {\n            \"symbol\": \"Crv\",\n            \"name\": \"Crv-Stragy\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal\n        };\n        assets2.push(ethAsset115);\n\n        let crv_bal1 = await crv.balanceOf(ControllerV4)\n        let crv_bal_p1 = convertAmountFromRawNumber(crv_bal1.toString(), 18)\n        console.log(`crv_bal_p  is ${crv_bal_p1}`)\n\n\n        const ethAsset116 = {\n            \"symbol\": \"Crv-c\",\n            \"name\": \"Crv-Controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal1\n        };\n        assets2.push(ethAsset116);\n\n        let threecrv_bal = await threecrv.balanceOf(accounts[0])\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal is ${threecrv_bal}`)\n\n\n        const ethAsset = {\n            \"symbol\": \"3Crv-user\",\n            \"name\": \"3Crv-user\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal\n        };\n        assets2.push(ethAsset);\n\n        let threecrv_bal1 = await threecrv.balanceOf(Vaults)\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal1 is ${threecrv_bal1}`)\n\n\n        const ethAsset222 = {\n            \"symbol\": \"3Crv-vaults\",\n            \"name\": \"3Crv-vaults\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal1\n        };\n        assets2.push(ethAsset222);\n\n\n        let usdc_bal = await usdc.balanceOf(accounts[0])\n        let usdc_bal_p = convertAmountFromRawNumber(usdc_bal.toString(), 6)\n        const ethAsset111 = {\n            \"symbol\": \"USDC-account\",\n            \"name\": \"USDC-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDC,\n            \"balance\": usdc_bal\n        };\n        assets2.push(ethAsset111);\n        let usdt_bal = await usdt.balanceOf(accounts[0])\n        let usdt_bal_p = convertAmountFromRawNumber(usdt_bal.toString(), 6)\n        const ethAsset112 = {\n            \"symbol\": \"USDT-account\",\n            \"name\": \"USDT-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDT,\n            \"balance\": usdt_bal\n        };\n        assets2.push(ethAsset112);\n\n\n\n        let crv3_treasury = await threecrv.balanceOf(_treasury)\n        let crv3_treasury_p1 = convertAmountFromRawNumber(crv3_treasury.toString(), 6)\n        const ethAsset1121 = {\n            \"symbol\": \"3crv-treasury\",\n            \"name\": \"3crv-treasury\",\n            \"decimals\": \"18\",\n            \"contractAddress\": USDT,\n            \"balance\": crv3_treasury\n        };\n        assets2.push(ethAsset1121);\n        console.log(`crv3_treasury 3crv: ${crv3_treasury_p1}`)\n\n\n\n\n\n        let p3crv_bal = await jar.balanceOf(accounts[0])\n        //jar_bal = convertAmountFromRawNumber(jar_bal.toString(), 18)\n        const ethAsset10 = {\n            \"symbol\": \"p3crv_bal\",\n            \"name\": \"p3crv_bal\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": p3crv_bal\n        };\n        assets2.push(ethAsset10);\n\n\n        let available = await jar.available()\n        // available = convertAmountFromRawNumber(available.toString(), 18)\n        const ethAsset3 = {\n            \"symbol\": \"3Crv-jar.available\",\n            \"name\": \"3Crv-jar.available\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": available\n        };\n        assets2.push(ethAsset3);\n\n        let balance = await jar.balance()\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset4 = {\n            \"symbol\": \"3Crv-jar.jar.balance\",\n            \"name\": \"3Crv-jar.jar.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance\n        };\n        assets2.push(ethAsset4);\n\n\n        let strage1 = await usdpgauge.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`strage1 is ${strage1}`)\n\n\n        const ethAsset6 = {\n            \"symbol\": \"guage-3crv-stragy.balance\",\n            \"name\": \"guage-3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage1\n        };\n        assets2.push(ethAsset6);\n\n        let strage2 = await threecrv.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`strage2 lusdlp is ${strage2}`)\n        const ethAsset7 = {\n            \"symbol\": \"3crv-stragy.balance\",\n            \"name\": \"3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage2\n        };\n        assets2.push(ethAsset7);\n\n        let guage = await usdpgauge.balanceOf(ControllerV4)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`guage is ${guage}`)\n\n        const ethAsset5 = {\n            \"symbol\": \"guage-3crv-controller.balance\",\n            \"name\": \"guage-3crv-controller.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": guage\n        };\n        assets2.push(ethAsset5);\n\n        let balance_controller = await controller.balanceOf(three_crv)\n        balance_controller = convertAmountFromRawNumber(balance_controller.toString(), 18)\n        const ethAsset2 = {\n            \"symbol\": \"3Crv-controller\",\n            \"name\": \"3Crv-controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance_controller\n        };\n        assets2.push(ethAsset2);\n\n        // console.log(`jar.methods.testController  response :`,JSON.stringify(rep.toString()))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n            assets2\n        });\n    }\n\n    public testsetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function setPerformanceTreasuryFee(uint256 _performanceTreasuryFee)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.setPerformanceTreasuryFee(10000)\n\n        // console.log(`jar.methods.withdrawAll  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testgetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function performanceTreasuryFee() public view returns (uint256)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.performanceTreasuryFee()\n\n        console.log(`testgetPerformanceTreasuryFee  response :`, rep.toString())\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testEarn = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n\n            \"function earn(address _token, uint256 _amount) public\",\n\n        ];\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function earn() public\",\n        ];\n\n        const jar = new ethers.Contract(Vaults, abi1, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep1 = await jar.earn()\n\n        //let strategy_depoist_rep = await stragy.deposit()\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n    public testHarvest = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function harvest() public \",\n            \"function usdp_pool() public view returns (address)\",\n            \"function gauge() public view returns (address)\",\n            \"function getMostPremium() public  view returns (address, uint256)\",\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n\n        const strategy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        // let rep = await strategy.gauge()\n        // console.log(`getMostPremium rep is ${rep}, coin index is :`,);\n\n        let rep1 = await strategy.harvest()\n        console.log(`testHarvest rep is ${JSON.stringify(rep1)}`,);\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n\n\n    public testReward = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function harvest() public \",\n            \"function usdp_pool() public view returns (address)\",\n            \"function gauge() public view returns (address)\",\n            \"function getMostPremium() public  view returns (address, uint256)\",\n            \" function claim_rewards(address addr) external\",\n        ];\n\n        const gauge = new ethers.Contract(usdn_gauge, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        // let rep = await strategy.gauge()\n        // console.log(`getMostPremium rep is ${rep}, coin index is :`,);\n\n        let rep1 = await gauge.claim_rewards(_treasury)\n        console.log(`gauge.claim_rewards rep is ${JSON.stringify(rep1)}`,);\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n\n\n    public resetApp = async () => {\n        const {web3} = this.state;\n        if (web3 && web3.currentProvider && web3.currentProvider.close) {\n            await web3.currentProvider.close();\n        }\n        await this.web3Modal.clearCachedProvider();\n        this.setState({...INITIAL_STATE});\n    };\n\n\n\n\n\n\n\n    public getHarvestable = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n            \"function primitiveToCurvePickleJar_3(address curve,address[3] memory underlying,uint256[3] memory underlyingAmounts,address curveLp,address pickleJar) public returns (uint256)\",\n            \"function getHarvestable() external returns (uint256)\"\n        ];\n        const inst = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        //const amount = parseUnits(\"60000\", 6);\n        let rep = await inst.getHarvestable()\n\n        console.log(`getHarvestable rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n\n\n\n\n\n    public testgetReward = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function rewards(address) public view returns (uint256) \",\n            \"function rewardPerTokenStored() public view returns (uint256) \",\n            \"function inviter(address) public view returns (address) \",\n            \" function getReward() public\",\n            \" function _totalSupply() public view returns(uint256)\"\n        ];\n        const invite = new ethers.Contract(Invite, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await invite.rewards(inviter)\n        console.log(`invite.rewards(inviter) rep is ${JSON.stringify(rep)}`)\n        rep = await invite.rewardPerTokenStored()\n        console.log(`invite.rewardPerTokenStored() rep is ${JSON.stringify(rep)}`)\n        rep = await invite.inviter(\"0xD90D00101E1Cf4729f02A5598f4288E00001FC04\")\n        console.log(`invite.inviter() rep is ${JSON.stringify(rep)}`)\n        rep = await invite._totalSupply()\n        console.log(`invite._totalSupply() rep is ${JSON.stringify(rep)}`);\n        console.log(`invite._totalSupply() rep is ${convertAmountFromRawNumber(rep.toString(), 18)}`)\n        rep = await invite.getReward()\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testvaultbalance = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function balance() public view returns(uint256)\",\n            \"function totalSupply() public view returns(uint256)\",\n            \"function available() public view returns(uint256)\"\n        ];\n        const vault = new ethers.Contract(\"0xB54aE04A1472FCdd0f3C122cF716c56415F4D853\", abi, prov);\n\n        let rep = await vault.balance()\n        console.log('balance:',convertAmountFromRawNumber(rep.toString()))\n        let rep1 = await vault.totalSupply()\n        console.log('totalSupply:',convertAmountFromRawNumber(rep1.toString()))\n        let rep2 = await vault.available()\n        console.log('available:',convertAmountFromRawNumber(rep2.toString()))\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n        ];\n        const lp = new ethers.Contract(\"0x7Eb40E450b9655f4B3cC4259BCC731c63ff55ae6\", abi1, prov);\n\n        let rep3 = await lp.balanceOf('0xB54aE04A1472FCdd0f3C122cF716c56415F4D853')\n        console.log('balanceOF:',convertAmountFromRawNumber(rep3.toString()))\n    }\n\n    public render = () => {\n        const {\n            assets,\n            assets2,\n            address,\n            connected,\n            chainId,\n            fetching,\n            showModal,\n            pendingRequest,\n            result\n        } = this.state;\n        return (\n            <SLayout>\n                <Column maxWidth={1000} spanHeight>\n                    <Header\n                        connected={connected}\n                        address={address}\n                        chainId={chainId}\n                        killSession={this.resetApp}\n                    />\n                    <SContent>\n                        {fetching ? (\n                            <Column center>\n                                <SContainer>\n                                    <Loader/>\n                                </SContainer>\n                            </Column>\n                        ) : !!assets && !!assets.length ? (\n                            <SBalances>\n                                <h6>Admin Setting Actions</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n\n\n                                        <STestButton left onClick={() => this.setController()}>\n                                            setController\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.setStragy()}>\n                                            setStragy\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testBlockNumber()}>\n                                            testBlockNumber\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testBalance()}>\n                                            testBalance\n                                        </STestButton>\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Strategist :Deposite 3Crv</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testEarn()}>\n                                            testEarn\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testHarvest()}>\n                                            testHarvest\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.getHarvestable()}>\n                                            getHarvestable--test good uni stablecoin\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testApprove()}>\n                                            testApprove\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testDeposit()}>\n                                            testDeposit\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testsetPerformanceTreasuryFee()}>\n                                            setPerformanceTreasuryFee\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testgetPerformanceTreasuryFee()}>\n                                            getPerformanceTreasuryFee\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>USER ：Deposite from uni stablecoin</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n\n\n                                        <STestButton left onClick={() => this.testvaultbalance()}>\n                                            测试vault balance\n                                        </STestButton>\n                                    </STestButtonContainer>\n                                </Column>\n\n                                <h6>Inviter ：Withdraw </h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testReward()}>\n                                            testReward\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets}/>{\" \"}\n                                <h6>Valuts Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets2}/>{\" \"}\n                            </SBalances>\n                        ) : (\n                            <SLanding center>\n                                <h6>{`Test Web3Modal`}</h6>\n                                <ConnectButton onClick={this.onConnect}/>\n                            </SLanding>\n                        )}\n                    </SContent>\n                </Column>\n                <Modal show={showModal} toggleModal={this.toggleModal}>\n                    {pendingRequest ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Pending Call Request\"}</SModalTitle>\n                            <SContainer>\n                                <Loader/>\n                                <SModalParagraph>\n                                    {\"Approve or reject request using your wallet\"}\n                                </SModalParagraph>\n                            </SContainer>\n                        </SModalContainer>\n                    ) : result ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Approved\"}</SModalTitle>\n                            <ModalResult>{result}</ModalResult>\n                        </SModalContainer>\n                    ) : (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Rejected\"}</SModalTitle>\n                        </SModalContainer>\n                    )}\n                </Modal>\n            </SLayout>\n        );\n    };\n}\n\nexport default App;\n","/Users/helen/fi/protocol-demo/frontend/src/App_forwu_mainnet_iron.tsx",["423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443"],"import * as React from \"react\";\nimport styled from \"styled-components\";\nimport Web3 from \"web3\";\n\nimport Web3Modal from \"web3modal\";\n// @ts-ignore\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n// @ts-ignore\nimport Fortmatic from \"fortmatic\";\nimport Torus from \"@toruslabs/torus-embed\";\nimport Authereum from \"authereum\";\nimport {Bitski} from \"bitski\";\n\nimport Button from \"./components/Button\";\nimport Column from \"./components/Column\";\nimport Wrapper from \"./components/Wrapper\";\nimport Modal from \"./components/Modal\";\nimport Header from \"./components/Header\";\nimport Loader from \"./components/Loader\";\nimport ModalResult from \"./components/ModalResult\";\nimport AccountAssets from \"./components/AccountAssets\";\nimport ConnectButton from \"./components/ConnectButton\";\nimport {getChainData} from \"./helpers/utilities\";\nimport {IAssetData} from \"./helpers/types\";\nimport {fonts} from \"./styles\";\nimport {ethers, utils} from 'ethers';\nimport {convertAmountFromRawNumber} from \"./helpers/bignumber\";\nimport accounts from \"web3/eth/accounts\";\n\n\nconst StrategyCurve3CRVv2_ABI = require(\"./abi/StrategyCurve3CRVv2.json\");\nconst ControllerV4_ABI = require(\"./abi/ControllerV4.json\");\n\n\nconst USDC = \"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\";\nconst USDT = \"0xdac17f958d2ee523a2206206994597c13d831ec7\";\nconst DAI = \"0x6b175474e89094c44da98b954eedeac495271d0f\";\nconst USDP = \"0x1456688345527bE1f37E9e627DA0837D6f08C925\";\nconst USDN = \"0x674C6Ad92Fd080e4004b2312b45f796a192D27a0\";\n\nconst three_crv = \"0x5282a4eF67D9C33135340fB3289cc1711c13638C\";\nconst three_pool = \"0xA79828DF1850E8a3A3064576f380D90aECDD3359\";\nconst usdn_gauge = \"0xF5194c3325202F456c95c1Cf0cA36f8475C1949F\";\n\nconst CRV = \"0xD533a949740bb3306d119CC777fa900bA034cd52\";\nconst LQTY = \"0x6DEA81C8171D0bA574754EF6F8b412F2Ed88c54D\";\n\nconst Vaults = \"0xc90539e2C1AcD614818175a35C6D799b5Dfb96B4\";\nconst StrategyCurve3CRVv2 = \"0x374E9bC7C5517c66DE19a080dfd0ddEA7Be32Ba0\";\n// const ControllerV4 = \"0x5D9396B27bE234F3f70a8980995025EC0B55d92E\"; 5/30 old\nconst ControllerV4 = \"0x8A54FA431B7461FfE4999B3CCD00bd7D4ADd1e4a\";\n\nconst Invite = \"0x36B466533d6bfF320E05Be310803e8b906eF9f79\";\nconst _treasury = \"0xAf069A99690BB3055D6305BDeE514f734021199f\"\n\nconst univ2Router2 = \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\";\nconst inviter = \"0x6d96E5266d662D7ed607CB8D88dC6447632bB298\";\n\nconst {parseUnits} = ethers.utils;\nconst {Zero, MaxUint256} = ethers.constants;\nconst {parseEther} = ethers.utils;\n\n\nconst SLayout = styled.div`\n  position: relative;\n  width: 100%;\n  min-height: 100vh;\n  text-align: center;\n`;\n\nconst SContent = styled(Wrapper)`\n  width: 100%;\n  height: 100%;\n  padding: 0 16px;\n`;\n\nconst SContainer = styled.div`\n  height: 100%;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  word-break: break-word;\n`;\n\nconst SLanding = styled(Column)`\n  height: 600px;\n`;\n\nconst SModalContainer = styled.div`\n  width: 100%;\n  position: relative;\n  word-wrap: break-word;\n`;\n\nconst SModalTitle = styled.div`\n  margin: 1em 0;\n  font-size: 20px;\n  font-weight: 700;\n`;\n\nconst SModalParagraph = styled.p`\n  margin-top: 30px;\n`;\n\n// @ts-ignore\nconst SBalances = styled(SLanding)`\n  height: 100%;\n  & h3 {\n    padding-top: 30px;\n  }\n`;\n\nconst STestButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n`;\n\nconst STestButton = styled(Button)`\n  border-radius: 8px;\n  font-size: ${fonts.size.medium};\n  height: 44px;\n  width: 100%;\n  max-width: 175px;\n  margin: 12px;\n`;\n\ninterface IAppState {\n    fetching: boolean;\n    address: string;\n    web3: any;\n    provider: any;\n    connected: boolean;\n    chainId: number;\n    networkId: number;\n    assets: IAssetData[];\n    assets2: IAssetData[];\n    showModal: boolean;\n    pendingRequest: boolean;\n    result: any | null;\n}\n\nconst INITIAL_STATE: IAppState = {\n    fetching: false,\n    address: \"\",\n    web3: null,\n    provider: null,\n    connected: false,\n    chainId: 1,\n    networkId: 1,\n    assets: [],\n    assets2: [],\n    showModal: false,\n    pendingRequest: false,\n    result: null\n};\n\nfunction initWeb3(provider: any) {\n    const web3: any = new Web3(provider);\n\n    web3.eth.extend({\n        methods: [\n            {\n                name: \"chainId\",\n                call: \"eth_chainId\",\n                outputFormatter: web3.utils.hexToNumber\n            }\n        ]\n    });\n\n    return web3;\n}\n\nclass App extends React.Component<any, any> {\n    // @ts-ignore\n    public web3Modal: Web3Modal;\n    public state: IAppState;\n\n    public claim: string = \"0x5aa37930cbe5f4b04d617f71f78abc6c21be4cc0\";\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            ...INITIAL_STATE\n        };\n\n        this.web3Modal = new Web3Modal({\n            network: this.getNetwork(),\n            cacheProvider: true,\n            providerOptions: this.getProviderOptions()\n        });\n    }\n\n    public componentDidMount() {\n        if (this.web3Modal.cachedProvider) {\n            this.onConnect();\n        }\n    }\n\n    public onConnect = async () => {\n        const provider = await this.web3Modal.connect();\n\n        await this.subscribeProvider(provider);\n\n        const web3: any = initWeb3(provider);\n\n        const accounts = await web3.eth.getAccounts();\n\n        const address = accounts[0];\n\n        const networkId = await web3.eth.net.getId();\n\n        const chainId = await web3.eth.chainId();\n\n        console.log(`chainId is ${chainId}  networkId ${networkId}`)\n\n        await this.setState({\n            web3,\n            provider,\n            connected: true,\n            address,\n            chainId,\n            networkId\n        });\n\n        await this.getAccountAssets(provider);\n    };\n\n    public subscribeProvider = async (provider: any) => {\n        if (!provider.on) {\n            return;\n        }\n        provider.on(\"close\", () => this.resetApp());\n        provider.on(\"accountsChanged\", async (accounts: string[]) => {\n            await this.setState({address: accounts[0]});\n            await this.getAccountAssets(provider);\n        });\n        provider.on(\"chainChanged\", async (chainId: number) => {\n            const {web3} = this.state;\n            const networkId = await web3.eth.net.getId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n\n        provider.on(\"networkChanged\", async (networkId: number) => {\n            const {web3} = this.state;\n            const chainId = await web3.eth.chainId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n    };\n\n    public getNetwork = () => getChainData(this.state.chainId).network;\n\n    public getProviderOptions = () => {\n        const providerOptions = {\n            walletconnect: {\n                package: WalletConnectProvider,\n                options: {\n                    infuraId: process.env.REACT_APP_INFURA_ID\n                }\n            },\n            torus: {\n                package: Torus\n            },\n            fortmatic: {\n                package: Fortmatic,\n                options: {\n                    key: process.env.REACT_APP_FORTMATIC_KEY\n                }\n            },\n            authereum: {\n                package: Authereum\n            },\n            bitski: {\n                package: Bitski,\n                options: {\n                    clientId: process.env.REACT_APP_BITSKI_CLIENT_ID,\n                    callbackUrl: window.location.href + \"bitski-callback.html\"\n                }\n            }\n        };\n        return providerOptions;\n    };\n\n    public getAccountAssets = async (provider: any) => {\n        const {address, chainId} = this.state;\n        this.setState({fetching: false});\n        try {\n            const prov = new ethers.providers.Web3Provider(provider)\n            let balance = await prov.getBalance(address);\n            console.log('[wa]:', balance.toString(), \",\", balance)\n            let assets = [];\n            let assets2 = [];\n            let ethAsset = {\n                \"symbol\": \"ETH\",\n                \"name\": \"Ether\",\n                \"decimals\": \"18\",\n                \"contractAddress\": \"\",\n                \"balance\": balance\n            };\n            assets.push(ethAsset);\n            // A Human-Readable ABI; any supported ABI format could be used\n\n\n            this.setState({fetching: false, assets});\n        } catch (error) {\n            console.error(error); // tslint:disable-line\n            this.setState({fetching: false});\n        }\n\n    };\n\n    public toggleModal = () =>\n        this.setState({showModal: !this.state.showModal});\n\n\n    public setController = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let controller = new web3.eth.Contract(\n            ControllerV4_ABI,\n            ControllerV4,\n        );\n\n\n        let repusdn1 = await controller.methods.setValut(three_crv, Vaults).send({from: accounts[0]})\n       console.log(`controller.methods.setJar  response :`, JSON.stringify(repusdn1))\n\n        let repusdn2 = await controller.methods.setStrategy(three_crv, StrategyCurve3CRVv2).send({from: accounts[0]})\n        console.log(`setStrategy rep is ${JSON.stringify(repusdn2)}`)\n\n    }\n\n    public setStragy = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let stragy = new web3.eth.Contract(\n            StrategyCurve3CRVv2_ABI,\n            StrategyCurve3CRVv2,\n        );\n\n        //设置保留的crv，之后会除以10000，设置1000，等于十分之一\n        let rep = await stragy.methods.setKeepCRV(0).send({from: accounts[0]})\n        console.log(`stragy.methods.setKeepCRV(1000)  response :`, JSON.stringify(rep))\n\n\n    }\n\n    public testBlockNumber = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        let rep = await web3.eth.getBlockNumber()\n        console.log(`setStrategy rep is ${JSON.stringify(rep)}`)\n        const accounts = await web3.eth.getAccounts();\n\n\n        const provider = new ethers.providers.JsonRpcProvider();\n\n        const signer = provider.getSigner()\n\n\n    }\n\n\n    public testApprove = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n        const test = new ethers.Contract(three_crv, abi, prov.getSigner());\n\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await test.approve(univ2Router2, utils.parseUnits('0', 18).toString())\n        rep = await test.approve(univ2Router2, utils.parseUnits('1000000000000', 18).toString())\n        console.log(`approve univ2Router2 crv rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n    // 测试交易match A地址300TEST2币  B地址200TEST1币  交易match\n    public testDeposit = async () => {\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \" function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n        ];\n        const test1 = new ethers.Contract(Vaults, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        let balance = await test1.balance()\n        console.log(`test1.balance  response :`, JSON.stringify(balance.toString()))\n        // const rep = await test1.totalSupply()\n        let rep = await test1.deposit(utils.parseUnits('2800', 18).toString())\n\n\n        console.log(`jar.methods.deposi  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n\n\n        });\n\n\n    }\n\n    public testBalance = async () => {\n        let assets2 = [];\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n            \"function available() public view returns (uint256)\",\n            \"function balanceOfPool() public override view returns (uint256)\"\n        ];\n        const threecrv = new ethers.Contract(three_crv, abi, prov.getSigner());\n        const jar = new ethers.Contract(Vaults, abi, prov.getSigner());\n        const controller = new ethers.Contract(ControllerV4, abi, prov.getSigner());\n        const usdpgauge = new ethers.Contract(usdn_gauge, abi, prov.getSigner());\n        const stragy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner())\n        const usdc = new ethers.Contract(USDC, abi, prov.getSigner())\n        const usdt = new ethers.Contract(USDT, abi, prov.getSigner())\n        const vaults1 = new ethers.Contract(Vaults, abi, prov.getSigner())\n        const lqty = new ethers.Contract(LQTY, abi, prov.getSigner())\n\n\n        const crv = new ethers.Contract(CRV, abi, prov.getSigner())\n\n        this.toggleModal();\n        this.setState({pendingRequest: true});\n        let lqty_bal1 = await lqty.balanceOf(StrategyCurve3CRVv2)\n        let lqty_bal_p1 = convertAmountFromRawNumber(lqty_bal1.toString(), 18)\n        console.log(`lqty_bal1  is ${lqty_bal1}`)\n\n\n        const ethAsset1161 = {\n            \"symbol\": \"lqty\",\n            \"name\": \"lqty\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": lqty_bal1\n        };\n        assets2.push(ethAsset1161);\n\n\n        let crv_bal = await crv.balanceOf(StrategyCurve3CRVv2)\n        let crv_bal_p = convertAmountFromRawNumber(crv_bal.toString(), 18)\n        console.log(`crv_bal_p is ${crv_bal_p}`)\n\n\n        const ethAsset115 = {\n            \"symbol\": \"Crv\",\n            \"name\": \"Crv-Stragy\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal\n        };\n        assets2.push(ethAsset115);\n\n        let crv_bal1 = await crv.balanceOf(ControllerV4)\n        let crv_bal_p1 = convertAmountFromRawNumber(crv_bal1.toString(), 18)\n        console.log(`crv_bal_p  is ${crv_bal_p1}`)\n\n\n        const ethAsset116 = {\n            \"symbol\": \"Crv-c\",\n            \"name\": \"Crv-Controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": CRV,\n            \"balance\": crv_bal1\n        };\n        assets2.push(ethAsset116);\n\n        let threecrv_bal = await threecrv.balanceOf(accounts[0])\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal is ${threecrv_bal}`)\n\n\n        const ethAsset = {\n            \"symbol\": \"3Crv-user\",\n            \"name\": \"3Crv-user\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal\n        };\n        assets2.push(ethAsset);\n\n        let threecrv_bal1 = await threecrv.balanceOf(Vaults)\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal1 is ${threecrv_bal1}`)\n\n\n        const ethAsset222 = {\n            \"symbol\": \"3Crv-vaults\",\n            \"name\": \"3Crv-vaults\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal1\n        };\n        assets2.push(ethAsset222);\n\n\n        let usdc_bal = await usdc.balanceOf(accounts[0])\n        let usdc_bal_p = convertAmountFromRawNumber(usdc_bal.toString(), 6)\n        const ethAsset111 = {\n            \"symbol\": \"USDC-account\",\n            \"name\": \"USDC-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDC,\n            \"balance\": usdc_bal\n        };\n        assets2.push(ethAsset111);\n        let usdt_bal = await usdt.balanceOf(accounts[0])\n        let usdt_bal_p = convertAmountFromRawNumber(usdt_bal.toString(), 6)\n        const ethAsset112 = {\n            \"symbol\": \"USDT-account\",\n            \"name\": \"USDT-account\",\n            \"decimals\": \"6\",\n            \"contractAddress\": USDT,\n            \"balance\": usdt_bal\n        };\n        assets2.push(ethAsset112);\n\n\n\n        let crv3_treasury = await threecrv.balanceOf(_treasury)\n        let crv3_treasury_p1 = convertAmountFromRawNumber(crv3_treasury.toString(), 6)\n        const ethAsset1121 = {\n            \"symbol\": \"3crv-treasury\",\n            \"name\": \"3crv-treasury\",\n            \"decimals\": \"18\",\n            \"contractAddress\": USDT,\n            \"balance\": crv3_treasury\n        };\n        assets2.push(ethAsset1121);\n        console.log(`crv3_treasury 3crv: ${crv3_treasury_p1}`)\n\n\n\n\n\n        let p3crv_bal = await jar.balanceOf(accounts[0])\n        //jar_bal = convertAmountFromRawNumber(jar_bal.toString(), 18)\n        const ethAsset10 = {\n            \"symbol\": \"p3crv_bal\",\n            \"name\": \"p3crv_bal\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": p3crv_bal\n        };\n        assets2.push(ethAsset10);\n\n\n        let available = await jar.available()\n        // available = convertAmountFromRawNumber(available.toString(), 18)\n        const ethAsset3 = {\n            \"symbol\": \"3Crv-jar.available\",\n            \"name\": \"3Crv-jar.available\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": available\n        };\n        assets2.push(ethAsset3);\n\n        let balance = await jar.balance()\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset4 = {\n            \"symbol\": \"3Crv-jar.jar.balance\",\n            \"name\": \"3Crv-jar.jar.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance\n        };\n        assets2.push(ethAsset4);\n\n\n        let strage1 = await usdpgauge.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`strage1 is ${strage1}`)\n\n\n        const ethAsset6 = {\n            \"symbol\": \"guage-3crv-stragy.balance\",\n            \"name\": \"guage-3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage1\n        };\n        assets2.push(ethAsset6);\n\n        let strage2 = await threecrv.balanceOf(StrategyCurve3CRVv2)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`strage2 lusdlp is ${strage2}`)\n        const ethAsset7 = {\n            \"symbol\": \"3crv-stragy.balance\",\n            \"name\": \"3crv-stragy.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": strage2\n        };\n        assets2.push(ethAsset7);\n\n        let guage = await usdpgauge.balanceOf(ControllerV4)\n        // balance = convertAmountFromRawNumber(balance.toString(), 18)\n        console.log(`guage is ${guage}`)\n\n        const ethAsset5 = {\n            \"symbol\": \"guage-3crv-controller.balance\",\n            \"name\": \"guage-3crv-controller.balance\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": guage\n        };\n        assets2.push(ethAsset5);\n\n        let balance_controller = await controller.balanceOf(three_crv)\n        balance_controller = convertAmountFromRawNumber(balance_controller.toString(), 18)\n        const ethAsset2 = {\n            \"symbol\": \"3Crv-controller\",\n            \"name\": \"3Crv-controller\",\n            \"decimals\": \"18\",\n            \"contractAddress\": \"\",\n            \"balance\": balance_controller\n        };\n        assets2.push(ethAsset2);\n\n        // console.log(`jar.methods.testController  response :`,JSON.stringify(rep.toString()))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n            assets2\n        });\n    }\n\n    public testsetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function setPerformanceTreasuryFee(uint256 _performanceTreasuryFee)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.setPerformanceTreasuryFee(10000)\n\n        // console.log(`jar.methods.withdrawAll  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testgetPerformanceTreasuryFee = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n            \" function withdraw(uint256 _shares) public\",\n            \"function performanceTreasuryFee() public view returns (uint256)\"\n        ];\n        const test1 = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        // await test1.withdraw(utils.parseUnits('100', 18).toString())\n        const rep = await test1.performanceTreasuryFee()\n\n        console.log(`testgetPerformanceTreasuryFee  response :`, rep.toString())\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testEarn = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n\n            \"function earn(address _token, uint256 _amount) public\",\n\n        ];\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function earn() public\",\n        ];\n\n        const jar = new ethers.Contract(Vaults, abi1, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep1 = await jar.earn()\n\n        //let strategy_depoist_rep = await stragy.deposit()\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n    public testHarvest = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function harvest() public \",\n            \"function usdp_pool() public view returns (address)\",\n            \"function gauge() public view returns (address)\",\n            \"function getMostPremium() public  view returns (address, uint256)\",\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n\n        const strategy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        // let rep = await strategy.gauge()\n        // console.log(`getMostPremium rep is ${rep}, coin index is :`,);\n\n        let rep1 = await strategy.harvest()\n        console.log(`testHarvest rep is ${JSON.stringify(rep1)}`,);\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n\n\n    public testReward = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function harvest() public \",\n            \"function usdp_pool() public view returns (address)\",\n            \"function gauge() public view returns (address)\",\n            \"function getMostPremium() public  view returns (address, uint256)\",\n            \" function claim_rewards(address addr) external\",\n        ];\n\n        const gauge = new ethers.Contract(usdn_gauge, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        // let rep = await strategy.gauge()\n        // console.log(`getMostPremium rep is ${rep}, coin index is :`,);\n\n        let rep1 = await gauge.claim_rewards(_treasury)\n        console.log(`gauge.claim_rewards rep is ${JSON.stringify(rep1)}`,);\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n    }\n\n\n    public resetApp = async () => {\n        const {web3} = this.state;\n        if (web3 && web3.currentProvider && web3.currentProvider.close) {\n            await web3.currentProvider.close();\n        }\n        await this.web3Modal.clearCachedProvider();\n        this.setState({...INITIAL_STATE});\n    };\n\n\n\n\n\n\n\n    public getHarvestable = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n            \"function primitiveToCurvePickleJar_3(address curve,address[3] memory underlying,uint256[3] memory underlyingAmounts,address curveLp,address pickleJar) public returns (uint256)\",\n            \"function getHarvestable() external returns (uint256)\"\n        ];\n        const inst = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        //const amount = parseUnits(\"60000\", 6);\n        let rep = await inst.getHarvestable()\n\n        console.log(`getHarvestable rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n\n\n\n\n\n    public testgetReward = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function rewards(address) public view returns (uint256) \",\n            \"function rewardPerTokenStored() public view returns (uint256) \",\n            \"function inviter(address) public view returns (address) \",\n            \" function getReward() public\",\n            \" function _totalSupply() public view returns(uint256)\"\n        ];\n        const invite = new ethers.Contract(Invite, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n        let rep = await invite.rewards(inviter)\n        console.log(`invite.rewards(inviter) rep is ${JSON.stringify(rep)}`)\n        rep = await invite.rewardPerTokenStored()\n        console.log(`invite.rewardPerTokenStored() rep is ${JSON.stringify(rep)}`)\n        rep = await invite.inviter(\"0xD90D00101E1Cf4729f02A5598f4288E00001FC04\")\n        console.log(`invite.inviter() rep is ${JSON.stringify(rep)}`)\n        rep = await invite._totalSupply()\n        console.log(`invite._totalSupply() rep is ${JSON.stringify(rep)}`);\n        console.log(`invite._totalSupply() rep is ${convertAmountFromRawNumber(rep.toString(), 18)}`)\n        rep = await invite.getReward()\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testvaultbalance = async () => {\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            \"function balance() public view returns(uint256)\",\n            \"function totalSupply() public view returns(uint256)\",\n            \"function available() public view returns(uint256)\"\n        ];\n        const vault = new ethers.Contract(\"0xB54aE04A1472FCdd0f3C122cF716c56415F4D853\", abi, prov);\n\n        let rep = await vault.balance()\n        console.log('balance:',convertAmountFromRawNumber(rep.toString()))\n        let rep1 = await vault.totalSupply()\n        console.log('totalSupply:',convertAmountFromRawNumber(rep1.toString()))\n        let rep2 = await vault.available()\n        console.log('available:',convertAmountFromRawNumber(rep2.toString()))\n\n        const abi1 = [\n            // Authenticated Functions\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n        ];\n        const lp = new ethers.Contract(\"0x7Eb40E450b9655f4B3cC4259BCC731c63ff55ae6\", abi1, prov);\n\n        let rep3 = await lp.balanceOf('0xB54aE04A1472FCdd0f3C122cF716c56415F4D853')\n        console.log('balanceOF:',convertAmountFromRawNumber(rep3.toString()))\n    }\n\n    public render = () => {\n        const {\n            assets,\n            assets2,\n            address,\n            connected,\n            chainId,\n            fetching,\n            showModal,\n            pendingRequest,\n            result\n        } = this.state;\n        return (\n            <SLayout>\n                <Column maxWidth={1000} spanHeight>\n                    <Header\n                        connected={connected}\n                        address={address}\n                        chainId={chainId}\n                        killSession={this.resetApp}\n                    />\n                    <SContent>\n                        {fetching ? (\n                            <Column center>\n                                <SContainer>\n                                    <Loader/>\n                                </SContainer>\n                            </Column>\n                        ) : !!assets && !!assets.length ? (\n                            <SBalances>\n                                <h6>Admin Setting Actions</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n\n\n                                        <STestButton left onClick={() => this.setController()}>\n                                            setController\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.setStragy()}>\n                                            setStragy\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testBlockNumber()}>\n                                            testBlockNumber\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testBalance()}>\n                                            testBalance\n                                        </STestButton>\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Strategist :Deposite 3Crv</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testEarn()}>\n                                            testEarn\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testHarvest()}>\n                                            testHarvest\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.getHarvestable()}>\n                                            getHarvestable--test good uni stablecoin\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testApprove()}>\n                                            testApprove\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testDeposit()}>\n                                            testDeposit\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testsetPerformanceTreasuryFee()}>\n                                            setPerformanceTreasuryFee\n                                        </STestButton>\n                                        <STestButton left onClick={() => this.testgetPerformanceTreasuryFee()}>\n                                            getPerformanceTreasuryFee\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>USER ：Deposite from uni stablecoin</h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n\n\n                                        <STestButton left onClick={() => this.testvaultbalance()}>\n                                            测试vault balance\n                                        </STestButton>\n                                    </STestButtonContainer>\n                                </Column>\n\n                                <h6>Inviter ：Withdraw </h6>\n                                <Column center>\n\n                                    <STestButtonContainer>\n                                        <STestButton left onClick={() => this.testReward()}>\n                                            testReward\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h6>Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets}/>{\" \"}\n                                <h6>Valuts Balances</h6>\n                                <AccountAssets chainId={chainId} assets={assets2}/>{\" \"}\n                            </SBalances>\n                        ) : (\n                            <SLanding center>\n                                <h6>{`Test Web3Modal`}</h6>\n                                <ConnectButton onClick={this.onConnect}/>\n                            </SLanding>\n                        )}\n                    </SContent>\n                </Column>\n                <Modal show={showModal} toggleModal={this.toggleModal}>\n                    {pendingRequest ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Pending Call Request\"}</SModalTitle>\n                            <SContainer>\n                                <Loader/>\n                                <SModalParagraph>\n                                    {\"Approve or reject request using your wallet\"}\n                                </SModalParagraph>\n                            </SContainer>\n                        </SModalContainer>\n                    ) : result ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Approved\"}</SModalTitle>\n                            <ModalResult>{result}</ModalResult>\n                        </SModalContainer>\n                    ) : (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Rejected\"}</SModalTitle>\n                        </SModalContainer>\n                    )}\n                </Modal>\n            </SLayout>\n        );\n    };\n}\n\nexport default App;\n",["444","445"],"/Users/helen/fi/protocol-demo/frontend/src/App_takuo.tsx",["446","447","448","449","450","451","452","453","454"],"/Users/helen/cybert/floor-price-front/frontend/src/index.tsx",[],"/Users/helen/cybert/floor-price-front/frontend/src/styles.ts",[],"/Users/helen/cybert/floor-price-front/frontend/src/App_opensea.tsx",[],"/Users/helen/cybert/floor-price-front/frontend/src/helpers/utilities.ts",[],"/Users/helen/cybert/floor-price-front/frontend/src/components/Header.tsx",[],"/Users/helen/cybert/floor-price-front/frontend/src/components/Column.tsx",[],"/Users/helen/cybert/floor-price-front/frontend/src/components/Wrapper.tsx",[],"/Users/helen/cybert/floor-price-front/frontend/src/components/Button.tsx",[],"/Users/helen/cybert/floor-price-front/frontend/src/components/Loader.tsx",[],"/Users/helen/cybert/floor-price-front/frontend/src/components/ConnectButton.tsx",[],"/Users/helen/cybert/floor-price-front/frontend/src/helpers/api.ts",[],"/Users/helen/cybert/floor-price-front/frontend/src/helpers/bignumber.ts",[],"/Users/helen/cybert/floor-price-front/frontend/src/helpers/chains.ts",[],"/Users/helen/cybert/floor-price-front/frontend/src/components/Blockie.tsx",[],"/Users/helen/cybert/floor-price-front/frontend/src/components/Banner.tsx",[],{"ruleId":"455","replacedBy":"456"},{"ruleId":"457","replacedBy":"458"},{"ruleId":"459","severity":1,"message":"460","line":40,"column":7,"nodeType":"461","messageId":"462","endLine":40,"endColumn":13},{"ruleId":"459","severity":1,"message":"463","line":42,"column":7,"nodeType":"461","messageId":"462","endLine":42,"endColumn":17},{"ruleId":"459","severity":1,"message":"464","line":45,"column":7,"nodeType":"461","messageId":"462","endLine":45,"endColumn":11},{"ruleId":"459","severity":1,"message":"465","line":48,"column":8,"nodeType":"461","messageId":"462","endLine":48,"endColumn":18},{"ruleId":"459","severity":1,"message":"466","line":49,"column":8,"nodeType":"461","messageId":"462","endLine":49,"endColumn":12},{"ruleId":"459","severity":1,"message":"467","line":49,"column":14,"nodeType":"461","messageId":"462","endLine":49,"endColumn":24},{"ruleId":"459","severity":1,"message":"468","line":50,"column":8,"nodeType":"461","messageId":"462","endLine":50,"endColumn":18},{"ruleId":"459","severity":1,"message":"469","line":280,"column":25,"nodeType":"461","messageId":"462","endLine":280,"endColumn":32},{"ruleId":"459","severity":1,"message":"470","line":287,"column":17,"nodeType":"461","messageId":"462","endLine":287,"endColumn":24},{"ruleId":"459","severity":1,"message":"471","line":348,"column":15,"nodeType":"461","messageId":"462","endLine":348,"endColumn":28},{"ruleId":"459","severity":1,"message":"469","line":376,"column":25,"nodeType":"461","messageId":"462","endLine":376,"endColumn":32},{"ruleId":"459","severity":1,"message":"469","line":417,"column":25,"nodeType":"461","messageId":"462","endLine":417,"endColumn":32},{"ruleId":"459","severity":1,"message":"472","line":467,"column":16,"nodeType":"461","messageId":"462","endLine":467,"endColumn":23},{"ruleId":"459","severity":1,"message":"469","line":467,"column":25,"nodeType":"461","messageId":"462","endLine":467,"endColumn":32},{"ruleId":"455","replacedBy":"473"},{"ruleId":"457","replacedBy":"474"},{"ruleId":"455","replacedBy":"475"},{"ruleId":"457","replacedBy":"476"},{"ruleId":"459","severity":1,"message":"477","line":6,"column":7,"nodeType":"461","messageId":"462","endLine":6,"endColumn":18},{"ruleId":"459","severity":1,"message":"478","line":28,"column":8,"nodeType":"461","messageId":"462","endLine":28,"endColumn":16},{"ruleId":"459","severity":1,"message":"479","line":34,"column":7,"nodeType":"461","messageId":"462","endLine":34,"endColumn":21},{"ruleId":"459","severity":1,"message":"480","line":36,"column":7,"nodeType":"461","messageId":"462","endLine":36,"endColumn":11},{"ruleId":"459","severity":1,"message":"481","line":38,"column":7,"nodeType":"461","messageId":"462","endLine":38,"endColumn":10},{"ruleId":"459","severity":1,"message":"482","line":39,"column":7,"nodeType":"461","messageId":"462","endLine":39,"endColumn":11},{"ruleId":"459","severity":1,"message":"483","line":40,"column":7,"nodeType":"461","messageId":"462","endLine":40,"endColumn":12},{"ruleId":"459","severity":1,"message":"484","line":47,"column":7,"nodeType":"461","messageId":"462","endLine":47,"endColumn":16},{"ruleId":"459","severity":1,"message":"485","line":52,"column":7,"nodeType":"461","messageId":"462","endLine":52,"endColumn":10},{"ruleId":"459","severity":1,"message":"486","line":60,"column":7,"nodeType":"461","messageId":"462","endLine":60,"endColumn":16},{"ruleId":"459","severity":1,"message":"466","line":66,"column":8,"nodeType":"461","messageId":"462","endLine":66,"endColumn":12},{"ruleId":"459","severity":1,"message":"468","line":67,"column":8,"nodeType":"461","messageId":"462","endLine":67,"endColumn":18},{"ruleId":"459","severity":1,"message":"469","line":297,"column":25,"nodeType":"461","messageId":"462","endLine":297,"endColumn":32},{"ruleId":"459","severity":1,"message":"470","line":304,"column":17,"nodeType":"461","messageId":"462","endLine":304,"endColumn":24},{"ruleId":"459","severity":1,"message":"487","line":330,"column":15,"nodeType":"461","messageId":"462","endLine":330,"endColumn":23},{"ruleId":"459","severity":1,"message":"488","line":399,"column":13,"nodeType":"461","messageId":"462","endLine":399,"endColumn":15},{"ruleId":"459","severity":1,"message":"487","line":486,"column":15,"nodeType":"461","messageId":"462","endLine":486,"endColumn":23},{"ruleId":"459","severity":1,"message":"489","line":491,"column":15,"nodeType":"461","messageId":"462","endLine":491,"endColumn":21},{"ruleId":"459","severity":1,"message":"490","line":676,"column":15,"nodeType":"461","messageId":"462","endLine":676,"endColumn":18},{"ruleId":"459","severity":1,"message":"491","line":702,"column":13,"nodeType":"461","messageId":"462","endLine":702,"endColumn":17},{"ruleId":"459","severity":1,"message":"487","line":850,"column":15,"nodeType":"461","messageId":"462","endLine":850,"endColumn":23},{"ruleId":"459","severity":1,"message":"487","line":879,"column":15,"nodeType":"461","messageId":"462","endLine":879,"endColumn":23},{"ruleId":"459","severity":1,"message":"487","line":937,"column":15,"nodeType":"461","messageId":"462","endLine":937,"endColumn":23},{"ruleId":"459","severity":1,"message":"492","line":945,"column":15,"nodeType":"461","messageId":"462","endLine":945,"endColumn":19},{"ruleId":"459","severity":1,"message":"493","line":948,"column":15,"nodeType":"461","messageId":"462","endLine":948,"endColumn":25},{"ruleId":"459","severity":1,"message":"494","line":962,"column":13,"nodeType":"461","messageId":"462","endLine":962,"endColumn":16},{"ruleId":"459","severity":1,"message":"478","line":28,"column":8,"nodeType":"461","messageId":"462","endLine":28,"endColumn":16},{"ruleId":"459","severity":1,"message":"479","line":34,"column":7,"nodeType":"461","messageId":"462","endLine":34,"endColumn":21},{"ruleId":"459","severity":1,"message":"495","line":40,"column":7,"nodeType":"461","messageId":"462","endLine":40,"endColumn":11},{"ruleId":"459","severity":1,"message":"496","line":45,"column":7,"nodeType":"461","messageId":"462","endLine":45,"endColumn":18},{"ruleId":"459","severity":1,"message":"468","line":66,"column":8,"nodeType":"461","messageId":"462","endLine":66,"endColumn":18},{"ruleId":"459","severity":1,"message":"469","line":296,"column":25,"nodeType":"461","messageId":"462","endLine":296,"endColumn":32},{"ruleId":"459","severity":1,"message":"470","line":303,"column":17,"nodeType":"461","messageId":"462","endLine":303,"endColumn":24},{"ruleId":"459","severity":1,"message":"487","line":382,"column":15,"nodeType":"461","messageId":"462","endLine":382,"endColumn":23},{"ruleId":"459","severity":1,"message":"489","line":387,"column":15,"nodeType":"461","messageId":"462","endLine":387,"endColumn":21},{"ruleId":"459","severity":1,"message":"497","line":476,"column":15,"nodeType":"461","messageId":"462","endLine":476,"endColumn":21},{"ruleId":"459","severity":1,"message":"498","line":480,"column":15,"nodeType":"461","messageId":"462","endLine":480,"endColumn":24},{"ruleId":"459","severity":1,"message":"499","line":481,"column":15,"nodeType":"461","messageId":"462","endLine":481,"endColumn":21},{"ruleId":"459","severity":1,"message":"494","line":715,"column":15,"nodeType":"461","messageId":"462","endLine":715,"endColumn":18},{"ruleId":"459","severity":1,"message":"490","line":763,"column":15,"nodeType":"461","messageId":"462","endLine":763,"endColumn":18},{"ruleId":"459","severity":1,"message":"491","line":781,"column":13,"nodeType":"461","messageId":"462","endLine":781,"endColumn":17},{"ruleId":"459","severity":1,"message":"500","line":841,"column":15,"nodeType":"461","messageId":"462","endLine":841,"endColumn":23},{"ruleId":"459","severity":1,"message":"494","line":1010,"column":13,"nodeType":"461","messageId":"462","endLine":1010,"endColumn":16},{"ruleId":"455","replacedBy":"501"},{"ruleId":"457","replacedBy":"502"},{"ruleId":"459","severity":1,"message":"478","line":28,"column":8,"nodeType":"461","messageId":"462","endLine":28,"endColumn":16},{"ruleId":"459","severity":1,"message":"481","line":37,"column":7,"nodeType":"461","messageId":"462","endLine":37,"endColumn":10},{"ruleId":"459","severity":1,"message":"503","line":38,"column":7,"nodeType":"461","messageId":"462","endLine":38,"endColumn":11},{"ruleId":"459","severity":1,"message":"495","line":39,"column":7,"nodeType":"461","messageId":"462","endLine":39,"endColumn":11},{"ruleId":"459","severity":1,"message":"504","line":42,"column":7,"nodeType":"461","messageId":"462","endLine":42,"endColumn":17},{"ruleId":"459","severity":1,"message":"465","line":58,"column":8,"nodeType":"461","messageId":"462","endLine":58,"endColumn":18},{"ruleId":"459","severity":1,"message":"466","line":59,"column":8,"nodeType":"461","messageId":"462","endLine":59,"endColumn":12},{"ruleId":"459","severity":1,"message":"467","line":59,"column":14,"nodeType":"461","messageId":"462","endLine":59,"endColumn":24},{"ruleId":"459","severity":1,"message":"468","line":60,"column":8,"nodeType":"461","messageId":"462","endLine":60,"endColumn":18},{"ruleId":"459","severity":1,"message":"469","line":290,"column":25,"nodeType":"461","messageId":"462","endLine":290,"endColumn":32},{"ruleId":"459","severity":1,"message":"470","line":297,"column":17,"nodeType":"461","messageId":"462","endLine":297,"endColumn":24},{"ruleId":"459","severity":1,"message":"487","line":364,"column":15,"nodeType":"461","messageId":"462","endLine":364,"endColumn":23},{"ruleId":"459","severity":1,"message":"489","line":369,"column":15,"nodeType":"461","messageId":"462","endLine":369,"endColumn":21},{"ruleId":"459","severity":1,"message":"497","line":455,"column":15,"nodeType":"461","messageId":"462","endLine":455,"endColumn":21},{"ruleId":"459","severity":1,"message":"505","line":458,"column":15,"nodeType":"461","messageId":"462","endLine":458,"endColumn":22},{"ruleId":"459","severity":1,"message":"506","line":524,"column":13,"nodeType":"461","messageId":"462","endLine":524,"endColumn":23},{"ruleId":"459","severity":1,"message":"507","line":534,"column":13,"nodeType":"461","messageId":"462","endLine":534,"endColumn":23},{"ruleId":"459","severity":1,"message":"494","line":674,"column":15,"nodeType":"461","messageId":"462","endLine":674,"endColumn":18},{"ruleId":"459","severity":1,"message":"490","line":721,"column":15,"nodeType":"461","messageId":"462","endLine":721,"endColumn":18},{"ruleId":"459","severity":1,"message":"491","line":739,"column":13,"nodeType":"461","messageId":"462","endLine":739,"endColumn":17},{"ruleId":"459","severity":1,"message":"478","line":28,"column":8,"nodeType":"461","messageId":"462","endLine":28,"endColumn":16},{"ruleId":"459","severity":1,"message":"481","line":37,"column":7,"nodeType":"461","messageId":"462","endLine":37,"endColumn":10},{"ruleId":"459","severity":1,"message":"503","line":38,"column":7,"nodeType":"461","messageId":"462","endLine":38,"endColumn":11},{"ruleId":"459","severity":1,"message":"495","line":39,"column":7,"nodeType":"461","messageId":"462","endLine":39,"endColumn":11},{"ruleId":"459","severity":1,"message":"504","line":42,"column":7,"nodeType":"461","messageId":"462","endLine":42,"endColumn":17},{"ruleId":"459","severity":1,"message":"465","line":58,"column":8,"nodeType":"461","messageId":"462","endLine":58,"endColumn":18},{"ruleId":"459","severity":1,"message":"466","line":59,"column":8,"nodeType":"461","messageId":"462","endLine":59,"endColumn":12},{"ruleId":"459","severity":1,"message":"467","line":59,"column":14,"nodeType":"461","messageId":"462","endLine":59,"endColumn":24},{"ruleId":"459","severity":1,"message":"468","line":60,"column":8,"nodeType":"461","messageId":"462","endLine":60,"endColumn":18},{"ruleId":"459","severity":1,"message":"469","line":290,"column":25,"nodeType":"461","messageId":"462","endLine":290,"endColumn":32},{"ruleId":"459","severity":1,"message":"470","line":297,"column":17,"nodeType":"461","messageId":"462","endLine":297,"endColumn":24},{"ruleId":"459","severity":1,"message":"487","line":361,"column":15,"nodeType":"461","messageId":"462","endLine":361,"endColumn":23},{"ruleId":"459","severity":1,"message":"489","line":366,"column":15,"nodeType":"461","messageId":"462","endLine":366,"endColumn":21},{"ruleId":"459","severity":1,"message":"497","line":452,"column":15,"nodeType":"461","messageId":"462","endLine":452,"endColumn":21},{"ruleId":"459","severity":1,"message":"505","line":455,"column":15,"nodeType":"461","messageId":"462","endLine":455,"endColumn":22},{"ruleId":"459","severity":1,"message":"508","line":464,"column":13,"nodeType":"461","messageId":"462","endLine":464,"endColumn":24},{"ruleId":"459","severity":1,"message":"506","line":536,"column":13,"nodeType":"461","messageId":"462","endLine":536,"endColumn":23},{"ruleId":"459","severity":1,"message":"507","line":546,"column":13,"nodeType":"461","messageId":"462","endLine":546,"endColumn":23},{"ruleId":"459","severity":1,"message":"494","line":689,"column":15,"nodeType":"461","messageId":"462","endLine":689,"endColumn":18},{"ruleId":"459","severity":1,"message":"490","line":736,"column":15,"nodeType":"461","messageId":"462","endLine":736,"endColumn":18},{"ruleId":"459","severity":1,"message":"491","line":754,"column":13,"nodeType":"461","messageId":"462","endLine":754,"endColumn":17},{"ruleId":"455","replacedBy":"509"},{"ruleId":"457","replacedBy":"510"},{"ruleId":"459","severity":1,"message":"511","line":29,"column":8,"nodeType":"461","messageId":"462","endLine":29,"endColumn":21},{"ruleId":"459","severity":1,"message":"512","line":34,"column":17,"nodeType":"461","messageId":"462","endLine":34,"endColumn":22},{"ruleId":"459","severity":1,"message":"465","line":36,"column":8,"nodeType":"461","messageId":"462","endLine":36,"endColumn":18},{"ruleId":"459","severity":1,"message":"466","line":37,"column":8,"nodeType":"461","messageId":"462","endLine":37,"endColumn":12},{"ruleId":"459","severity":1,"message":"467","line":37,"column":14,"nodeType":"461","messageId":"462","endLine":37,"endColumn":24},{"ruleId":"459","severity":1,"message":"468","line":38,"column":8,"nodeType":"461","messageId":"462","endLine":38,"endColumn":18},{"ruleId":"459","severity":1,"message":"513","line":328,"column":13,"nodeType":"461","messageId":"462","endLine":328,"endColumn":19},{"ruleId":"459","severity":1,"message":"470","line":329,"column":13,"nodeType":"461","messageId":"462","endLine":329,"endColumn":20},{"ruleId":"459","severity":1,"message":"511","line":32,"column":8,"nodeType":"461","messageId":"462","endLine":32,"endColumn":21},{"ruleId":"459","severity":1,"message":"512","line":37,"column":18,"nodeType":"461","messageId":"462","endLine":37,"endColumn":23},{"ruleId":"459","severity":1,"message":"514","line":301,"column":15,"nodeType":"461","messageId":"462","endLine":301,"endColumn":19},{"ruleId":"459","severity":1,"message":"513","line":346,"column":13,"nodeType":"461","messageId":"462","endLine":346,"endColumn":19},{"ruleId":"459","severity":1,"message":"470","line":347,"column":13,"nodeType":"461","messageId":"462","endLine":347,"endColumn":20},{"ruleId":"459","severity":1,"message":"478","line":28,"column":8,"nodeType":"461","messageId":"462","endLine":28,"endColumn":16},{"ruleId":"459","severity":1,"message":"481","line":37,"column":7,"nodeType":"461","messageId":"462","endLine":37,"endColumn":10},{"ruleId":"459","severity":1,"message":"503","line":38,"column":7,"nodeType":"461","messageId":"462","endLine":38,"endColumn":11},{"ruleId":"459","severity":1,"message":"495","line":39,"column":7,"nodeType":"461","messageId":"462","endLine":39,"endColumn":11},{"ruleId":"459","severity":1,"message":"504","line":42,"column":7,"nodeType":"461","messageId":"462","endLine":42,"endColumn":17},{"ruleId":"459","severity":1,"message":"465","line":59,"column":8,"nodeType":"461","messageId":"462","endLine":59,"endColumn":18},{"ruleId":"459","severity":1,"message":"466","line":60,"column":8,"nodeType":"461","messageId":"462","endLine":60,"endColumn":12},{"ruleId":"459","severity":1,"message":"467","line":60,"column":14,"nodeType":"461","messageId":"462","endLine":60,"endColumn":24},{"ruleId":"459","severity":1,"message":"468","line":61,"column":8,"nodeType":"461","messageId":"462","endLine":61,"endColumn":18},{"ruleId":"459","severity":1,"message":"469","line":291,"column":25,"nodeType":"461","messageId":"462","endLine":291,"endColumn":32},{"ruleId":"459","severity":1,"message":"470","line":298,"column":17,"nodeType":"461","messageId":"462","endLine":298,"endColumn":24},{"ruleId":"459","severity":1,"message":"487","line":360,"column":15,"nodeType":"461","messageId":"462","endLine":360,"endColumn":23},{"ruleId":"459","severity":1,"message":"489","line":365,"column":15,"nodeType":"461","messageId":"462","endLine":365,"endColumn":21},{"ruleId":"459","severity":1,"message":"497","line":451,"column":15,"nodeType":"461","messageId":"462","endLine":451,"endColumn":21},{"ruleId":"459","severity":1,"message":"505","line":454,"column":15,"nodeType":"461","messageId":"462","endLine":454,"endColumn":22},{"ruleId":"459","severity":1,"message":"508","line":463,"column":13,"nodeType":"461","messageId":"462","endLine":463,"endColumn":24},{"ruleId":"459","severity":1,"message":"506","line":535,"column":13,"nodeType":"461","messageId":"462","endLine":535,"endColumn":23},{"ruleId":"459","severity":1,"message":"507","line":545,"column":13,"nodeType":"461","messageId":"462","endLine":545,"endColumn":23},{"ruleId":"459","severity":1,"message":"494","line":688,"column":15,"nodeType":"461","messageId":"462","endLine":688,"endColumn":18},{"ruleId":"459","severity":1,"message":"490","line":735,"column":15,"nodeType":"461","messageId":"462","endLine":735,"endColumn":18},{"ruleId":"459","severity":1,"message":"491","line":753,"column":13,"nodeType":"461","messageId":"462","endLine":753,"endColumn":17},{"ruleId":"455","replacedBy":"515"},{"ruleId":"457","replacedBy":"516"},{"ruleId":"459","severity":1,"message":"478","line":28,"column":8,"nodeType":"461","messageId":"462","endLine":28,"endColumn":16},{"ruleId":"459","severity":1,"message":"481","line":37,"column":7,"nodeType":"461","messageId":"462","endLine":37,"endColumn":10},{"ruleId":"459","severity":1,"message":"503","line":38,"column":7,"nodeType":"461","messageId":"462","endLine":38,"endColumn":11},{"ruleId":"459","severity":1,"message":"495","line":39,"column":7,"nodeType":"461","messageId":"462","endLine":39,"endColumn":11},{"ruleId":"459","severity":1,"message":"504","line":42,"column":7,"nodeType":"461","messageId":"462","endLine":42,"endColumn":17},{"ruleId":"459","severity":1,"message":"465","line":58,"column":8,"nodeType":"461","messageId":"462","endLine":58,"endColumn":18},{"ruleId":"459","severity":1,"message":"466","line":59,"column":8,"nodeType":"461","messageId":"462","endLine":59,"endColumn":12},{"ruleId":"459","severity":1,"message":"467","line":59,"column":14,"nodeType":"461","messageId":"462","endLine":59,"endColumn":24},{"ruleId":"459","severity":1,"message":"468","line":60,"column":8,"nodeType":"461","messageId":"462","endLine":60,"endColumn":18},{"ruleId":"459","severity":1,"message":"469","line":290,"column":25,"nodeType":"461","messageId":"462","endLine":290,"endColumn":32},{"ruleId":"459","severity":1,"message":"470","line":297,"column":17,"nodeType":"461","messageId":"462","endLine":297,"endColumn":24},{"ruleId":"459","severity":1,"message":"487","line":361,"column":15,"nodeType":"461","messageId":"462","endLine":361,"endColumn":23},{"ruleId":"459","severity":1,"message":"489","line":366,"column":15,"nodeType":"461","messageId":"462","endLine":366,"endColumn":21},{"ruleId":"459","severity":1,"message":"497","line":452,"column":15,"nodeType":"461","messageId":"462","endLine":452,"endColumn":21},{"ruleId":"459","severity":1,"message":"505","line":455,"column":15,"nodeType":"461","messageId":"462","endLine":455,"endColumn":22},{"ruleId":"459","severity":1,"message":"508","line":464,"column":13,"nodeType":"461","messageId":"462","endLine":464,"endColumn":24},{"ruleId":"459","severity":1,"message":"506","line":536,"column":13,"nodeType":"461","messageId":"462","endLine":536,"endColumn":23},{"ruleId":"459","severity":1,"message":"507","line":546,"column":13,"nodeType":"461","messageId":"462","endLine":546,"endColumn":23},{"ruleId":"459","severity":1,"message":"494","line":689,"column":15,"nodeType":"461","messageId":"462","endLine":689,"endColumn":18},{"ruleId":"459","severity":1,"message":"490","line":736,"column":15,"nodeType":"461","messageId":"462","endLine":736,"endColumn":18},{"ruleId":"459","severity":1,"message":"491","line":754,"column":13,"nodeType":"461","messageId":"462","endLine":754,"endColumn":17},{"ruleId":"459","severity":1,"message":"478","line":28,"column":8,"nodeType":"461","messageId":"462","endLine":28,"endColumn":16},{"ruleId":"459","severity":1,"message":"481","line":37,"column":7,"nodeType":"461","messageId":"462","endLine":37,"endColumn":10},{"ruleId":"459","severity":1,"message":"503","line":38,"column":7,"nodeType":"461","messageId":"462","endLine":38,"endColumn":11},{"ruleId":"459","severity":1,"message":"495","line":39,"column":7,"nodeType":"461","messageId":"462","endLine":39,"endColumn":11},{"ruleId":"459","severity":1,"message":"504","line":42,"column":7,"nodeType":"461","messageId":"462","endLine":42,"endColumn":17},{"ruleId":"459","severity":1,"message":"465","line":59,"column":8,"nodeType":"461","messageId":"462","endLine":59,"endColumn":18},{"ruleId":"459","severity":1,"message":"466","line":60,"column":8,"nodeType":"461","messageId":"462","endLine":60,"endColumn":12},{"ruleId":"459","severity":1,"message":"467","line":60,"column":14,"nodeType":"461","messageId":"462","endLine":60,"endColumn":24},{"ruleId":"459","severity":1,"message":"468","line":61,"column":8,"nodeType":"461","messageId":"462","endLine":61,"endColumn":18},{"ruleId":"459","severity":1,"message":"469","line":291,"column":25,"nodeType":"461","messageId":"462","endLine":291,"endColumn":32},{"ruleId":"459","severity":1,"message":"470","line":298,"column":17,"nodeType":"461","messageId":"462","endLine":298,"endColumn":24},{"ruleId":"459","severity":1,"message":"487","line":360,"column":15,"nodeType":"461","messageId":"462","endLine":360,"endColumn":23},{"ruleId":"459","severity":1,"message":"489","line":365,"column":15,"nodeType":"461","messageId":"462","endLine":365,"endColumn":21},{"ruleId":"459","severity":1,"message":"497","line":451,"column":15,"nodeType":"461","messageId":"462","endLine":451,"endColumn":21},{"ruleId":"459","severity":1,"message":"505","line":454,"column":15,"nodeType":"461","messageId":"462","endLine":454,"endColumn":22},{"ruleId":"459","severity":1,"message":"508","line":463,"column":13,"nodeType":"461","messageId":"462","endLine":463,"endColumn":24},{"ruleId":"459","severity":1,"message":"506","line":535,"column":13,"nodeType":"461","messageId":"462","endLine":535,"endColumn":23},{"ruleId":"459","severity":1,"message":"507","line":545,"column":13,"nodeType":"461","messageId":"462","endLine":545,"endColumn":23},{"ruleId":"459","severity":1,"message":"494","line":688,"column":15,"nodeType":"461","messageId":"462","endLine":688,"endColumn":18},{"ruleId":"459","severity":1,"message":"490","line":735,"column":15,"nodeType":"461","messageId":"462","endLine":735,"endColumn":18},{"ruleId":"459","severity":1,"message":"491","line":753,"column":13,"nodeType":"461","messageId":"462","endLine":753,"endColumn":17},{"ruleId":"459","severity":1,"message":"478","line":28,"column":8,"nodeType":"461","messageId":"462","endLine":28,"endColumn":16},{"ruleId":"459","severity":1,"message":"481","line":37,"column":7,"nodeType":"461","messageId":"462","endLine":37,"endColumn":10},{"ruleId":"459","severity":1,"message":"503","line":38,"column":7,"nodeType":"461","messageId":"462","endLine":38,"endColumn":11},{"ruleId":"459","severity":1,"message":"495","line":39,"column":7,"nodeType":"461","messageId":"462","endLine":39,"endColumn":11},{"ruleId":"459","severity":1,"message":"504","line":42,"column":7,"nodeType":"461","messageId":"462","endLine":42,"endColumn":17},{"ruleId":"459","severity":1,"message":"465","line":59,"column":8,"nodeType":"461","messageId":"462","endLine":59,"endColumn":18},{"ruleId":"459","severity":1,"message":"466","line":60,"column":8,"nodeType":"461","messageId":"462","endLine":60,"endColumn":12},{"ruleId":"459","severity":1,"message":"467","line":60,"column":14,"nodeType":"461","messageId":"462","endLine":60,"endColumn":24},{"ruleId":"459","severity":1,"message":"468","line":61,"column":8,"nodeType":"461","messageId":"462","endLine":61,"endColumn":18},{"ruleId":"459","severity":1,"message":"469","line":291,"column":25,"nodeType":"461","messageId":"462","endLine":291,"endColumn":32},{"ruleId":"459","severity":1,"message":"470","line":298,"column":17,"nodeType":"461","messageId":"462","endLine":298,"endColumn":24},{"ruleId":"459","severity":1,"message":"487","line":360,"column":15,"nodeType":"461","messageId":"462","endLine":360,"endColumn":23},{"ruleId":"459","severity":1,"message":"489","line":365,"column":15,"nodeType":"461","messageId":"462","endLine":365,"endColumn":21},{"ruleId":"459","severity":1,"message":"497","line":451,"column":15,"nodeType":"461","messageId":"462","endLine":451,"endColumn":21},{"ruleId":"459","severity":1,"message":"505","line":454,"column":15,"nodeType":"461","messageId":"462","endLine":454,"endColumn":22},{"ruleId":"459","severity":1,"message":"508","line":463,"column":13,"nodeType":"461","messageId":"462","endLine":463,"endColumn":24},{"ruleId":"459","severity":1,"message":"506","line":535,"column":13,"nodeType":"461","messageId":"462","endLine":535,"endColumn":23},{"ruleId":"459","severity":1,"message":"507","line":545,"column":13,"nodeType":"461","messageId":"462","endLine":545,"endColumn":23},{"ruleId":"459","severity":1,"message":"494","line":688,"column":15,"nodeType":"461","messageId":"462","endLine":688,"endColumn":18},{"ruleId":"459","severity":1,"message":"490","line":735,"column":15,"nodeType":"461","messageId":"462","endLine":735,"endColumn":18},{"ruleId":"459","severity":1,"message":"491","line":753,"column":13,"nodeType":"461","messageId":"462","endLine":753,"endColumn":17},{"ruleId":"455","replacedBy":"517"},{"ruleId":"457","replacedBy":"518"},{"ruleId":"459","severity":1,"message":"511","line":29,"column":8,"nodeType":"461","messageId":"462","endLine":29,"endColumn":21},{"ruleId":"459","severity":1,"message":"465","line":36,"column":8,"nodeType":"461","messageId":"462","endLine":36,"endColumn":18},{"ruleId":"459","severity":1,"message":"466","line":37,"column":8,"nodeType":"461","messageId":"462","endLine":37,"endColumn":12},{"ruleId":"459","severity":1,"message":"467","line":37,"column":14,"nodeType":"461","messageId":"462","endLine":37,"endColumn":24},{"ruleId":"459","severity":1,"message":"468","line":38,"column":8,"nodeType":"461","messageId":"462","endLine":38,"endColumn":18},{"ruleId":"459","severity":1,"message":"519","line":109,"column":7,"nodeType":"461","messageId":"462","endLine":109,"endColumn":17},{"ruleId":"459","severity":1,"message":"520","line":346,"column":19,"nodeType":"461","messageId":"462","endLine":346,"endColumn":24},{"ruleId":"459","severity":1,"message":"513","line":375,"column":13,"nodeType":"461","messageId":"462","endLine":375,"endColumn":19},{"ruleId":"459","severity":1,"message":"470","line":376,"column":13,"nodeType":"461","messageId":"462","endLine":376,"endColumn":20},"no-native-reassign",["521"],"no-negated-in-lhs",["522"],"@typescript-eslint/no-unused-vars","'Vaults' is assigned a value but never used.","Identifier","unusedVar","'Instabrine' is assigned a value but never used.","'usdt' is assigned a value but never used.","'parseUnits' is assigned a value but never used.","'Zero' is assigned a value but never used.","'MaxUint256' is assigned a value but never used.","'parseEther' is assigned a value but never used.","'chainId' is assigned a value but never used.","'assets2' is assigned a value but never used.","'proofContract' is assigned a value but never used.","'address' is assigned a value but never used.",["521"],["522"],["521"],["522"],"'ethGetBlock' is assigned a value but never used.","'accounts' is defined but never used.","'Instabrine_ABI' is assigned a value but never used.","'USDC' is assigned a value but never used.","'DAI' is assigned a value but never used.","'CAKE' is assigned a value but never used.","'BUNNY' is assigned a value but never used.","'three_crv' is assigned a value but never used.","'CRV' is assigned a value but never used.","'_treasury' is assigned a value but never used.","'accounts' is assigned a value but never used.","'g3' is assigned a value but never used.","'signer' is assigned a value but never used.","'abi' is assigned a value but never used.","'rep1' is assigned a value but never used.","'pjar' is assigned a value but never used.","'tokenIndex' is assigned a value but never used.","'rep' is assigned a value but never used.","'USDN' is assigned a value but never used.","'Three_gauge' is assigned a value but never used.","'stragy' is assigned a value but never used.","'threepool' is assigned a value but never used.","'invite' is assigned a value but never used.","'test_crv' is assigned a value but never used.",["521"],["522"],"'USDP' is assigned a value but never used.","'three_pool' is assigned a value but never used.","'vaults1' is assigned a value but never used.","'usdc_bal_p' is assigned a value but never used.","'usdt_bal_p' is assigned a value but never used.","'lqty_bal_p1' is assigned a value but never used.",["521"],["522"],"'AccountAssets' is defined but never used.","'utils' is defined but never used.","'assets' is assigned a value but never used.","'prov' is assigned a value but never used.",["521"],["522"],["521"],["522"],"'STestInput' is assigned a value but never used.","'doggy' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]