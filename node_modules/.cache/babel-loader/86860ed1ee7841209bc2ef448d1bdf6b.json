{"ast":null,"code":"var _jsxFileName = \"/Users/helen/fi/protocol-demo/frontend/src/App.tsx\";\nimport * as React from \"react\";\nimport styled from \"styled-components\";\nimport Web3 from \"web3\";\nimport Web3Modal from \"web3modal\"; // @ts-ignore\n\nimport WalletConnectProvider from \"@walletconnect/web3-provider\"; // @ts-ignore\n\nimport Fortmatic from \"fortmatic\";\nimport Torus from \"@toruslabs/torus-embed\";\nimport Authereum from \"authereum\";\nimport { Bitski } from \"bitski\";\nimport Button from \"./components/Button\";\nimport Column from \"./components/Column\";\nimport Wrapper from \"./components/Wrapper\";\nimport Modal from \"./components/Modal\";\nimport Header from \"./components/Header\";\nimport Loader from \"./components/Loader\";\nimport ModalResult from \"./components/ModalResult\";\nimport AccountAssets from \"./components/AccountAssets\";\nimport ConnectButton from \"./components/ConnectButton\";\nimport { formatTestTransaction, getChainData } from \"./helpers/utilities\";\nimport { fonts } from \"./styles\";\nimport { ETH_SEND_TRANSACTION } from \"./constants\";\nimport { ethers, utils } from 'ethers';\nimport { convertAmountFromRawNumber } from \"./helpers/bignumber\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DAI_ABI = require(\"./abi/dai.json\");\n\nconst StrategyCurve3CRVv2_ABI = require(\"./abi/StrategyCurve3CRVv2.json\");\n\nconst ControllerV4_ABI = require(\"./abi/ControllerV4.json\");\n\nconst PickleJar_ABI = require(\"./abi/PickleJar.json\");\n\nconst DAI = \"0x6b175474e89094c44da98b954eedeac495271d0f\";\nconst three_crv = \"0x6c3F90f043a72FA612cbac8115EE7e52BDe6E490\";\nconst PickleJar = \"0xB54aE04A1472FCdd0f3C122cF716c56415F4D853\";\nconst StrategyCurve3CRVv2 = \"0x6E7622518572571aFf70c66440B82f3Dcfef1C5D\";\nconst ControllerV4 = \"0x4801F0559606C4cfDe29360D82A3836Aa2fa915d\";\nconst Three_gauge = \"0xbFcF63294aD7105dEa65aA58F8AE5BE2D9d0952A\";\nconst SLayout = styled.div`\n  position: relative;\n  width: 100%;\n  min-height: 100vh;\n  text-align: center;\n`;\n_c = SLayout;\nconst SContent = styled(Wrapper)`\n  width: 100%;\n  height: 100%;\n  padding: 0 16px;\n`;\n_c2 = SContent;\nconst SContainer = styled.div`\n  height: 100%;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  word-break: break-word;\n`;\n_c3 = SContainer;\nconst SLanding = styled(Column)`\n  height: 600px;\n`;\n_c4 = SLanding;\nconst SModalContainer = styled.div`\n  width: 100%;\n  position: relative;\n  word-wrap: break-word;\n`;\n_c5 = SModalContainer;\nconst SModalTitle = styled.div`\n  margin: 1em 0;\n  font-size: 20px;\n  font-weight: 700;\n`;\n_c6 = SModalTitle;\nconst SModalParagraph = styled.p`\n  margin-top: 30px;\n`; // @ts-ignore\n\n_c7 = SModalParagraph;\nconst SBalances = styled(SLanding)`\n  height: 100%;\n  & h3 {\n    padding-top: 30px;\n  }\n`;\n_c8 = SBalances;\nconst STestButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n`;\n_c9 = STestButtonContainer;\nconst STestButton = styled(Button)`\n  border-radius: 8px;\n  font-size: ${fonts.size.medium};\n  height: 44px;\n  width: 100%;\n  max-width: 175px;\n  margin: 12px;\n`;\n_c10 = STestButton;\nconst INITIAL_STATE = {\n  fetching: false,\n  address: \"\",\n  web3: null,\n  provider: null,\n  connected: false,\n  chainId: 1,\n  networkId: 1,\n  assets: [],\n  assets2: [],\n  showModal: false,\n  pendingRequest: false,\n  result: null\n};\n\nfunction initWeb3(provider) {\n  const web3 = new Web3(provider);\n  web3.eth.extend({\n    methods: [{\n      name: \"chainId\",\n      call: \"eth_chainId\",\n      outputFormatter: web3.utils.hexToNumber\n    }]\n  });\n  return web3;\n}\n\nclass App extends React.Component {\n  // @ts-ignore\n  constructor(props) {\n    super(props);\n    this.web3Modal = void 0;\n    this.state = void 0;\n    this.claim = \"0x5aa37930cbe5f4b04d617f71f78abc6c21be4cc0\";\n\n    this.onConnect = async () => {\n      const provider = await this.web3Modal.connect();\n      await this.subscribeProvider(provider);\n      const web3 = initWeb3(provider);\n      const accounts = await web3.eth.getAccounts();\n      const address = accounts[0];\n      const networkId = await web3.eth.net.getId();\n      const chainId = await web3.eth.chainId();\n      console.log(`chainId is ${chainId}  networkId ${networkId}`);\n      await this.setState({\n        web3,\n        provider,\n        connected: true,\n        address,\n        chainId,\n        networkId\n      });\n      await this.getAccountAssets(provider);\n    };\n\n    this.subscribeProvider = async provider => {\n      if (!provider.on) {\n        return;\n      }\n\n      provider.on(\"close\", () => this.resetApp());\n      provider.on(\"accountsChanged\", async accounts => {\n        await this.setState({\n          address: accounts[0]\n        });\n        await this.getAccountAssets(provider);\n      });\n      provider.on(\"chainChanged\", async chainId => {\n        const {\n          web3\n        } = this.state;\n        const networkId = await web3.eth.net.getId();\n        await this.setState({\n          chainId,\n          networkId\n        });\n        await this.getAccountAssets(provider);\n      });\n      provider.on(\"networkChanged\", async networkId => {\n        const {\n          web3\n        } = this.state;\n        const chainId = await web3.eth.chainId();\n        await this.setState({\n          chainId,\n          networkId\n        });\n        await this.getAccountAssets(provider);\n      });\n    };\n\n    this.getNetwork = () => getChainData(this.state.chainId).network;\n\n    this.getProviderOptions = () => {\n      const providerOptions = {\n        walletconnect: {\n          package: WalletConnectProvider,\n          options: {\n            infuraId: process.env.REACT_APP_INFURA_ID\n          }\n        },\n        torus: {\n          package: Torus\n        },\n        fortmatic: {\n          package: Fortmatic,\n          options: {\n            key: process.env.REACT_APP_FORTMATIC_KEY\n          }\n        },\n        authereum: {\n          package: Authereum\n        },\n        bitski: {\n          package: Bitski,\n          options: {\n            clientId: process.env.REACT_APP_BITSKI_CLIENT_ID,\n            callbackUrl: window.location.href + \"bitski-callback.html\"\n          }\n        }\n      };\n      return providerOptions;\n    };\n\n    this.getAccountAssets = async provider => {\n      const {\n        address,\n        chainId\n      } = this.state;\n      this.setState({\n        fetching: false\n      });\n\n      try {\n        const prov = new ethers.providers.Web3Provider(provider);\n        let balance = await prov.getBalance(address);\n        console.log('[wa]:', balance.toString(), \",\", balance);\n        let assets = [];\n        let assets2 = [];\n        let ethAsset = {\n          \"symbol\": \"ETH\",\n          \"name\": \"Ether\",\n          \"decimals\": \"18\",\n          \"contractAddress\": \"\",\n          \"balance\": balance\n        };\n        assets.push(ethAsset); // A Human-Readable ABI; any supported ABI format could be used\n\n        const abi = [// Read-Only Functions\n        \"function balanceOf(address owner) view returns (uint256)\", \"function decimals() view returns (uint8)\", \"function symbol() view returns (string)\"];\n        this.setState({\n          fetching: false,\n          assets\n        });\n      } catch (error) {\n        console.error(error); // tslint:disable-line\n\n        this.setState({\n          fetching: false\n        });\n      }\n    };\n\n    this.toggleModal = () => this.setState({\n      showModal: !this.state.showModal\n    });\n\n    this.testSendTransaction = async () => {\n      const {\n        web3,\n        address,\n        chainId\n      } = this.state;\n\n      if (!web3) {\n        return;\n      }\n\n      const tx = await formatTestTransaction(address, chainId);\n\n      try {\n        // open modal\n        this.toggleModal(); // toggle pending request indicator\n\n        this.setState({\n          pendingRequest: true\n        }); // @ts-ignore\n\n        function sendTransaction(_tx) {\n          return new Promise((resolve, reject) => {\n            web3.eth.sendTransaction(_tx).once(\"transactionHash\", txHash => resolve(txHash)).catch(err => reject(err));\n          });\n        } // send transaction\n\n\n        const result = await sendTransaction(tx); // format displayed result\n\n        const formattedResult = {\n          action: ETH_SEND_TRANSACTION,\n          txHash: result,\n          from: address,\n          to: address,\n          value: \"0 ETH\"\n        }; // display result\n\n        this.setState({\n          web3,\n          pendingRequest: false,\n          result: formattedResult || null\n        });\n      } catch (error) {\n        console.error(error); // tslint:disable-line\n\n        this.setState({\n          web3,\n          pendingRequest: false,\n          result: null\n        });\n      }\n    };\n\n    this.setController = async () => {\n      let web3 = new Web3(Web3.givenProvider);\n      const accounts = await web3.eth.getAccounts();\n      let controller = new web3.eth.Contract(ControllerV4_ABI, ControllerV4);\n      let rep = await controller.methods.setJar(three_crv, PickleJar).send({\n        from: accounts[0]\n      });\n      console.log(`controller.methods.setJar  response :`, JSON.stringify(rep));\n      rep = await controller.methods.approveStrategy(three_crv, StrategyCurve3CRVv2).send({\n        from: accounts[0]\n      });\n      console.log(`approveStrategy rep is ${JSON.stringify(rep)}`);\n      rep = await controller.methods.setStrategy(three_crv, StrategyCurve3CRVv2).send({\n        from: accounts[0]\n      });\n      console.log(`setStrategy rep is ${JSON.stringify(rep)}`);\n    };\n\n    this.testApprove = async () => {\n      const provider = await this.web3Modal.connect();\n      const prov = new ethers.providers.Web3Provider(provider);\n      const abi = [// Authenticated Functions\n      \"function approve(address spender, uint256 amount) returns (bool)\"];\n      const test1 = new ethers.Contract(three_crv, abi, prov.getSigner()); // open modal\n\n      this.toggleModal(); // toggle pending request indicator\n\n      this.setState({\n        pendingRequest: true\n      });\n      let rep = await test1.approve(PickleJar, utils.parseUnits('0', 18).toString());\n      rep = await test1.approve(PickleJar, utils.parseUnits('1000000', 18).toString());\n      console.log(`approve DAI rep is ${JSON.stringify(rep)}`); // display result\n\n      this.setState({\n        pendingRequest: false,\n        result: \"ok\" || null\n      });\n    };\n\n    this.testDeposit = async () => {\n      // let web3 = new Web3(Web3.givenProvider);\n      // const accounts = await web3.eth.getAccounts();\n      const provider = await this.web3Modal.connect();\n      const prov = new ethers.providers.Web3Provider(provider);\n      const abi = [// Authenticated Functions\n      \" function deposit(uint256 _amount) public\", \"function totalSupply() view returns (uint256)\", \"function balance() public view returns (uint256)\"];\n      const test1 = new ethers.Contract(PickleJar, abi, prov.getSigner());\n      console.log('xxx:', test1);\n      this.toggleModal(); // toggle pending request indicator\n\n      this.setState({\n        pendingRequest: true\n      });\n      let balance = await test1.balance();\n      console.log(`test1.balance  response :`, JSON.stringify(balance.toString())); // const rep = await test1.totalSupply()\n\n      let rep = await test1.deposit(utils.parseUnits('100', 18).toString());\n      console.log(`jar.methods.deposi  response :`, JSON.stringify(rep));\n      this.setState({\n        pendingRequest: false,\n        result: \"ok\" || null\n      });\n    };\n\n    this.testBalance = async () => {\n      let assets2 = [];\n      let web3 = new Web3(Web3.givenProvider);\n      const accounts = await web3.eth.getAccounts();\n      const provider = await this.web3Modal.connect();\n      const prov = new ethers.providers.Web3Provider(provider);\n      const abi = [// Authenticated Functions\n      \"function deposit(uint256 _amount) public\", \"function totalSupply() view returns (uint256)\", \"function balanceOf(address account) external view returns (uint256)\", \"function balance() public view returns (uint256)\", \"function available() public view returns (uint256)\", \"function balanceOfPool() public override view returns (uint256)\"];\n      const threecrv = new ethers.Contract(three_crv, abi, prov.getSigner());\n      const jar = new ethers.Contract(PickleJar, abi, prov.getSigner());\n      const controller = new ethers.Contract(ControllerV4, abi, prov.getSigner());\n      const threegauge = new ethers.Contract(Three_gauge, abi, prov.getSigner());\n      const stragy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n      let threecrv_bal = await threecrv.balanceOf(accounts[0]); //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n\n      console.log(`threecrv_bal is ${threecrv_bal}`);\n      this.toggleModal();\n      this.setState({\n        pendingRequest: true\n      });\n      const ethAsset = {\n        \"symbol\": \"3Crv\",\n        \"name\": \"3Crv\",\n        \"decimals\": \"18\",\n        \"contractAddress\": three_crv,\n        \"balance\": threecrv_bal\n      };\n      assets2.push(ethAsset);\n      let jar_bal = await jar.balance(); //jar_bal = convertAmountFromRawNumber(jar_bal.toString(), 18)\n\n      const ethAsset1 = {\n        \"symbol\": \"3Crv-Jar\",\n        \"name\": \"3Crv-Jar\",\n        \"decimals\": \"18\",\n        \"contractAddress\": \"\",\n        \"balance\": jar_bal\n      };\n      assets2.push(ethAsset1);\n      let balance_controller = await controller.balanceOf(three_crv);\n      balance_controller = convertAmountFromRawNumber(balance_controller.toString(), 18);\n      const ethAsset2 = {\n        \"symbol\": \"3Crv-controller\",\n        \"name\": \"3Crv-controller\",\n        \"decimals\": \"18\",\n        \"contractAddress\": \"\",\n        \"balance\": balance_controller\n      };\n      assets2.push(ethAsset2);\n      let available = await jar.available(); // available = convertAmountFromRawNumber(available.toString(), 18)\n\n      const ethAsset3 = {\n        \"symbol\": \"3Crv-jar.available\",\n        \"name\": \"3Crv-jar.available\",\n        \"decimals\": \"18\",\n        \"contractAddress\": \"\",\n        \"balance\": available\n      };\n      assets2.push(ethAsset3);\n      let balance = await jar.balance(); // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n      const ethAsset4 = {\n        \"symbol\": \"3Crv-jar.jar.balance\",\n        \"name\": \"3Crv-jar.jar.balance\",\n        \"decimals\": \"18\",\n        \"contractAddress\": \"\",\n        \"balance\": balance\n      };\n      assets2.push(ethAsset4);\n      let guage = await threegauge.balanceOf(accounts[0]); // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n      const ethAsset5 = {\n        \"symbol\": \"guage-3crvofaccount.balance\",\n        \"name\": \"guage-3crvofaccount.balance\",\n        \"decimals\": \"18\",\n        \"contractAddress\": \"\",\n        \"balance\": guage\n      };\n      assets2.push(ethAsset5);\n      let strage1 = await stragy.balanceOfPool(); // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n      const ethAsset6 = {\n        \"symbol\": \"guage-3crv-stragy.balance\",\n        \"name\": \"guage-3crv-stragy.balance\",\n        \"decimals\": \"18\",\n        \"contractAddress\": \"\",\n        \"balance\": strage1\n      };\n      assets2.push(ethAsset6);\n      let strage2 = await threecrv.balanceOf(StrategyCurve3CRVv2); // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n      const ethAsset7 = {\n        \"symbol\": \"3crv-stragy.balance\",\n        \"name\": \"3crv-stragy.balance\",\n        \"decimals\": \"18\",\n        \"contractAddress\": \"\",\n        \"balance\": strage2\n      };\n      assets2.push(ethAsset7); // console.log(`jar.methods.testController  response :`,JSON.stringify(rep.toString()))\n\n      this.setState({\n        pendingRequest: false,\n        result: \"ok\" || null,\n        assets2\n      });\n    };\n\n    this.testWithdraw = async () => {\n      // let web3 = new Web3(Web3.givenProvider);\n      // const accounts = await web3.eth.getAccounts();\n      const provider = await this.web3Modal.connect();\n      const prov = new ethers.providers.Web3Provider(provider);\n      const abi = [// Authenticated Functions\n      \"function withdrawAll() external\"];\n      const test1 = new ethers.Contract(PickleJar, abi, prov.getSigner());\n      this.toggleModal(); // toggle pending request indicator\n\n      this.setState({\n        pendingRequest: true\n      });\n      const rep = await test1.withdrawAll();\n      console.log(`jar.methods.withdrawAll  response :`, JSON.stringify(rep));\n      this.setState({\n        pendingRequest: false,\n        result: \"ok\" || null\n      });\n    };\n\n    this.testEarn = async () => {\n      let min = 100; //最小的crv 个数\n      // let web3 = new Web3(Web3.givenProvider);\n      // const accounts = await web3.eth.getAccounts();\n\n      const provider = await this.web3Modal.connect();\n      const prov = new ethers.providers.Web3Provider(provider);\n      const abi = [// Authenticated Functions\n      // \"function earn() public\",\n      \"function earn(address _token, uint256 _amount) public\", \" function balance() public view returns (uint256)\", \"function available() public view returns (uint256)\", \"function balanceOf(address _token) external view returns (uint256)\", \"function approve(address spender, uint256 amount) returns (bool)\", \"function approveStrategy(address _token, address _strategy) public\", \"function deposit() public override\", \"function totalSupply() view returns (uint256)\"];\n      const abi1 = [// Authenticated Functions\n      \"function earn() public\", // \"function earn(address _token, uint256 _amount) public\",\n      \" function balance() public view returns (uint256)\", \"function available() public view returns (uint256)\", \"function balanceOf(address _token) external view returns (uint256)\", \"function approve(address spender, uint256 amount) returns (bool)\", \"function approveStrategy(address _token, address _strategy) public\", \"function deposit() public override\", \"function totalSupply() view returns (uint256)\"];\n      const three_gauge = \"0xbFcF63294aD7105dEa65aA58F8AE5BE2D9d0952A\";\n      const jar = new ethers.Contract(PickleJar, abi1, prov.getSigner());\n      const controller = new ethers.Contract(ControllerV4, abi, prov.getSigner());\n      const threecrv = new ethers.Contract(three_crv, abi, prov.getSigner());\n      const stragy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n      const gauge = new ethers.Contract(three_gauge, abi, prov.getSigner());\n      this.toggleModal(); // toggle pending request indicator\n\n      this.setState({\n        pendingRequest: true\n      }); //\n      // let stragy_balance = await threecrv.balanceOf(StrategyCurve3CRVv2)\n      // stragy_balance = convertAmountFromRawNumber(stragy_balance.toString(), 18)\n      // let gaug_balance = await threecrv.balanceOf(StrategyCurve3CRVv2)\n      // stragy_balance = convertAmountFromRawNumber(stragy_balance.toString(), 18)\n      // console.log(`jar.methods.testController  balance of crv is  :`, stragy_balance.toString())\n      //if(b1 > min) {\n      // let rep = await threecrv.approve(ControllerV4,utils.parseUnits('0', 18).toString())\n      //    rep = await threecrv.approve(ControllerV4,utils.parseUnits('10000', 18).toString())\n      //    console.log(`controller.approveStrategy  response :`, JSON.stringify(rep))\n      //   let rep1 = await jar.earn()\n      //    console.log(`jar.methods.withdrawAll  response :`, JSON.stringify(rep1))\n\n      let rep2 = await controller.earn(three_crv, 90);\n      let strategy_depoist_rep = await stragy.deposit();\n      console.log(`strategy_depoist_rep is  :`, strategy_depoist_rep); // }\n\n      this.setState({\n        pendingRequest: false,\n        result: \"ok\" || null\n      });\n    };\n\n    this.resetApp = async () => {\n      const {\n        web3\n      } = this.state;\n\n      if (web3 && web3.currentProvider && web3.currentProvider.close) {\n        await web3.currentProvider.close();\n      }\n\n      await this.web3Modal.clearCachedProvider();\n      this.setState({ ...INITIAL_STATE\n      });\n    };\n\n    this.render = () => {\n      const {\n        assets,\n        assets2,\n        address,\n        connected,\n        chainId,\n        fetching,\n        showModal,\n        pendingRequest,\n        result\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(SLayout, {\n        children: [/*#__PURE__*/_jsxDEV(Column, {\n          maxWidth: 1000,\n          spanHeight: true,\n          children: [/*#__PURE__*/_jsxDEV(Header, {\n            connected: connected,\n            address: address,\n            chainId: chainId,\n            killSession: this.resetApp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 700,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(SContent, {\n            children: fetching ? /*#__PURE__*/_jsxDEV(Column, {\n              center: true,\n              children: /*#__PURE__*/_jsxDEV(SContainer, {\n                children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 710,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 709,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 708,\n              columnNumber: 29\n            }, this) : !!assets && !!assets.length ? /*#__PURE__*/_jsxDEV(SBalances, {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 715,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Column, {\n                center: true,\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(STestButtonContainer, {\n                  children: [/*#__PURE__*/_jsxDEV(STestButton, {\n                    left: true,\n                    onClick: () => this.setController(),\n                    children: \"setController\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 720,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(STestButton, {\n                    left: true,\n                    onClick: () => this.testApprove(),\n                    children: \"testApprove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 724,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(STestButton, {\n                    left: true,\n                    onClick: () => this.testBalance(),\n                    children: \"testBalance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 728,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(STestButton, {\n                    left: true,\n                    onClick: () => this.testDeposit(),\n                    children: \"testDeposit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 732,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(STestButton, {\n                    left: true,\n                    onClick: () => this.testWithdraw(),\n                    children: \"testWithdraw\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 737,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(STestButton, {\n                    left: true,\n                    onClick: () => this.testEarn(),\n                    children: \"testEarn\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 741,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 718,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 716,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Balances\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 748,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(AccountAssets, {\n                chainId: chainId,\n                assets: assets\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 749,\n                columnNumber: 33\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Valuts Balances\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(AccountAssets, {\n                chainId: chainId,\n                assets: assets2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 751,\n                columnNumber: 33\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 29\n            }, this) : /*#__PURE__*/_jsxDEV(SLanding, {\n              center: true,\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: `Test Web3Modal`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 755,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ConnectButton, {\n                onClick: this.onConnect\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 756,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 754,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 706,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          show: showModal,\n          toggleModal: this.toggleModal,\n          children: pendingRequest ? /*#__PURE__*/_jsxDEV(SModalContainer, {\n            children: [/*#__PURE__*/_jsxDEV(SModalTitle, {\n              children: \"Pending Call Request\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 764,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(SContainer, {\n              children: [/*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 766,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(SModalParagraph, {\n                children: \"Approve or reject request using your wallet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 767,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 25\n          }, this) : result ? /*#__PURE__*/_jsxDEV(SModalContainer, {\n            children: [/*#__PURE__*/_jsxDEV(SModalTitle, {\n              children: \"Call Request Approved\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ModalResult, {\n              children: result\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(SModalContainer, {\n            children: /*#__PURE__*/_jsxDEV(SModalTitle, {\n              children: \"Call Request Rejected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 779,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 778,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 761,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 698,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.state = { ...INITIAL_STATE\n    };\n    this.web3Modal = new Web3Modal({\n      network: this.getNetwork(),\n      cacheProvider: true,\n      providerOptions: this.getProviderOptions()\n    });\n  }\n\n  componentDidMount() {\n    if (this.web3Modal.cachedProvider) {\n      this.onConnect();\n    }\n  }\n\n}\n\nexport default App;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"SLayout\");\n$RefreshReg$(_c2, \"SContent\");\n$RefreshReg$(_c3, \"SContainer\");\n$RefreshReg$(_c4, \"SLanding\");\n$RefreshReg$(_c5, \"SModalContainer\");\n$RefreshReg$(_c6, \"SModalTitle\");\n$RefreshReg$(_c7, \"SModalParagraph\");\n$RefreshReg$(_c8, \"SBalances\");\n$RefreshReg$(_c9, \"STestButtonContainer\");\n$RefreshReg$(_c10, \"STestButton\");","map":{"version":3,"sources":["/Users/helen/fi/protocol-demo/frontend/src/App.tsx"],"names":["React","styled","Web3","Web3Modal","WalletConnectProvider","Fortmatic","Torus","Authereum","Bitski","Button","Column","Wrapper","Modal","Header","Loader","ModalResult","AccountAssets","ConnectButton","formatTestTransaction","getChainData","fonts","ETH_SEND_TRANSACTION","ethers","utils","convertAmountFromRawNumber","DAI_ABI","require","StrategyCurve3CRVv2_ABI","ControllerV4_ABI","PickleJar_ABI","DAI","three_crv","PickleJar","StrategyCurve3CRVv2","ControllerV4","Three_gauge","SLayout","div","SContent","SContainer","SLanding","SModalContainer","SModalTitle","SModalParagraph","p","SBalances","STestButtonContainer","STestButton","size","medium","INITIAL_STATE","fetching","address","web3","provider","connected","chainId","networkId","assets","assets2","showModal","pendingRequest","result","initWeb3","eth","extend","methods","name","call","outputFormatter","hexToNumber","App","Component","constructor","props","web3Modal","state","claim","onConnect","connect","subscribeProvider","accounts","getAccounts","net","getId","console","log","setState","getAccountAssets","on","resetApp","getNetwork","network","getProviderOptions","providerOptions","walletconnect","package","options","infuraId","process","env","REACT_APP_INFURA_ID","torus","fortmatic","key","REACT_APP_FORTMATIC_KEY","authereum","bitski","clientId","REACT_APP_BITSKI_CLIENT_ID","callbackUrl","window","location","href","prov","providers","Web3Provider","balance","getBalance","toString","ethAsset","push","abi","error","toggleModal","testSendTransaction","tx","sendTransaction","_tx","Promise","resolve","reject","once","txHash","catch","err","formattedResult","action","from","to","value","setController","givenProvider","controller","Contract","rep","setJar","send","JSON","stringify","approveStrategy","setStrategy","testApprove","test1","getSigner","approve","parseUnits","testDeposit","deposit","testBalance","threecrv","jar","threegauge","stragy","threecrv_bal","balanceOf","jar_bal","ethAsset1","balance_controller","ethAsset2","available","ethAsset3","ethAsset4","guage","ethAsset5","strage1","balanceOfPool","ethAsset6","strage2","ethAsset7","testWithdraw","withdrawAll","testEarn","min","abi1","three_gauge","gauge","rep2","earn","strategy_depoist_rep","currentProvider","close","clearCachedProvider","render","length","cacheProvider","componentDidMount","cachedProvider"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport styled from \"styled-components\";\nimport Web3 from \"web3\";\n\nimport Web3Modal from \"web3modal\";\n// @ts-ignore\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n// @ts-ignore\nimport Fortmatic from \"fortmatic\";\nimport Torus from \"@toruslabs/torus-embed\";\nimport Authereum from \"authereum\";\nimport {Bitski} from \"bitski\";\n\nimport Button from \"./components/Button\";\nimport Column from \"./components/Column\";\nimport Wrapper from \"./components/Wrapper\";\nimport Modal from \"./components/Modal\";\nimport Header from \"./components/Header\";\nimport Loader from \"./components/Loader\";\nimport ModalResult from \"./components/ModalResult\";\nimport AccountAssets from \"./components/AccountAssets\";\nimport ConnectButton from \"./components/ConnectButton\";\nimport {formatTestTransaction, getChainData} from \"./helpers/utilities\";\nimport {IAssetData} from \"./helpers/types\";\nimport {fonts} from \"./styles\";\nimport {ETH_SEND_TRANSACTION} from \"./constants\";\nimport {ethers, utils} from 'ethers';\nimport {convertAmountFromRawNumber} from \"./helpers/bignumber\";\n\nconst DAI_ABI = require(\"./abi/dai.json\");\nconst StrategyCurve3CRVv2_ABI = require(\"./abi/StrategyCurve3CRVv2.json\");\nconst ControllerV4_ABI = require(\"./abi/ControllerV4.json\");\nconst PickleJar_ABI = require(\"./abi/PickleJar.json\");\n\n\nconst DAI = \"0x6b175474e89094c44da98b954eedeac495271d0f\";\nconst three_crv = \"0x6c3F90f043a72FA612cbac8115EE7e52BDe6E490\";\nconst PickleJar = \"0xB54aE04A1472FCdd0f3C122cF716c56415F4D853\";\nconst StrategyCurve3CRVv2 = \"0x6E7622518572571aFf70c66440B82f3Dcfef1C5D\";\nconst ControllerV4 = \"0x4801F0559606C4cfDe29360D82A3836Aa2fa915d\";\nconst Three_gauge = \"0xbFcF63294aD7105dEa65aA58F8AE5BE2D9d0952A\";\n\n\nconst SLayout = styled.div`\n  position: relative;\n  width: 100%;\n  min-height: 100vh;\n  text-align: center;\n`;\n\nconst SContent = styled(Wrapper)`\n  width: 100%;\n  height: 100%;\n  padding: 0 16px;\n`;\n\nconst SContainer = styled.div`\n  height: 100%;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  word-break: break-word;\n`;\n\nconst SLanding = styled(Column)`\n  height: 600px;\n`;\n\nconst SModalContainer = styled.div`\n  width: 100%;\n  position: relative;\n  word-wrap: break-word;\n`;\n\nconst SModalTitle = styled.div`\n  margin: 1em 0;\n  font-size: 20px;\n  font-weight: 700;\n`;\n\nconst SModalParagraph = styled.p`\n  margin-top: 30px;\n`;\n\n// @ts-ignore\nconst SBalances = styled(SLanding)`\n  height: 100%;\n  & h3 {\n    padding-top: 30px;\n  }\n`;\n\nconst STestButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n`;\n\nconst STestButton = styled(Button)`\n  border-radius: 8px;\n  font-size: ${fonts.size.medium};\n  height: 44px;\n  width: 100%;\n  max-width: 175px;\n  margin: 12px;\n`;\n\ninterface IAppState {\n    fetching: boolean;\n    address: string;\n    web3: any;\n    provider: any;\n    connected: boolean;\n    chainId: number;\n    networkId: number;\n    assets: IAssetData[];\n    assets2: IAssetData[];\n    showModal: boolean;\n    pendingRequest: boolean;\n    result: any | null;\n}\n\nconst INITIAL_STATE: IAppState = {\n    fetching: false,\n    address: \"\",\n    web3: null,\n    provider: null,\n    connected: false,\n    chainId: 1,\n    networkId: 1,\n    assets: [],\n    assets2: [],\n    showModal: false,\n    pendingRequest: false,\n    result: null\n};\n\nfunction initWeb3(provider: any) {\n    const web3: any = new Web3(provider);\n\n    web3.eth.extend({\n        methods: [\n            {\n                name: \"chainId\",\n                call: \"eth_chainId\",\n                outputFormatter: web3.utils.hexToNumber\n            }\n        ]\n    });\n\n    return web3;\n}\n\nclass App extends React.Component<any, any> {\n    // @ts-ignore\n    public web3Modal: Web3Modal;\n    public state: IAppState;\n\n    public claim: string = \"0x5aa37930cbe5f4b04d617f71f78abc6c21be4cc0\";\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            ...INITIAL_STATE\n        };\n\n        this.web3Modal = new Web3Modal({\n            network: this.getNetwork(),\n            cacheProvider: true,\n            providerOptions: this.getProviderOptions()\n        });\n    }\n\n    public componentDidMount() {\n        if (this.web3Modal.cachedProvider) {\n            this.onConnect();\n        }\n    }\n\n    public onConnect = async () => {\n        const provider = await this.web3Modal.connect();\n\n        await this.subscribeProvider(provider);\n\n        const web3: any = initWeb3(provider);\n\n        const accounts = await web3.eth.getAccounts();\n\n        const address = accounts[0];\n\n        const networkId = await web3.eth.net.getId();\n\n        const chainId = await web3.eth.chainId();\n\n        console.log(`chainId is ${chainId}  networkId ${networkId}`)\n\n        await this.setState({\n            web3,\n            provider,\n            connected: true,\n            address,\n            chainId,\n            networkId\n        });\n\n        await this.getAccountAssets(provider);\n    };\n\n    public subscribeProvider = async (provider: any) => {\n        if (!provider.on) {\n            return;\n        }\n        provider.on(\"close\", () => this.resetApp());\n        provider.on(\"accountsChanged\", async (accounts: string[]) => {\n            await this.setState({address: accounts[0]});\n            await this.getAccountAssets(provider);\n        });\n        provider.on(\"chainChanged\", async (chainId: number) => {\n            const {web3} = this.state;\n            const networkId = await web3.eth.net.getId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n\n        provider.on(\"networkChanged\", async (networkId: number) => {\n            const {web3} = this.state;\n            const chainId = await web3.eth.chainId();\n            await this.setState({chainId, networkId});\n            await this.getAccountAssets(provider);\n        });\n    };\n\n    public getNetwork = () => getChainData(this.state.chainId).network;\n\n    public getProviderOptions = () => {\n        const providerOptions = {\n            walletconnect: {\n                package: WalletConnectProvider,\n                options: {\n                    infuraId: process.env.REACT_APP_INFURA_ID\n                }\n            },\n            torus: {\n                package: Torus\n            },\n            fortmatic: {\n                package: Fortmatic,\n                options: {\n                    key: process.env.REACT_APP_FORTMATIC_KEY\n                }\n            },\n            authereum: {\n                package: Authereum\n            },\n            bitski: {\n                package: Bitski,\n                options: {\n                    clientId: process.env.REACT_APP_BITSKI_CLIENT_ID,\n                    callbackUrl: window.location.href + \"bitski-callback.html\"\n                }\n            }\n        };\n        return providerOptions;\n    };\n\n    public getAccountAssets = async (provider: any) => {\n        const {address, chainId} = this.state;\n        this.setState({fetching: false});\n        try {\n            const prov = new ethers.providers.Web3Provider(provider)\n            let balance = await prov.getBalance(address);\n            console.log('[wa]:', balance.toString(), \",\", balance)\n            let assets = [];\n            let assets2 = [];\n            let ethAsset = {\n                \"symbol\": \"ETH\",\n                \"name\": \"Ether\",\n                \"decimals\": \"18\",\n                \"contractAddress\": \"\",\n                \"balance\": balance\n            };\n            assets.push(ethAsset);\n            // A Human-Readable ABI; any supported ABI format could be used\n            const abi = [\n                // Read-Only Functions\n                \"function balanceOf(address owner) view returns (uint256)\",\n                \"function decimals() view returns (uint8)\",\n                \"function symbol() view returns (string)\",\n            ];\n\n            this.setState({fetching: false, assets});\n        } catch (error) {\n            console.error(error); // tslint:disable-line\n            this.setState({fetching: false});\n        }\n\n    };\n\n    public toggleModal = () =>\n        this.setState({showModal: !this.state.showModal});\n\n    public testSendTransaction = async () => {\n        const {web3, address, chainId} = this.state;\n\n        if (!web3) {\n            return;\n        }\n\n        const tx = await formatTestTransaction(address, chainId);\n\n        try {\n            // open modal\n            this.toggleModal();\n\n            // toggle pending request indicator\n            this.setState({pendingRequest: true});\n\n            // @ts-ignore\n            function sendTransaction(_tx: any) {\n                return new Promise((resolve, reject) => {\n                    web3.eth\n                        .sendTransaction(_tx)\n                        .once(\"transactionHash\", (txHash: string) => resolve(txHash))\n                        .catch((err: any) => reject(err));\n                });\n            }\n\n            // send transaction\n            const result = await sendTransaction(tx);\n\n            // format displayed result\n            const formattedResult = {\n                action: ETH_SEND_TRANSACTION,\n                txHash: result,\n                from: address,\n                to: address,\n                value: \"0 ETH\"\n            };\n\n            // display result\n            this.setState({\n                web3,\n                pendingRequest: false,\n                result: formattedResult || null\n            });\n        } catch (error) {\n            console.error(error); // tslint:disable-line\n            this.setState({web3, pendingRequest: false, result: null});\n        }\n    };\n\n\n    public setController = async () => {\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        let controller = new web3.eth.Contract(\n            ControllerV4_ABI,\n            ControllerV4,\n        );\n\n        let rep = await controller.methods.setJar(three_crv, PickleJar).send({from: accounts[0]})\n        console.log(`controller.methods.setJar  response :`, JSON.stringify(rep))\n\n\n        rep = await controller.methods.approveStrategy(three_crv, StrategyCurve3CRVv2).send({from: accounts[0]})\n\n        console.log(`approveStrategy rep is ${JSON.stringify(rep)}`)\n\n        rep = await controller.methods.setStrategy(three_crv, StrategyCurve3CRVv2).send({from: accounts[0]})\n\n        console.log(`setStrategy rep is ${JSON.stringify(rep)}`)\n\n\n    }\n\n\n    public testApprove = async () => {\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n        ];\n        const test1 = new ethers.Contract(three_crv, abi, prov.getSigner());\n        // open modal\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        let rep = await test1.approve(PickleJar, utils.parseUnits('0', 18).toString())\n        rep = await test1.approve(PickleJar, utils.parseUnits('1000000', 18).toString())\n        console.log(`approve DAI rep is ${JSON.stringify(rep)}`)\n        // display result\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n    }\n\n    // 测试交易match A地址300TEST2币  B地址200TEST1币  交易match\n    public testDeposit = async () => {\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \" function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n        ];\n        const test1 = new ethers.Contract(PickleJar, abi, prov.getSigner());\n        console.log('xxx:', test1)\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n        let balance = await test1.balance()\n        console.log(`test1.balance  response :`, JSON.stringify(balance.toString()))\n        // const rep = await test1.totalSupply()\n        let rep = await test1.deposit(utils.parseUnits('100', 18).toString())\n\n\n        console.log(`jar.methods.deposi  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n\n\n        });\n\n\n    }\n\n    public testBalance = async () => {\n        let assets2 = [];\n        let web3 = new Web3(Web3.givenProvider);\n        const accounts = await web3.eth.getAccounts();\n\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function deposit(uint256 _amount) public\",\n            \"function totalSupply() view returns (uint256)\",\n            \"function balanceOf(address account) external view returns (uint256)\",\n            \"function balance() public view returns (uint256)\",\n            \"function available() public view returns (uint256)\",\n            \"function balanceOfPool() public override view returns (uint256)\"\n        ];\n        const threecrv = new ethers.Contract(three_crv, abi, prov.getSigner());\n        const jar = new ethers.Contract(PickleJar, abi, prov.getSigner());\n        const controller = new ethers.Contract(ControllerV4, abi, prov.getSigner());\n        const threegauge = new ethers.Contract(Three_gauge, abi, prov.getSigner());\n        const stragy = new ethers.Contract(StrategyCurve3CRVv2,abi,prov.getSigner())\n\n\n        let threecrv_bal = await threecrv.balanceOf(accounts[0])\n        //threecrv_bal = convertAmountFromRawNumber(threecrv_bal.toString(), 18)\n        console.log(`threecrv_bal is ${threecrv_bal}`)\n        this.toggleModal();\n        this.setState({pendingRequest: true});\n\n        const ethAsset = {\n            \"symbol\": \"3Crv\",\n            \"name\": \"3Crv\",\n            \"decimals\": \"18\",\n            \"contractAddress\": three_crv,\n            \"balance\": threecrv_bal\n        };\n        assets2.push(ethAsset);\n\n        let jar_bal = await jar.balance()\n        //jar_bal = convertAmountFromRawNumber(jar_bal.toString(), 18)\n        const ethAsset1 = {\n          \"symbol\": \"3Crv-Jar\",\n          \"name\": \"3Crv-Jar\",\n          \"decimals\": \"18\",\n          \"contractAddress\": \"\",\n          \"balance\": jar_bal\n        };\n        assets2.push(ethAsset1);\n\n        let balance_controller = await controller.balanceOf(three_crv)\n        balance_controller = convertAmountFromRawNumber(balance_controller.toString(), 18)\n        const ethAsset2 = {\n          \"symbol\": \"3Crv-controller\",\n          \"name\": \"3Crv-controller\",\n          \"decimals\": \"18\",\n          \"contractAddress\": \"\",\n          \"balance\": balance_controller\n        };\n        assets2.push(ethAsset2);\n\n        let available = await jar.available()\n       // available = convertAmountFromRawNumber(available.toString(), 18)\n        const ethAsset3 = {\n          \"symbol\": \"3Crv-jar.available\",\n          \"name\": \"3Crv-jar.available\",\n          \"decimals\": \"18\",\n          \"contractAddress\": \"\",\n          \"balance\": available\n        };\n        assets2.push(ethAsset3);\n\n        let balance = await jar.balance()\n       // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n        const ethAsset4 = {\n          \"symbol\": \"3Crv-jar.jar.balance\",\n          \"name\": \"3Crv-jar.jar.balance\",\n          \"decimals\": \"18\",\n          \"contractAddress\": \"\",\n          \"balance\": balance\n        };\n        assets2.push(ethAsset4);\n      let guage = await threegauge.balanceOf(accounts[0])\n      // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n      const ethAsset5 = {\n        \"symbol\": \"guage-3crvofaccount.balance\",\n        \"name\": \"guage-3crvofaccount.balance\",\n        \"decimals\": \"18\",\n        \"contractAddress\": \"\",\n        \"balance\": guage\n      };\n      assets2.push(ethAsset5);\n\n      let strage1 = await stragy.balanceOfPool()\n      // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n      const ethAsset6 = {\n        \"symbol\": \"guage-3crv-stragy.balance\",\n        \"name\": \"guage-3crv-stragy.balance\",\n        \"decimals\": \"18\",\n        \"contractAddress\": \"\",\n        \"balance\": strage1\n      };\n      assets2.push(ethAsset6);\n\n      let strage2 = await threecrv.balanceOf(StrategyCurve3CRVv2)\n      // balance = convertAmountFromRawNumber(balance.toString(), 18)\n\n      const ethAsset7 = {\n        \"symbol\": \"3crv-stragy.balance\",\n        \"name\": \"3crv-stragy.balance\",\n        \"decimals\": \"18\",\n        \"contractAddress\": \"\",\n        \"balance\": strage2\n      };\n      assets2.push(ethAsset7);\n\n\n      // console.log(`jar.methods.testController  response :`,JSON.stringify(rep.toString()))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null,\n            assets2\n        });\n    }\n\n    public testWithdraw = async () => {\n\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n            \"function withdrawAll() external\",\n        ];\n        const test1 = new ethers.Contract(PickleJar, abi, prov.getSigner());\n\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n        const rep = await test1.withdrawAll()\n\n        console.log(`jar.methods.withdrawAll  response :`, JSON.stringify(rep))\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n    public testEarn = async () => {\n        let min = 100 //最小的crv 个数\n        // let web3 = new Web3(Web3.givenProvider);\n        // const accounts = await web3.eth.getAccounts();\n        const provider = await this.web3Modal.connect();\n        const prov = new ethers.providers.Web3Provider(provider);\n        const abi = [\n            // Authenticated Functions\n\n           // \"function earn() public\",\n           \"function earn(address _token, uint256 _amount) public\",\n            \" function balance() public view returns (uint256)\",\n            \"function available() public view returns (uint256)\",\n            \"function balanceOf(address _token) external view returns (uint256)\",\n            \"function approve(address spender, uint256 amount) returns (bool)\",\n            \"function approveStrategy(address _token, address _strategy) public\",\n            \"function deposit() public override\",\n            \"function totalSupply() view returns (uint256)\",\n        ];\n\n      const abi1 = [\n        // Authenticated Functions\n\n         \"function earn() public\",\n       // \"function earn(address _token, uint256 _amount) public\",\n        \" function balance() public view returns (uint256)\",\n        \"function available() public view returns (uint256)\",\n        \"function balanceOf(address _token) external view returns (uint256)\",\n        \"function approve(address spender, uint256 amount) returns (bool)\",\n        \"function approveStrategy(address _token, address _strategy) public\",\n        \"function deposit() public override\",\n        \"function totalSupply() view returns (uint256)\",\n      ];\n        const three_gauge = \"0xbFcF63294aD7105dEa65aA58F8AE5BE2D9d0952A\";\n        const jar = new ethers.Contract(PickleJar, abi1, prov.getSigner());\n        const controller = new ethers.Contract(ControllerV4, abi, prov.getSigner());\n        const threecrv = new ethers.Contract(three_crv, abi, prov.getSigner());\n        const stragy = new ethers.Contract(StrategyCurve3CRVv2, abi, prov.getSigner());\n        const gauge = new ethers.Contract(three_gauge, abi, prov.getSigner());\n        this.toggleModal();\n\n        // toggle pending request indicator\n        this.setState({pendingRequest: true});\n\n\n\n\n\n        //\n        // let stragy_balance = await threecrv.balanceOf(StrategyCurve3CRVv2)\n        // stragy_balance = convertAmountFromRawNumber(stragy_balance.toString(), 18)\n\n        // let gaug_balance = await threecrv.balanceOf(StrategyCurve3CRVv2)\n        // stragy_balance = convertAmountFromRawNumber(stragy_balance.toString(), 18)\n\n\n       // console.log(`jar.methods.testController  balance of crv is  :`, stragy_balance.toString())\n\n\n        //if(b1 > min) {\n     // let rep = await threecrv.approve(ControllerV4,utils.parseUnits('0', 18).toString())\n     //    rep = await threecrv.approve(ControllerV4,utils.parseUnits('10000', 18).toString())\n     //    console.log(`controller.approveStrategy  response :`, JSON.stringify(rep))\n      //   let rep1 = await jar.earn()\n     //    console.log(`jar.methods.withdrawAll  response :`, JSON.stringify(rep1))\n      let rep2 = await controller.earn(three_crv,90)\n      let strategy_depoist_rep = await stragy.deposit()\n       console.log(`strategy_depoist_rep is  :`, strategy_depoist_rep)\n       // }\n\n\n        this.setState({\n            pendingRequest: false,\n            result: \"ok\" || null\n        });\n\n\n    }\n\n\n    public resetApp = async () => {\n        const {web3} = this.state;\n        if (web3 && web3.currentProvider && web3.currentProvider.close) {\n            await web3.currentProvider.close();\n        }\n        await this.web3Modal.clearCachedProvider();\n        this.setState({...INITIAL_STATE});\n    };\n\n    public render = () => {\n        const {\n            assets,\n            assets2,\n            address,\n            connected,\n            chainId,\n            fetching,\n            showModal,\n            pendingRequest,\n            result\n        } = this.state;\n        return (\n            <SLayout>\n                <Column maxWidth={1000} spanHeight>\n                    <Header\n                        connected={connected}\n                        address={address}\n                        chainId={chainId}\n                        killSession={this.resetApp}\n                    />\n                    <SContent>\n                        {fetching ? (\n                            <Column center>\n                                <SContainer>\n                                    <Loader/>\n                                </SContainer>\n                            </Column>\n                        ) : !!assets && !!assets.length ? (\n                            <SBalances>\n                                <h3>Actions</h3>\n                                <Column center>\n                                    <h5></h5>\n                                    <STestButtonContainer>\n\n                                        <STestButton left onClick={() => this.setController()}>\n                                            setController\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testApprove()}>\n                                            testApprove\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testBalance()}>\n                                            testBalance\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testDeposit()}>\n                                            testDeposit\n                                        </STestButton>\n\n\n                                        <STestButton left onClick={() => this.testWithdraw()}>\n                                            testWithdraw\n                                        </STestButton>\n\n                                        <STestButton left onClick={() => this.testEarn()}>\n                                            testEarn\n                                        </STestButton>\n\n\n                                    </STestButtonContainer>\n                                </Column>\n                                <h3>Balances</h3>\n                                <AccountAssets chainId={chainId} assets={assets}/>{\" \"}\n                                <h3>Valuts Balances</h3>\n                                <AccountAssets chainId={chainId} assets={assets2}/>{\" \"}\n                            </SBalances>\n                        ) : (\n                            <SLanding center>\n                                <h3>{`Test Web3Modal`}</h3>\n                                <ConnectButton onClick={this.onConnect}/>\n                            </SLanding>\n                        )}\n                    </SContent>\n                </Column>\n                <Modal show={showModal} toggleModal={this.toggleModal}>\n                    {pendingRequest ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Pending Call Request\"}</SModalTitle>\n                            <SContainer>\n                                <Loader/>\n                                <SModalParagraph>\n                                    {\"Approve or reject request using your wallet\"}\n                                </SModalParagraph>\n                            </SContainer>\n                        </SModalContainer>\n                    ) : result ? (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Approved\"}</SModalTitle>\n                            <ModalResult>{result}</ModalResult>\n                        </SModalContainer>\n                    ) : (\n                        <SModalContainer>\n                            <SModalTitle>{\"Call Request Rejected\"}</SModalTitle>\n                        </SModalContainer>\n                    )}\n                </Modal>\n            </SLayout>\n        );\n    };\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}