{"ast":null,"code":"/**\n * A simple utility class that will check to see if a popup is blocked.\n * Derived from info and examples on this page:\n * https://stackoverflow.com/questions/2914/how-can-i-detect-if-a-browser-is-blocking-a-popup\n */\nexport class PopupValidator {\n  constructor(errorHandler) {\n    this.errorHandler = errorHandler;\n  } // Check a popup window to see if it has been blocked.\n  // The error handler will be called asynchronously if\n  // the window has been detected to have been blocked.\n\n\n  check(popup) {\n    if (popup) {\n      if (/chrome/.test(navigator.userAgent.toLowerCase())) {\n        setTimeout(() => {\n          this.isPopupBlocked(popup);\n        }, 200);\n      } else {\n        popup.onload = () => {\n          this.isPopupBlocked(popup);\n        };\n      }\n    } else {\n      this.handleBlocked();\n    }\n  }\n\n  isPopupBlocked(popup) {\n    if (popup.innerHeight > 0 === false) {\n      this.handleBlocked();\n    }\n  }\n\n  handleBlocked() {\n    this.errorHandler();\n  }\n\n}","map":{"version":3,"sources":["/Users/helen/fi/protocol-demo/frontend/node_modules/bitski/dist/esm/utils/popup-validator.js"],"names":["PopupValidator","constructor","errorHandler","check","popup","test","navigator","userAgent","toLowerCase","setTimeout","isPopupBlocked","onload","handleBlocked","innerHeight"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,cAAN,CAAqB;AACxBC,EAAAA,WAAW,CAACC,YAAD,EAAe;AACtB,SAAKA,YAAL,GAAoBA,YAApB;AACH,GAHuB,CAIxB;AACA;AACA;;;AACAC,EAAAA,KAAK,CAACC,KAAD,EAAQ;AACT,QAAIA,KAAJ,EAAW;AACP,UAAI,SAASC,IAAT,CAAcC,SAAS,CAACC,SAAV,CAAoBC,WAApB,EAAd,CAAJ,EAAsD;AAClDC,QAAAA,UAAU,CAAC,MAAM;AACb,eAAKC,cAAL,CAAoBN,KAApB;AACH,SAFS,EAEP,GAFO,CAAV;AAGH,OAJD,MAKK;AACDA,QAAAA,KAAK,CAACO,MAAN,GAAe,MAAM;AACjB,eAAKD,cAAL,CAAoBN,KAApB;AACH,SAFD;AAGH;AACJ,KAXD,MAYK;AACD,WAAKQ,aAAL;AACH;AACJ;;AACDF,EAAAA,cAAc,CAACN,KAAD,EAAQ;AAClB,QAAKA,KAAK,CAACS,WAAN,GAAoB,CAArB,KAA4B,KAAhC,EAAuC;AACnC,WAAKD,aAAL;AACH;AACJ;;AACDA,EAAAA,aAAa,GAAG;AACZ,SAAKV,YAAL;AACH;;AA/BuB","sourcesContent":["/**\n * A simple utility class that will check to see if a popup is blocked.\n * Derived from info and examples on this page:\n * https://stackoverflow.com/questions/2914/how-can-i-detect-if-a-browser-is-blocking-a-popup\n */\nexport class PopupValidator {\n    constructor(errorHandler) {\n        this.errorHandler = errorHandler;\n    }\n    // Check a popup window to see if it has been blocked.\n    // The error handler will be called asynchronously if\n    // the window has been detected to have been blocked.\n    check(popup) {\n        if (popup) {\n            if (/chrome/.test(navigator.userAgent.toLowerCase())) {\n                setTimeout(() => {\n                    this.isPopupBlocked(popup);\n                }, 200);\n            }\n            else {\n                popup.onload = () => {\n                    this.isPopupBlocked(popup);\n                };\n            }\n        }\n        else {\n            this.handleBlocked();\n        }\n    }\n    isPopupBlocked(popup) {\n        if ((popup.innerHeight > 0) === false) {\n            this.handleBlocked();\n        }\n    }\n    handleBlocked() {\n        this.errorHandler();\n    }\n}\n"]},"metadata":{},"sourceType":"module"}